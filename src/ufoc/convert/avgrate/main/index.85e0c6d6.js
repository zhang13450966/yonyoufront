/*! @ncctag {"date":"2022/7/15 下午3:07:01"} */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("nc-lightapp-front")):"function"==typeof define&&define.amd?define(["react","nc-lightapp-front"],t):"object"==typeof exports?exports["ufoc/convert/avgrate/main/index"]=t(require("react"),require("nc-lightapp-front")):e["ufoc/convert/avgrate/main/index"]=t(e.React,e["nc-lightapp-front"])}(window,(function(e,t){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="../../../../",r(r.s=634)}({125:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initTree=void 0;var n=r(39),o=r(74);var a,i,c=(a=regeneratorRuntime.mark((function e(){var t,r,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=_.get($nccStore.getSession(n.STORE.pk_group),"value"),r={pk_group:t,nodeType:(0,n.NODETYPE)(),pk_org:(0,n.PK_ORG)()},e.next=4,$nccUtil.promiseAjax(n.URL.avgRateTree,r);case 4:a=e.sent,$appRoot.props.syncTree.setSyncTreeData(n.PAGE_CONST.sortTree,a.data),i=$appRoot.props.syncTree.getTreeToList(n.PAGE_CONST.sortTree),$appRoot.props.syncTree.setSyncTreeData(n.PAGE_CONST.sortTree,$appRoot.props.syncTree.createTreeData(i)),$appRoot.props.syncTree.openNodeByPk(n.PAGE_CONST.sortTree,"root",!1),$appRoot.props.syncTree.setNodeSelected(n.PAGE_CONST.sortTree,"root"),(0,o.buttonUpdate)("no-selectTree");case 11:case"end":return e.stop()}}),e,void 0)})),i=function(){var e=a.apply(this,arguments);return new Promise((function(t,r){return function n(o,a){try{var i=e[o](a),c=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(c).then((function(e){n("next",e)}),(function(e){n("throw",e)}));t(c)}("next")}))},function(){return i.apply(this,arguments)});t.initTree=c},151:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.treeClick=void 0;t.treeClick=(n=regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_.isEmpty(r.nodeData.pk_org)||$appRoot.props.form.setFormItemsValue(a.PAGE_CONST.searchArea,{pk_org:r.nodeData.pk_org}),"2"!=(0,a.NODETYPE)()){e.next=6;break}if(n=$appRoot.props.search.getQueryInfo(a.PAGE_CONST.topRef).querycondition.conditions,!_.isEmpty(n)){e.next=6;break}return(0,u.toast)({color:"danger",content:$appRoot.state.json["183002008-000011"]}),e.abrupt("return");case 6:if($appRoot.props.form.setFormItemsDisabled(a.PAGE_CONST.searchArea,{pk_accperiod:!0}),"root"!=r.refpk){e.next=15;break}return(0,c.clear)(),e.next=11,(0,i.changeTable)(!0,!0);case 11:return(0,s.buttonUpdate)("no-selectTree"),e.abrupt("return");case 15:if("root"!=r.pid){e.next=23;break}return(0,c.clear)(),e.next=19,(0,i.changeTable)(!0,!0);case 19:return(0,s.buttonUpdate)("no-selectTree"),e.abrupt("return");case 23:return e.next=25,(0,i.changeTable)(!0,!0);case 25:return e.next=27,(0,i.avgRateQueryAcc)("0001Z000000000000001",!0,!1);case 27:return e.next=29,(0,i.avgRateTableQuery)();case 29:return(0,s.buttonUpdate)("selectTree"),e.abrupt("return");case 31:case"end":return e.stop()}}),e,this)})),o=function(){var e=n.apply(this,arguments);return new Promise((function(t,r){return function n(o,a){try{var i=e[o](a),c=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(c).then((function(e){n("next",e)}),(function(e){n("throw",e)}));t(c)}("next")}))},function(e,t){return o.apply(this,arguments)});var n,o,a=r(39),i=r(88),c=r(99),s=r(74),u=r(30)},204:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=h(r(3)),i=r(205),c=r(39),s=h(r(206)),u=h(r(207)),p=h(r(208)),l=h(r(210)),f=h(r(211)),d=h(r(214));r(215);var m=h(r(217));function h(e){return e&&e.__esModule?e:{default:e}}var v=$nccPlatform.createPage({})(n=$nccUtil.AppWrapper({lang:{resources:[{domainName:"ufoc",moduleId:"183002008"}]},use:{syncTree:[c.PAGE_CONST.sortTree],editable:[c.PAGE_CONST.adjustschemeHead],form:[c.PAGE_CONST.searchArea,c.PAGE_CONST.selectMonth],search:[c.PAGE_CONST.topRef]},changeFields:{},pageId:"",TwoPointDom:$nccStore.setDef(c.STORE.TwoPointDom,!1)})(n=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={title:"",meta:{},disabledSearch:!1,json:""},r.init(),r}var r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"init",value:(r=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.initTemplate.call(this);case 2:this.setState({title:$nccStore.getSession(c.STORE.title)});case 3:case"end":return e.stop()}}),e,this)})),n=function(){var e=r.apply(this,arguments);return new Promise((function(t,r){return function n(o,a){try{var i=e[o](a),c=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(c).then((function(e){n("next",e)}),(function(e){n("throw",e)}));t(c)}("next")}))},function(){return n.apply(this,arguments)})},{key:"render",value:function(){var e=this.state.title,t=2==$nccStore.getSession(c.STORE.nodeType)?a.default.createElement(d.default,null):null,r=a.default.createElement(p.default,null),n={modals:a.default.createElement(f.default,this.props),Buttons:r,needIcon:!0,title:e,bottomArea:a.default.createElement(m.default,{leftDom:a.default.createElement(s.default,{ref:this.sortTreeRef}),rightDom:a.default.createElement("div",{className:"flex-container",style:{height:"100%"}},a.default.createElement(l.default,null),a.default.createElement(u.default,null)),defLeftWid:"280"}),Box:t};return a.default.createElement("div",{id:"treeHeight"},a.default.createElement($nccCom.NcSingleTable,{pageConfig:n}))}}]),t}(a.default.Component))||n)||n;t.default=v},205:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initTemplate=void 0;t.initTemplate=(n=regeneratorRuntime.mark((function e(){var t,r,n,o,l,f,d,m,h,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getTemplate();case 2:return t=e.sent,r=t.template,n=t.button,o=t.context,$nccStore.setDef(a.STORE.templetid,_.get(r,"pageid")),l=_.get(o,"paramMap.nodeType"),f=_.get(o,"paramMap.orgTypeCode"),e.next=11,$nccStore.setSession(a.STORE.nodeType,l);case 11:d=this.props.getSearchParam("c"),$nccStore.setDef(a.STORE.pk_appregister,d.substring(0,9)),$nccStore.setSession(a.STORE.title,$appRoot.props.getSearchParam("n")),e.t0=l,e.next="0"===e.t0?17:"1"===e.t0?20:"2"===e.t0?23:25;break;case 17:return e.next=19,$nccStore.setSession(a.STORE.pk_org,{display:$appRoot.state.json["183002008-000005"],value:f});case 19:return e.abrupt("break",26);case 20:return e.next=22,$nccStore.setSession(a.STORE.pk_org,{display:_.get($nccPlatform.getBusinessInfo(),"groupName"),value:_.get($nccPlatform.getBusinessInfo(),"groupId")});case 22:return e.abrupt("break",26);case 23:return $nccStore.setSession(a.STORE.pk_org,{}),e.abrupt("break",26);case 25:return e.abrupt("break",26);case 26:if($nccStore.setSession(a.STORE.nodeType,l),this.props.meta.setMeta(r),this.props.button.setButtons(n),u.call(this,r),p.call(this,n),"2"==l){e.next=36;break}return e.next=34,(0,i.initTree)();case 34:e.next=40;break;case 36:return e.next=38,$nccUtil.promiseAjax(a.URL.individual_reg_set_query);case 38:null!=(m=e.sent).data&&(h=m.data.individual)&&h.forEach((function(e){if("corp"==e.code){var t=JSON.parse(_.get(e,"note"));_.isEmpty(e.m_strKeyVal.display)||_.isEmpty(_.get(t,"pk_org"))||($nccStore.setSession(a.STORE.pk_org,{display:e.m_strKeyVal.display,value:_.get(t,"pk_org")}),$appRoot.props.search.setSearchValByField(a.PAGE_CONST.topRef,"org",{value:_.get(t,"pk_org"),display:e.m_strKeyVal.display}),(0,i.initTree)())}}));case 40:return e.next=42,(0,c.changeTable)(!0,!0);case 42:(0,s.buttonUpdate)("no-selectTree"),v=$nccStore.getSession(a.STORE.pk_org),$appRoot.props.form.setFormItemsValue(a.PAGE_CONST.searchArea,{pk_org:v}),$appRoot.props.form.setFormItemsDisabled(a.PAGE_CONST.searchArea,{pk_accperiod:!0});case 46:case"end":return e.stop()}}),e,this)})),o=function(){var e=n.apply(this,arguments);return new Promise((function(t,r){return function n(o,a){try{var i=e[o](a),c=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(c).then((function(e){n("next",e)}),(function(e){n("throw",e)}));t(c)}("next")}))},function(){return o.apply(this,arguments)});var n,o,a=r(39),i=r(125),c=r(88),s=r(74);function u(e){this.props.renderItem("search",a.PAGE_CONST.topRef,"org",React.createElement($nccRefer.HBSystemMemberGridRef,{pageInfo:{pageSize:1,pageIndex:-1},queryCondition:{isShowUsual:!1}})),this.props.meta.setMeta(e)}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.props.button.setButtons(e)}},206:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(39),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(151));var i=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,React.Component),n(t,[{key:"render",value:function(){var e=this;return $appRoot.props.syncTree.createSyncTree({treeId:o.PAGE_CONST.sortTree,onSelectEve:function(){for(var t,r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=a.treeClick).call.apply(t,[e].concat(n))},showModal:!1,searchType:"filtration",disabledSearch:$appRoot.state.disabledSearch})}}]),t}();t.default=i},207:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(39);var a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.props=e,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,React.Component),n(t,[{key:"render",value:function(){return React.createElement("div",{className:"flex-container",style:{flex:"auto"}},$appRoot.props.editTable.createEditTable(o.PAGE_CONST.table,{showCheck:!1,showIndex:!0,adaptionHeight:!0}))}}]),t}();t.default=a},208:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.btnEvent=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(39),a=r(209);t.btnEvent={};var i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.buttonEvent=a.buttonEvent.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,React.Component),n(t,[{key:"render",value:function(){return $appRoot.props.button.createButtonApp({area:o.PAGE_CONST.buttons,onButtonClick:this.buttonEvent,buttonLimit:5})}}]),t}();t.default=i},209:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,a=(n=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $appRoot.props.form.clearFormValue(i.PAGE_CONST.selectMonth),t=$appRoot.props.form.getFormItemsValue(i.PAGE_CONST.searchArea,i.PAGE_CONST.pk_accperiodscheme),$appRoot.props.form.setFormItemsValue(i.PAGE_CONST.selectMonth,{pk_accperiodscheme:t}),e.next=5,(0,s.avgRateQueryAcc)(t.value,!1,!0);case 5:$appRoot.props.modal.show(i.PAGE_CONST.selectMonth,{},(function(){}));case 6:case"end":return e.stop()}}),e,this)})),o=function(){var e=n.apply(this,arguments);return new Promise((function(t,r){return function n(o,a){try{var i=e[o](a),c=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(c).then((function(e){n("next",e)}),(function(e){n("throw",e)}));t(c)}("next")}))},function(){return o.apply(this,arguments)});t.buttonEvent=function(e,t){f[t].call(this)};var i=r(39),c=r(30),s=r(88),u=r(99),p=r(125),l=r(74);var f={Modify:function(){$appRoot.props.form.setFormItemsDisabled(i.PAGE_CONST.searchArea,{pk_accperiod:!0}),$appRoot.props.editTable.setStatus(i.PAGE_CONST.table,"edit"),(0,l.buttonUpdate)("Modify")},Calculate:a,Refresh:function(){document.querySelector(".NC_syncTreeSearch input").value="",$appRoot.props.form.setFormItemsDisabled(i.PAGE_CONST.searchArea,{pk_accperiod:!0}),(0,s.changeTable)(!0,!1),(0,u.clear)(),(0,p.initTree)();var e=$nccStore.getSession(i.STORE.pk_org,e);$appRoot.props.form.setFormItemsValue(i.PAGE_CONST.searchArea,{pk_org:e}),(0,l.buttonUpdate)("no-selectTree"),(0,c.toast)({color:$nccConst.spell.success,content:$appRoot.state.json["183002008-000001"]})},Save:function(){$appRoot.props.form.setFormItemsDisabled(i.PAGE_CONST.searchArea,{pk_accperiod:!1}),(0,s.avgRateSave)(),$appRoot.props.editTable.setStatus(i.PAGE_CONST.table,"browse"),(0,l.buttonUpdate)("selectTree")},Cancel:function(){$nccPlatform.promptBox({title:$appRoot.state.json["183002008-000002"],color:"warning",content:$appRoot.state.json["183002008-000003"],beSureBtnClick:function(){$appRoot.props.form.setFormItemsDisabled(i.PAGE_CONST.searchArea,{pk_accperiod:!1});var e=$nccStore.getSession(i.STORE.tableData);null!=e?$appRoot.props.editTable.setTableData(i.PAGE_CONST.table,e.table):$appRoot.props.editTable.setTableData(i.PAGE_CONST.table,{rows:[]}),$appRoot.props.editTable.setStatus(i.PAGE_CONST.table,"browse"),(0,l.buttonUpdate)("selectTree")}})}}},210:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(3),i=(n=a)&&n.__esModule?n:{default:n},c=r(39),s=r(99);var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return $appRoot.props.form.setFormStatus(c.PAGE_CONST.searchArea,"edit"),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"render",value:function(){return $appRoot.props.form.createForm(c.PAGE_CONST.searchArea,{onAfterEvent:function(){s.onchangeTopForm.apply(void 0,arguments)}})}}]),t}(i.default.Component);t.default=u},211:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(3),a=u(o),i=r(39),c=r(212),s=u(r(213));function u(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.props=e,r.beSureBtnClick=c.beSureBtnClick.bind(r),r.cancelBtnClick=c.cancelBtnClick.bind(r),$appRoot.props.form.setFormStatus(i.PAGE_CONST.selectMonth,"edit"),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"render",value:function(){var e=this;return a.default.createElement("div",{className:"avgrate-modal"},$appRoot.props.modal.createModal(i.PAGE_CONST.selectMonth,{title:$appRoot.state.json["183002008-000000"],content:a.default.createElement("div",{className:"avgrate-modal-form"},a.default.createElement(s.default,e.props)),beSureBtnClick:this.beSureBtnClick,cancelBtnClick:this.cancelBtnClick,noFooter:!1,hasCloseBtn:!1,userControl:!0,width:"680px",height:"302px"}))}}]),t}(o.Component);t.default=p},212:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cancelBtnClick=t.beSureBtnClick=t.btnEvent=void 0;t.beSureBtnClick=(n=u(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=$appRoot.props.form.getFormItemsValue(a.PAGE_CONST.searchArea,a.PAGE_CONST.pk_accperiodscheme).value,r=$appRoot.props.form.getFormItemsValue(a.PAGE_CONST.selectMonth,a.PAGE_CONST.pk_accperiodmonth).value,n=$appRoot.props.form.getFormItemsValue(a.PAGE_CONST.selectMonth,a.PAGE_CONST.pk_accperiodmonth).display,!_.isEmpty(r)&&!_.isEmpty(n)){e.next=6;break}return(0,s.toast)({color:$nccConst.spell.danger,content:$appRoot.state.json["183002008-000008"]}),e.abrupt("return");case 6:if(!_.isEmpty(t)){e.next=9;break}return(0,s.toast)({color:$nccConst.spell.danger,content:$appRoot.state.json["183002008-000009"]}),e.abrupt("return");case 9:return e.next=11,(0,i.calculate)();case 11:$appRoot.props.modal.close(a.PAGE_CONST.selectMonth),$appRoot.props.editTable.setStatus(a.PAGE_CONST.table,"edit"),$appRoot.props.form.setFormItemsDisabled(a.PAGE_CONST.searchArea,{pk_accperiod:!0}),(0,c.buttonUpdate)("Modify");case 15:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)}),t.cancelBtnClick=(o=u(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$appRoot.props.modal.close(a.PAGE_CONST.selectMonth);case 1:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)});var n,o,a=r(39),i=r(88),c=r(74),s=r(30);function u(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,r){return function n(o,a){try{var i=t[o](a),c=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(c).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(c)}("next")}))}}t.btnEvent={}},213:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(3),i=(n=a)&&n.__esModule?n:{default:n},c=r(39);r(99);var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.props=e,r}var r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:(r=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={queryCondition:{pk_keygroup:"00000000000000000010",pk_accperiodscheme:$appRoot.props.form.getFormItemsValue(c.PAGE_CONST.selectMonth,c.PAGE_CONST.pk_accperiodscheme).value,pk_accperiod:$appRoot.props.form.getFormItemsValue(c.PAGE_CONST.searchArea,c.PAGE_CONST.pk_accperiod).value}},$appRoot.props.renderItem("form",c.PAGE_CONST.selectMonth,c.PAGE_CONST.pk_accperiodmonth,i.default.createElement($nccRefer.AccPeriodUFOERef,t));case 2:case"end":return e.stop()}}),e,this)})),n=function(){var e=r.apply(this,arguments);return new Promise((function(t,r){return function n(o,a){try{var i=e[o](a),c=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(c).then((function(e){n("next",e)}),(function(e){n("throw",e)}));t(c)}("next")}))},function(){return n.apply(this,arguments)})},{key:"render",value:function(){return $appRoot.props.form.createForm(c.PAGE_CONST.selectMonth,{})}}]),t}(i.default.Component);t.default=s},214:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(39),a=r(125),i=r(151);var c=function(e){function t(e){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,c,s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return s.onFormAfter=(n=regeneratorRuntime.mark((function e(){var t,n,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={display:_.get(c.length<=1?void 0:c[1],"refname"),value:_.get(c.length<=1?void 0:c[1],"refpk")},e.next=3,$nccStore.setSession(o.STORE.pk_org,t);case 3:return e.next=5,(0,a.initTree)();case 5:$appRoot.props.form.setFormItemsValue(o.PAGE_CONST.searchArea,{pk_org:t}),n=$appRoot.props.syncTree.getSelectNode(o.PAGE_CONST.sortTree),(0,i.treeClick)("",n);case 8:case"end":return e.stop()}}),e,r)})),c=function(){var e=n.apply(this,arguments);return new Promise((function(t,r){return function n(o,a){try{var i=e[o](a),c=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(c).then((function(e){n("next",e)}),(function(e){n("throw",e)}));t(c)}("next")}))},function(){return c.apply(this,arguments)}),s.props=e,s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,React.Component),n(t,[{key:"render",value:function(){return $appRoot.props.search.NCCreateSearch(o.PAGE_CONST.topRef,{showSearchBtn:!1,showSearchLable:!1,showClearBtn:!1,showAdvBtn:!1,onAfterEvent:this.onFormAfter})}}]),t}();t.default=c},215:function(e,t,r){var n=r(216);"string"==typeof n&&(n=[[e.i,n,""]]);var o={transform:void 0};r(36)(n,o);n.locals&&(e.exports=n.locals)},216:function(e,t,r){(e.exports=r(35)(!1)).push([e.i,"#sortTree .blue-node {\n  color: #0073E1!important;\n}\n#sortTree .red-node {\n  color: #FF6100!important;\n}\n#sortTree .green-node {\n  color: #00CB7C!important;\n}\n#treeHeight .nc-single-table .dragWidthCom_left .syncTreeCom {\n  height: calc(98%) !important;\n}\n.simple_table_top {\n  padding: 3px 0px 8px 10px;\n  background-color: #fff;\n}\n.search-area-contant-margin {\n  padding-top: 0px;\n}\n",""])},217:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{!n&&c.return&&c.return()}finally{if(o)throw a}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.default=function(e){var t=e.leftDom,r=void 0===t?function(){}:t,a=e.rightDom,i=void 0===a?function(){}:a,c=e.defLeftWid,s=void 0===c?280:c,u=e.onDragStop,p=void 0===u?function(){}:u,l=e.onAfter,f=void 0===l?function(){}:l,d=e.defRightWid,m=void 0===d?0:d,h=e.onLayoutChange,v=void 0===h?function(){}:h,b=(0,o.useRef)(),_=(0,o.useRef)(),y=(0,o.useRef)(),g=(0,o.useRef)(),T=(0,o.useRef)(),R=(0,o.useState)(!0),S=n(R,2),O=S[0],E=S[1],P=(0,o.useState)(!0),C=n(P,2),k=C[0],w=C[1],A=(0,o.useState)(""),x=n(A,2),N=x[0],$=x[1];return(0,o.useEffect)((function(){var e=!1,t=_.current.clientWidth,r=0,n=s+"px";m>0&&(n="calc(100% - "+m+"px)",E(!1)),$(n),document.addEventListener("mousemove",(function(n){if(e){var o=t+(n.clientX-r);o>=b.current.clientWidth-20||o<=50?_.current.style.width=_.current.clientWidth+"px":_.current.style.width=o+"px"}})),document.addEventListener("mouseup",(function(){e&&(e=!1,t=_.current.clientWidth,$(t),y.current.style.display="none",g.current.style.display="none",p(),v())})),T.current.addEventListener("mousedown",(function(n){r=t,e=!0,y.current.style.display="block",g.current.style.display="block"}))}),[]),(0,o.useEffect)((function(){f(k),v()}),[k]),React.createElement("div",{className:"dragWidthCom epmp",ref:b},React.createElement("div",{className:"dragWidthCom_left",style:{width:k?N:O?"0px":"100%"},ref:_},React.createElement("div",{className:"dragWidthCom_mask",ref:g}),React.createElement("div",{className:"button iconfont "+(O?"button-left "+(k?"icon-jiantouzuo":"icon-jiantouyou"):"button-right  "+(k?"icon-jiantouyou":"icon-jiantouzuo")),onClick:function(){w(!k)}}),r),React.createElement("div",{ref:T,className:"dragWidthCom_line",style:{display:k?"block":"none"}},React.createElement("div",{className:"dragWidthCom_lines"})),React.createElement("div",{className:"dragWidthCom_right",id:"scroll_container"},React.createElement("div",{className:"dragWidthCom_mask",ref:y}),i))};var o=r(3);r(218)},218:function(e,t,r){var n=r(219);"string"==typeof n&&(n=[[e.i,n,""]]);var o={transform:void 0};r(36)(n,o);n.locals&&(e.exports=n.locals)},219:function(e,t,r){(e.exports=r(35)(!1)).push([e.i,".twoPointDom_left_container {\n  height: 100%;\n  width: 100%;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-flow: row;\n          flex-flow: row;\n}\n.twoPointDom_left_container .twoPointDom_left_wraper {\n  height: 100%;\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  overflow: auto;\n}\n.twoPointDom_left_container .twoPointDom_left_popMenu {\n  height: 100%;\n  position: relative;\n  border-right: 1px solid #eaeaea;\n}\n.twoPointDom_left_container .twoPointDom_left_popMenu .popMenu_content {\n  height: 100%;\n  overflow: hidden;\n}\n.dragWidthCom.epmp .dragWidthCom_left {\n  position: relative;\n  overflow: inherit;\n  min-width: 0;\n}\n.dragWidthCom.epmp .dragWidthCom_left .button {\n  height: 64px;\n  width: 14px;\n  position: absolute;\n  top: 50%;\n  right: 0;\n  background-color: #f5f5f5;\n  text-align: center;\n  line-height: 64px;\n  -webkit-transform: translateY(-50%) translateX(14px);\n          transform: translateY(-50%) translateX(14px);\n  border: 1px solid #dddfe1;\n  cursor: pointer;\n  border-top-right-radius: 3px;\n  border-bottom-right-radius: 3px;\n  z-index: 200;\n  font-size: 14px;\n}\n.dragWidthCom.epmp .dragWidthCom_left .button:hover {\n  border: 1px solid #0073e1;\n  border-left: none;\n}\n.dragWidthCom.epmp .dragWidthCom_left .button.button-left {\n  right: 0;\n}\n.dragWidthCom.epmp .dragWidthCom_left .button.button-right {\n  right: 20px;\n  border-right-color: transparent;\n}\n#scroll_container {\n  margin: 10px 12px 0 !important;\n  height: calc(100% - 12px) !important;\n  overflow: hidden !important;\n  -webkit-box-sizing: border-box !important;\n          box-sizing: border-box !important;\n  border-radius: 5px !important;\n}\n.cardTable-wrapper.cardTable-close {\n  padding: 0 !important;\n}\n.right_bottom_table {\n  margin-top: 10px;\n}\n",""])},3:function(t,r){t.exports=e},30:function(e,r){e.exports=t},35:function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=function(e,t){var r=e[1]||"",n=e[3];if(!n)return r;if(t&&"function"==typeof btoa){var o=(i=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),a=n.sources.map((function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"}));return[r].concat(a).concat([o]).join("\n")}var i;return[r].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r})).join("")},t.i=function(e,r){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},o=0;o<this.length;o++){var a=this[o][0];"number"==typeof a&&(n[a]=!0)}for(o=0;o<e.length;o++){var i=e[o];"number"==typeof i[0]&&n[i[0]]||(r&&!i[2]?i[2]=r:r&&(i[2]="("+i[2]+") and ("+r+")"),t.push(i))}},t}},36:function(e,t,r){var n,o,a={},i=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=n.apply(this,arguments)),o}),c=function(e){var t={};return function(r){return void 0===t[r]&&(t[r]=e.call(this,r)),t[r]}}((function(e){return document.querySelector(e)})),s=null,u=0,p=[],l=r(65);function f(e,t){for(var r=0;r<e.length;r++){var n=e[r],o=a[n.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](n.parts[i]);for(;i<n.parts.length;i++)o.parts.push(_(n.parts[i],t))}else{var c=[];for(i=0;i<n.parts.length;i++)c.push(_(n.parts[i],t));a[n.id]={id:n.id,refs:1,parts:c}}}}function d(e,t){for(var r=[],n={},o=0;o<e.length;o++){var a=e[o],i=t.base?a[0]+t.base:a[0],c={css:a[1],media:a[2],sourceMap:a[3]};n[i]?n[i].parts.push(c):r.push(n[i]={id:i,parts:[c]})}return r}function m(e,t){var r=c(e.insertInto);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=p[p.length-1];if("top"===e.insertAt)n?n.nextSibling?r.insertBefore(t,n.nextSibling):r.appendChild(t):r.insertBefore(t,r.firstChild),p.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");r.appendChild(t)}}function h(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=p.indexOf(e);t>=0&&p.splice(t,1)}function v(e){var t=document.createElement("style");return e.attrs.type="text/css",b(t,e.attrs),m(e,t),t}function b(e,t){Object.keys(t).forEach((function(r){e.setAttribute(r,t[r])}))}function _(e,t){var r,n,o,a;if(t.transform&&e.css){if(!(a=t.transform(e.css)))return function(){};e.css=a}if(t.singleton){var i=u++;r=s||(s=v(t)),n=T.bind(null,r,i,!1),o=T.bind(null,r,i,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",b(t,e.attrs),m(e,t),t}(t),n=S.bind(null,r,t),o=function(){h(r),r.href&&URL.revokeObjectURL(r.href)}):(r=v(t),n=R.bind(null,r),o=function(){h(r)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=i()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var r=d(e,t);return f(r,t),function(e){for(var n=[],o=0;o<r.length;o++){var i=r[o];(c=a[i.id]).refs--,n.push(c)}e&&f(d(e,t),t);for(o=0;o<n.length;o++){var c;if(0===(c=n[o]).refs){for(var s=0;s<c.parts.length;s++)c.parts[s]();delete a[c.id]}}}};var y,g=(y=[],function(e,t){return y[e]=t,y.filter(Boolean).join("\n")});function T(e,t,r,n){var o=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=g(t,o);else{var a=document.createTextNode(o),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(a,i[t]):e.appendChild(a)}}function R(e,t){var r=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}function S(e,t,r){var n=r.css,o=r.sourceMap,a=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||a)&&(n=l(n)),o&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var i=new Blob([n],{type:"text/css"}),c=e.href;e.href=URL.createObjectURL(i),c&&URL.revokeObjectURL(c)}},39:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="/nccloud/ufoc/avgrate",o={avgRateTree:n+"/avgRateTree.do",avgRateQueryAcc:n+"/avgRateQueryAcc.do",avgRateTableQuery:n+"/avgRateTableQuery.do",avgRateQueryCol:n+"/avgRateQueryCol.do",avgRateQueryRateDigit:n+"/avgRateQueryRateDigit.do",avgRateSave:n+"/avgRateSave.do",avgRateCalculate:n+"/avgRateCalculate.do",individual_reg_set_query:"/nccloud/ufoc/individual/queryIndividualRegSet.do"},a={accperiodMonth:"accperiodMonth",tableData:"tableData",title:"title",nodeType:"nodeType",avgrate:"avgrate"};t.PAGE_CONST={table:"table",searchArea:"searchArea",sortTree:"sortTree",buttons:"nav-bar-son",GLOBEORG:"GLOBLE00000000000000",pk_accperiodmonth:"pk_accperiodmonth",selectMonth:"selectMonth",pk_accperiod:"pk_accperiod",pk_accperiodscheme:"pk_accperiodscheme",pk_currinfo:"pk_currinfo",pk_org:"pk_org",nodeType:"nodeType",topRef:"topRef",avgrate:"avgrate"},t.URL=o,t.STORE=a,t.PK_ORG=function(){return $nccStore.getSession(a.pk_org)?$nccStore.getSession(a.pk_org).value:""},t.NODETYPE=function(){return $nccStore.getSession(a.nodeType)}},634:function(e,t,r){"use strict";var n,o=r(635),a=(n=o)&&n.__esModule?n:{default:n};(0,$nccPlatform.RenderRouter)(a.default,"app")},635:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(204),a=(n=o)&&n.__esModule?n:{default:n};$nccPlatform.asyncComponent;var i=[{path:"/",component:a.default,exact:!0},{path:"/list",component:a.default}];t.default=i},65:function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var r=t.protocol+"//"+t.host,n=r+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var o,a=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(a)?e:(o=0===a.indexOf("//")?a:0===a.indexOf("/")?r+a:n+a.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")}))}},74:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buttonUpdate=function(e){var t=$appRoot.props.button,r=t.setButtonDisabled,o=t.setButtonVisible;o(["Modify","Calculate","Refresh","Save","Cancel"],!1);var a=[],i={Modify:!1,Calculate:!1,Refresh:!1,Save:!1,Cancel:!1};o(a,!1),"no-selectTree"==e?($appRoot.props.syncTree.setNodeDisable(n.PAGE_CONST.sortTree,!1),$appRoot.setState({disabledSearch:!1}),a=["Modify","Calculate","Refresh"],Object.assign(i,{Modify:!0,Calculate:!0,Refresh:!1})):"selectTree"==e?($appRoot.props.syncTree.setNodeDisable(n.PAGE_CONST.sortTree,!1),$appRoot.setState({disabledSearch:!1}),a=["Modify","Calculate","Refresh"],Object.assign(i,{Modify:!1,Calculate:!1,Refresh:!1})):"Modify"==e&&($appRoot.props.syncTree.setNodeDisable(n.PAGE_CONST.sortTree,!0),$appRoot.setState({disabledSearch:!0}),a=["Save","Cancel"],Object.assign(i,{Save:!1,Cancel:!1}));o(a,!0),r(i)};var n=r(39)},88:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changeTable=t.avgRateQueryAcc=t.avgRateTableQuery=t.avgRateSave=t.calculate=t.queryIndividualRegSet=void 0;t.queryIndividualRegSet=(n=d(regeneratorRuntime.mark((function e(){var t,r,n,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$nccUtil.promiseAjax(p.URL.individual_reg_set_query);case 2:if(null!=(t=e.sent).data){e.next=5;break}return e.abrupt("return",null);case 5:return r=t.data.individual,n=null,r&&(n={},o=[],a=[],r.forEach((function(e){if("pk_hbscheme"==e.code){n.pk_hbschemeObj=e.m_strKeyVal,n.pk_hbscheme=e.m_strKeyVal.value,n.pk_keygroup=e.pk_keyword;var t=JSON.parse(e.note);n.pk_repmanastru=t.pk_rcs.value,n.pk_svid=t.pk_rcsmember,n.pk_adjustscheme=t.pk_adjustscheme,n.isaddadjust=t.isaddadjust}else if(o.push(e),a.push([e.code,e.m_strKeyVal]),"corp"==e.code){var r=JSON.parse(e.note);n.corpString=[r.pk_org].toString()}})),n.keyWordRefInfo=o,n.keyWordRefInfo_val=a),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)}),t.calculate=(o=d(regeneratorRuntime.mark((function e(){var t,r,n,o,a,i,c,s,u,l,f,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t={})[p.PAGE_CONST.pk_org]=(0,p.PK_ORG)(),t[p.PAGE_CONST.nodeType]=(0,p.NODETYPE)(),r=$appRoot.props.syncTree.getSelectNode(p.PAGE_CONST.sortTree).id,n=$appRoot.props.form.getFormItemsValue(p.PAGE_CONST.searchArea,p.PAGE_CONST.pk_accperiod).value,o=$appRoot.props.form.getFormItemsValue(p.PAGE_CONST.searchArea,p.PAGE_CONST.pk_accperiodscheme).value,t[p.PAGE_CONST.pk_accperiodscheme]=o,t[p.PAGE_CONST.pk_accperiod]=n,t[p.PAGE_CONST.pk_currinfo]=r,a=$appRoot.props.form.getFormItemsValue(p.PAGE_CONST.selectMonth,p.PAGE_CONST.pk_accperiodmonth).value,i=$appRoot.props.form.getFormItemsValue(p.PAGE_CONST.selectMonth,p.PAGE_CONST.pk_accperiodmonth).display,c=[],7==i.length?c=i.split("-"):2==i.length&&(c[0]=i,c[1]=i),s=parseInt(c[1])-1,t[p.PAGE_CONST.pk_accperiodmonth]=a,e.next=17,$nccUtil.promiseAjax(p.URL.avgRateCalculate,t);case 17:u=e.sent,l=u.success,f=u.data,u.message,l&&null!=f&&(d=[{index:s,data:{status:"1",values:{monthrate:f.table.rows[0].values.monthrate,quarterrate:f.table.rows[0].values.quarterrate,halfyearrate:f.table.rows[0].values.halfyearrate,yearrate:f.table.rows[0].values.yearrate}}}],$appRoot.props.editTable.updateDataByIndexs(p.PAGE_CONST.table,d));case 20:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)}),t.avgRateSave=(a=d(regeneratorRuntime.mark((function e(){var t,r,n,o,a,i,c,s,f,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=$appRoot.props.getPageCode(),(r={})[p.PAGE_CONST.pk_org]=(0,p.PK_ORG)(),r[p.PAGE_CONST.nodeType]=(0,p.NODETYPE)(),n=$appRoot.props.syncTree.getSelectNode(p.PAGE_CONST.sortTree).id,o=$appRoot.props.form.getFormItemsValue(p.PAGE_CONST.searchArea,p.PAGE_CONST.pk_accperiod).value,a=$appRoot.props.form.getFormItemsValue(p.PAGE_CONST.searchArea,p.PAGE_CONST.pk_accperiodscheme).value,i=$nccStore.getDef(p.STORE.avgrate),r[p.PAGE_CONST.pk_accperiodscheme]=a,r[p.PAGE_CONST.pk_accperiod]=o,r[p.PAGE_CONST.pk_currinfo]=n,r[p.PAGE_CONST.avgrate]=i,c={model:$appRoot.props.editTable.getAllData(p.PAGE_CONST.table),pageid:t},r.listVO_grid=c,e.next=16,$nccUtil.promiseAjax(p.URL.avgRateSave,r);case 16:s=e.sent,f=s.success,d=s.data,s.message,f&&((0,l.toast)({color:$nccConst.spell.success,content:$appRoot.state.json["183002008-000010"]}),null!=d&&u());case 19:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)});var n,o,a,i,c,s,u=t.avgRateTableQuery=(i=d(regeneratorRuntime.mark((function e(){var t,r,n,o,a,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $appRoot.props.editTable.setTableData(p.PAGE_CONST.table,{rows:[]}),(t={})[p.PAGE_CONST.pk_org]=(0,p.PK_ORG)(),t[p.PAGE_CONST.nodeType]=(0,p.NODETYPE)(),r=$appRoot.props.syncTree.getSelectNode(p.PAGE_CONST.sortTree).id,n=$appRoot.props.form.getFormItemsValue(p.PAGE_CONST.searchArea,p.PAGE_CONST.pk_accperiod).value,o=$appRoot.props.form.getFormItemsValue(p.PAGE_CONST.searchArea,p.PAGE_CONST.pk_accperiodscheme).value,t[p.PAGE_CONST.pk_accperiodscheme]=o,t[p.PAGE_CONST.pk_accperiod]=n,t[p.PAGE_CONST.pk_currinfo]=r,e.next=12,$nccUtil.promiseAjax(p.URL.avgRateTableQuery,t);case 12:a=e.sent,i=a.success,c=a.data,a.message,$nccStore.setSession(p.STORE.tableData,c),i&&(null!=c?$appRoot.props.editTable.setTableData(p.PAGE_CONST.table,c.table):$appRoot.props.editTable.setTableData(p.PAGE_CONST.table,{rows:[]})),(0,f.buttonUpdate)("selectTree");case 17:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)}),p=(t.avgRateQueryAcc=(c=d(regeneratorRuntime.mark((function e(t,r,n){var o,a,i,c,s,u,l,f,d,m,h,v,b;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=!r,a={display:"",value:""},i={display:"",value:""},c={display:"",value:""},s=$appRoot.props.form.getFormItemsValue(p.PAGE_CONST.searchArea,p.PAGE_CONST.pk_accperiod).display,u=$nccPlatform.getBusinessInfo().businessDate.substring(0,10),l="",u.substring(0,4)==s?l=u.substring(0,7):_.isEmpty(s)||(l=s+"-"+u.substring(5,7)),f={pk_accperiodscheme:t},"0001Z000000000000001"!=t||!o){e.next=14;break}return e.next=12,$nccUtil.promiseAjax(p.URL.individual_reg_set_query);case 12:null!=(d=e.sent).data&&(m=d.data.individual)&&m.forEach((function(e){"date"==e.code&&(_.isEmpty(e.m_strKeyVal.display)||(l=e.m_strKeyVal.display.substring(0,4)==s?10==e.m_strKeyVal.display.length?e.m_strKeyVal.display.substring(0,7):e.m_strKeyVal.display:u.substring(0,4)==s?u.substring(0,7):""))}));case 14:if(h="",!o||!_.isEmpty(l)){e.next=17;break}return e.abrupt("return");case 17:return f[p.PAGE_CONST.pk_accperiodmonth]=l,e.next=20,$nccUtil.promiseAjax(p.URL.avgRateQueryAcc,f);case 20:v=e.sent,(h=v.data)&&(b=h.searchArea.rows[0].values,i=b.pk_accperiod,a=b.pk_accperiodscheme,o&&(c.value=b.pk_accperiodmonth.value,7==f[p.PAGE_CONST.pk_accperiodmonth].length&&(c.display=f[p.PAGE_CONST.pk_accperiodmonth]))),""!=a&&(console.log("pk_accperiodschemeS:"+a),$appRoot.props.form.setFormItemsValue(p.PAGE_CONST.searchArea,{pk_accperiodscheme:a})),r&&""!=i&&($appRoot.props.form.setFormItemsValue(p.PAGE_CONST.searchArea,{pk_accperiod:i}),$appRoot.props.form.setFormItemsDisabled(p.PAGE_CONST.searchArea,{pk_accperiod:!1})),o&&""!=c?$appRoot.props.form.setFormItemsValue(p.PAGE_CONST.selectMonth,{pk_accperiodmonth:c}):n&&""==c&&$appRoot.props.form.setFormItemsValue(p.PAGE_CONST.selectMonth,{pk_accperiodmonth:{display:null,value:null}});case 26:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return c.apply(this,arguments)}),t.changeTable=(s=d(regeneratorRuntime.mark((function e(t,r){var n,o,a,i,c,s,u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=$appRoot.props.syncTree.getSelectNode(p.PAGE_CONST.sortTree),!_.isEmpty(n)){e.next=3;break}return e.abrupt("return");case 3:return o={pk_currinfo:n.id},e.next=6,$nccUtil.promiseAjax(p.URL.avgRateQueryCol);case 6:return a=e.sent,e.next=9,$nccUtil.promiseAjax(p.URL.avgRateQueryRateDigit,o);case 9:i=e.sent,c=a.data,s=i.data,r&&$nccStore.setDef(p.STORE.avgrate,null==s?null:s.ratedigit),u=JSON.parse($appRoot.$meta),(l=u.template).table.items.forEach((function(e){t&&(_.isEmpty(c)||"rate"!=e.attrcode.substring(0,4)||_.isEmpty(c[e.attrcode])||_.isEmpty(c[e.attrcode].name)||(null!=c[e.attrcode]&&null!=c[e.attrcode]?(e.label=c[e.attrcode].name,e.visible=!0):e.visible=!1)),r&&(e.attrcode==p.PAGE_CONST.pk_accperiodmonth||_.isEmpty(s)||_.isEmpty(s.ratedigit)||(e.scale=s.ratedigit))})),$appRoot.props.meta.setMeta(l);case 16:case"end":return e.stop()}}),e,this)}))),function(e,t){return s.apply(this,arguments)}),r(39)),l=r(30),f=r(74);function d(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,r){return function n(o,a){try{var i=t[o](a),c=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(c).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(c)}("next")}))}}},99:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setTopReferValue=t.setTopRefer=t.clear=t.onchangeTopForm=t.onchangeBeforeForm=t.onchangeAfterForm=void 0;t.onchangeAfterForm=(n=m(regeneratorRuntime.mark((function e(t,r,n,o,a,i,c){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e,this)}))),function(e,t,r,o,a,i,c){return n.apply(this,arguments)}),t.onchangeBeforeForm=(o=m(regeneratorRuntime.mark((function e(t,r,n,o,a,i,c){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n,a,i,c){return o.apply(this,arguments)}),t.onchangeTopForm=(a=m(regeneratorRuntime.mark((function e(t,r,n,o,a,i,c){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_.isEmpty(o.value)&&(u(),(0,f.buttonUpdate)("no-selectTree")),_.isEmpty(o.values.pk_accperiodscheme)){e.next=5;break}return e.next=4,(0,d.avgRateQueryAcc)(o.values.pk_accperiodscheme.value,!1,!1);case 4:(0,d.avgRateTableQuery)();case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n,o,i,c){return a.apply(this,arguments)});var n,o,a,i,c,s,u=t.clear=(i=m(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$appRoot.props.form.setFormItemsValue(l.PAGE_CONST.searchArea,{pk_accperiod:{}}),$appRoot.props.form.setFormItemsValue(l.PAGE_CONST.searchArea,{pk_accperiodscheme:{}}),$appRoot.props.editTable.setTableData(l.PAGE_CONST.table,{rows:[]});case 3:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)}),p=(t.setTopRefer=(c=m(regeneratorRuntime.mark((function e(){var t,r,n,o,a,i,c,s,u,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!$nccStore.getDef(l.STORE.listData)){e.next=9;break}t=$nccStore.getDef(l.STORE.businessObj),(r=$nccStore.getDef(l.STORE.orgObj))&&Object.assign(t,{orgNeedShow:!0,refOrgValue:r}),renderCategory(),$appRoot.TopReferArea.topReferChange(t),e.next=23;break;case 9:return e.next=11,$nccUtil.promiseAjax(l.URL.queryBusiProp);case 11:(n=e.sent).data,o=n.data,a=o.isEnable,i=o.pk_busiprop,c=o.busiPropCode,s=o.busiPropName,$nccStore.setDef(l.STORE.businessPk,i),u={needShow:a,refValue:{refname:s,refpk:i,refcode:c}},$nccStore.setDef(l.STORE.businessPk,i),$nccStore.setDef(l.STORE.businessObj,u),(f=(0,l.PK_ORG)())||(u.orgNeedShow=!0),renderCategory(),$appRoot.TopReferArea.topReferChange(u),!f&&p();case 23:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)}),t.setTopReferValue=(s=m(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$nccUtil.promiseAjax(l.URL.individual_reg_set_query);case 2:t=e.sent,(r=t.data.repOrgRef)&&$nccStore.setDef(l.STORE.pk_org,r.refpk),r&&$nccStore.setDef(l.STORE.orgObj,r),r&&$appRoot.TopReferArea.topReferChange({refOrgValue:r}),!r&&(0,f.buttonUpdate)("listInit"),queryTreeData();case 9:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)}));t.produceParents=function(e){var t=new Set;(function e(r){var n=$appRoot.props.syncTree.getSyncTreeValue(l.PAGE_CONST.sortTree,r);n&&n.pid&&(t.add(n.pid),e(n.pid))})(e),t=[].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(t)).reverse(),$appRoot.props.syncTree.openNodeByPk(l.PAGE_CONST.sortTree,t),$appRoot.props.syncTree.setNodeSelected(l.PAGE_CONST.sortTree,e),(0,f.buttonUpdate)("ordinary")};var l=r(39),f=r(74),d=r(88);function m(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,r){return function n(o,a){try{var i=t[o](a),c=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(c).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(c)}("next")}))}}}})}));
//# sourceMappingURL=index.85e0c6d6.js.map
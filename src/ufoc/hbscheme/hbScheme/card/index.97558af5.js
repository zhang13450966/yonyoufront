/*! @ncctag {"date":"2022/7/15 下午3:11:37"} */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("nc-lightapp-front")):"function"==typeof define&&define.amd?define(["react","nc-lightapp-front"],t):"object"==typeof exports?exports["ufoc/hbscheme/hbScheme/card/index"]=t(require("react"),require("nc-lightapp-front")):e["ufoc/hbscheme/hbScheme/card/index"]=t(e.React,e["nc-lightapp-front"])}(window,(function(e,t){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="../../../../",r(r.s=32)}([function(t,r){t.exports=e},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URLS=t.BUTTONS=t.FORMS=t.TABLES=t.MODALS=t.STORE=t.PAGE_CONST=t.CARD_STATE=void 0;var n=r(2);t.CARD_STATE={Add:"Add",Edit:"Edit",Copy:"Copy",Detail:"Detail"},t.PAGE_CONST=n.PAGE_CONST,t.STORE=n.STORE,t.MODALS={SelectReportSample:"SelectReportSample",SelectAuditPlan:"SelectAuditPlan",workdrafttemp:"workdrafttemp",applyTask:"applyTask"},t.TABLES={reportSelection:"reportSelection",auditPlan:"auditPlan",workdrafttemp:"workdrafttemp",applyTask:"applyTask"},t.FORMS={cardHead:"cardHead"},t.BUTTONS={Head:{Head:"Head",SaveBox:"SaveBox",Save:"Save",SaveAdd:"SaveAdd",Cancel:"Cancel",HandleBox:"HandleBox",Add:"Add",Edit:"Edit",Delete:"Delete",Copy:"Copy",BtnSelect:"BtnSelect",Enable:"Enable",Disable:"Disable",Mappingcheck:"Mappingcheck",applyTask:"applyTask"},Refresh:{Refresh:"Refresh"},SelectReportSampleHead:{SelectReportSampleHead:"SelectReportSampleHead",SelectReportSample:"SelectReportSample"},SelectAuditPlanHead:{SelectAuditPlanHead:"SelectAuditPlanHead",SelectAuditPlan:"SelectAuditPlan"},workdrafttempHead:{workdrafttempHead:"workdrafttempHead",workdrafttemp:"workdrafttemp"}},t.URLS=n.URLS},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="/nccloud/ufoc/hbscheme",a={hbSchemeQuery:n+"/hbSchemeQuery.do",hbSchemeStopAndStart:n+"/hbSchemeStopAndStart.do",hbSchemeDelete:n+"/hbSchemeDelete.do",hbSchemeCheckMap:n+"/hbSchemeCheckMap.do",hbSchemeApplyTask:n+"/hbSchemeApplyTask.do",qryWorkDraftTemp:n+"/qryWorkDraftTemp.do",qryCheckSchemaForHbscheme:n+"/qryCheckSchemaForHbscheme.do",qryReportForHbScheme:n+"/qryReportForHbScheme.do",hbSchemeAdd:n+"/hbSchemeAdd.do",hbSchemeModify:n+"/hbSchemeModify.do",hbSchemeCopy:n+"/hbSchemeCopy.do",hbSchemeCardQuery:n+"/hbSchemeCardQuery.do",hbSchemeApplyTaskOK:n+"/hbSchemeApplyTaskOK.do"};t.PAGE_CONST={cardPath:"/card",listPath:"/list",pageCode:{list:"183001504A_list",card:"183001504A_card"},pk_hbscheme:"pk_hbscheme",dataSource:"ufoc.hbscheme.hbScheme.list"},t.MODALS={checkMap:"checkMap"},t.TABLES={checkMap:"checkMap"},t.URLS=a,t.BUTTONS={MappingcheckHead:{MappingcheckHead:"MappingcheckHead",MappingcheckRefresh:"MappingcheckRefresh",DefineMapping:"DefineMapping"}},t.STORE={nodeType:"nodeType",title:"title"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STORE=t.URLS=t.PAGE_CONST=t.MODALS=t.BUTTONS=t.FORMS=t.TABLES=void 0;var n=r(2);t.TABLES={list:"list"},t.FORMS={},t.BUTTONS={Head:{Head:"Head",Add:"Add",Edit:"Edit",Delete:"Delete",Copy:"Copy",Refresh:"Refresh",Disable:"Disable",Mappingcheck:"Mappingcheck",Enable:"Enable"}},t.MODALS={},t.PAGE_CONST=n.PAGE_CONST,t.URLS=n.URLS,t.STORE=n.STORE},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=function(e,t){var r=e[1]||"",n=e[3];if(!n)return r;if(t&&"function"==typeof btoa){var a=(c=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(c))))+" */"),o=n.sources.map((function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"}));return[r].concat(o).concat([a]).join("\n")}var c;return[r].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r})).join("")},t.i=function(e,r){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},a=0;a<this.length;a++){var o=this[a][0];"number"==typeof o&&(n[o]=!0)}for(a=0;a<e.length;a++){var c=e[a];"number"==typeof c[0]&&n[c[0]]||(r&&!c[2]?c[2]=r:r&&(c[2]="("+c[2]+") and ("+r+")"),t.push(c))}},t}},function(e,t,r){var n,a,o={},c=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===a&&(a=n.apply(this,arguments)),a}),i=function(e){var t={};return function(r){return void 0===t[r]&&(t[r]=e.call(this,r)),t[r]}}((function(e){return document.querySelector(e)})),u=null,s=0,l=[],p=r(11);function d(e,t){for(var r=0;r<e.length;r++){var n=e[r],a=o[n.id];if(a){a.refs++;for(var c=0;c<a.parts.length;c++)a.parts[c](n.parts[c]);for(;c<n.parts.length;c++)a.parts.push(S(n.parts[c],t))}else{var i=[];for(c=0;c<n.parts.length;c++)i.push(S(n.parts[c],t));o[n.id]={id:n.id,refs:1,parts:i}}}}function f(e,t){for(var r=[],n={},a=0;a<e.length;a++){var o=e[a],c=t.base?o[0]+t.base:o[0],i={css:o[1],media:o[2],sourceMap:o[3]};n[c]?n[c].parts.push(i):r.push(n[c]={id:c,parts:[i]})}return r}function h(e,t){var r=i(e.insertInto);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=l[l.length-1];if("top"===e.insertAt)n?n.nextSibling?r.insertBefore(t,n.nextSibling):r.appendChild(t):r.insertBefore(t,r.firstChild),l.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");r.appendChild(t)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=l.indexOf(e);t>=0&&l.splice(t,1)}function v(e){var t=document.createElement("style");return e.attrs.type="text/css",b(t,e.attrs),h(e,t),t}function b(e,t){Object.keys(t).forEach((function(r){e.setAttribute(r,t[r])}))}function S(e,t){var r,n,a,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var c=s++;r=u||(u=v(t)),n=k.bind(null,r,c,!1),a=k.bind(null,r,c,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",b(t,e.attrs),h(e,t),t}(t),n=T.bind(null,r,t),a=function(){m(r),r.href&&URL.revokeObjectURL(r.href)}):(r=v(t),n=R.bind(null,r),a=function(){m(r)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else a()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=c()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var r=f(e,t);return d(r,t),function(e){for(var n=[],a=0;a<r.length;a++){var c=r[a];(i=o[c.id]).refs--,n.push(i)}e&&d(f(e,t),t);for(a=0;a<n.length;a++){var i;if(0===(i=n[a]).refs){for(var u=0;u<i.parts.length;u++)i.parts[u]();delete o[i.id]}}}};var y,g=(y=[],function(e,t){return y[e]=t,y.filter(Boolean).join("\n")});function k(e,t,r,n){var a=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=g(t,a);else{var o=document.createTextNode(a),c=e.childNodes;c[t]&&e.removeChild(c[t]),c.length?e.insertBefore(o,c[t]):e.appendChild(o)}}function R(e,t){var r=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}function T(e,t,r){var n=r.css,a=r.sourceMap,o=void 0===t.convertToAbsoluteUrls&&a;(t.convertToAbsoluteUrls||o)&&(n=p(n)),a&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */");var c=new Blob([n],{type:"text/css"}),i=e.href;e.href=URL.createObjectURL(c),i&&URL.revokeObjectURL(i)}},function(e,r){e.exports=t},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hbSchemeApplyTaskOK=t.hbSchemeCardQuery=t.hbSchemeStopAndStart=t.hbSchemeDelete=t.getHbSchemeCheckMap=void 0;var n,a,o,c,i,u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=(t.getHbSchemeCheckMap=(n=f(regeneratorRuntime.mark((function e(t){var r,n,a,o,c,i,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=$appRoot).props,r.props.getAppCode,n=r.appCode,a=r.pageCode,o=r.nodeType,c={pageCode:a,appCode:n,areaCode:p.TABLES.checkMap,pk_hbscheme:t,nodeType:o},e.next=4,$nccUtil.promiseAjax(s.URLS.hbSchemeCheckMap,c);case 4:return i=e.sent,u=_.get(i,"data.checkMap",{rows:[]}),e.abrupt("return",u);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)}),t.hbSchemeDelete=(a=f(regeneratorRuntime.mark((function e(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$nccPlatform.promptBox({color:"warning",title:$appRoot.state.json["183001504-000025"],content:$appRoot.state.json["183001504-000042"],beSureBtnClick:function(){var e=f(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={type:"delete",pk_hbscheme:t},e.next=3,$nccUtil.promiseAjax(s.URLS.hbSchemeDelete,a);case 3:e.sent.data&&($nccUtil.toast($appRoot.state.json["183001504-000023"],$nccConst.spell.success),n());case 5:case"end":return e.stop()}}),e,r)})));return function(){return e.apply(this,arguments)}}(),cancelBtnClick:function(){}});case 1:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)}),t.hbSchemeStopAndStart=(o=f(regeneratorRuntime.mark((function e(t,r,n,a){var o,c=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=void 0,"start"===r&&(o={title:$appRoot.state.json["183001504-000028"],content:$appRoot.state.json["183001504-000029"]}),"stop"===r&&(o={title:$appRoot.state.json["183001504-000030"],content:$appRoot.state.json["183001504-000031"]}),$nccPlatform.promptBox(u({color:"warning"},o,{beSureBtnClick:function(){var e=f(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pk_hbscheme:t,type:r},e.next=3,$nccUtil.promiseAjax(s.URLS.hbSchemeStopAndStart,o);case 3:if(!e.sent.data){e.next=8;break}return $nccUtil.toast(n,$nccConst.spell.success),a(),e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e,c)})));return function(){return e.apply(this,arguments)}}(),cancelBtnClick:function(){}}));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return o.apply(this,arguments)}),t.hbSchemeCardQuery=(c=f(regeneratorRuntime.mark((function e(t){var r,n,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$appRoot,n=r.appCode,a={pk_hbscheme:t,appCode:n,queryCondition:{reportSelection:l.TABLES.reportSelection,auditPlan:l.TABLES.auditPlan,workdrafttemp:l.TABLES.workdrafttemp,list:d.TABLES.list,listPageCode:n+"_list",cardPageCode:n+"_card"}},e.next=4,$nccUtil.promiseAjax(s.URLS.hbSchemeCardQuery,a);case 4:return o=e.sent,e.abrupt("return",o);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)}),t.hbSchemeApplyTaskOK=(i=f(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$nccUtil.promiseAjax(s.URLS.hbSchemeApplyTaskOK,t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)}),r(2)),l=r(1),p=r(2),d=r(3);function f(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,r){return function n(a,o){try{var c=t[a](o),i=c.value}catch(e){return void r(e)}if(!c.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(i)}("next")}))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queryCheckMap=t.openCheckMapModal=void 0;t.openCheckMapModal=(n=u(regeneratorRuntime.mark((function e(t){var r,n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=$appRoot,n=r.props,a=n.modal,n.table,a.show(c.MODALS.checkMap),s=t,o(),document.querySelectorAll(".ufoc-mappingcheck-model button")[1].innerHTML='<i class="iconfont refreshIcon icon-shuaxin1"></i>';case 5:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)});var n,a,o=t.queryCheckMap=(a=u(regeneratorRuntime.mark((function e(){var t,r,n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=$appRoot,(r=t.props).modal,n=r.table,e.next=3,(0,i.getHbSchemeCheckMap)(s);case 3:a=e.sent,n.setAllTableData(c.TABLES.checkMap,a);case 5:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)});t.checkAuth=function(e){if(l(e))return $nccUtil.toast($appRoot.state.json["183001504-000043"],$nccConst.spell.warning),!1;return!0},t.isGlobalDataInGroup=l;var c=r(2),i=r(7);function u(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,r){return function n(a,o){try{var c=t[a](o),i=c.value}catch(e){return void r(e)}if(!c.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(i)}("next")}))}}var s="";function l(e){return"2"===$appRoot.nodeType&&e===$nccConst.value.global}},,,function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var r=t.protocol+"//"+t.host,n=r+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var a,o=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(o)?e:(a=0===o.indexOf("//")?o:0===o.indexOf("/")?r+o:n+o.replace(/^\.\//,""),"url("+JSON.stringify(a)+")")}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.jsonToArray=function e(t){t=JSON.parse(JSON.stringify(t));var r=[];if(Array.isArray(t))for(var n=0,a=t.length;n<a;n++)r.push(t[n]),Array.isArray(t[n].children)&&t[n].children.length>0&&(r=r.concat(e(t[n].children))),delete t[n].children;return r},t.toTableData=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=JSON.parse(JSON.stringify(e));return r=r.map((function(e){return Object.keys(e).forEach((function(r){e[t+r]={value:e[r]}})),{values:e}}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showCardDataByhbPK=void 0;var n,a,o=t.showCardDataByhbPK=(n=regeneratorRuntime.mark((function e(){var t,r,n,a,o,c,i,l,p,f,h,m,v,b,S,y,g,k,R,T,w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=$appRoot,r=t.props,n=r.cardTable,r.getUrlParam,a=r.form,o=t.cardState,c=t.pk_hbscheme){e.next=3;break}return e.abrupt("return",w());case 3:return e.next=5,(0,s.hbSchemeCardQuery)(c);case 5:(i=e.sent).data&&(l=i.data,p=l.list,f=l.reportSelection,h=l.auditPlan,m=l.workdrafttemp,v={1:!0,2:!1},b={Y:!0,N:!1},S={1:!0,0:!1},y=p.rows[0].values,g=y.ispermithb,k=y.ischeckerrorcommit,R=y.autohasten,y.hasten_bef_day,T=y.pk_org,g.value=b[g.value],R&&(R.value=S[R.value]),k.value=v[k.value],$appRoot.pk_org=T.value,a.setAllFormValue(d({},u.FORMS.cardHead,{rows:[{values:p.rows[0].values}]})),n.setTableData(u.TABLES.reportSelection,f),n.setTableData(u.TABLES.auditPlan,h),n.setTableData(u.TABLES.workdrafttemp,m),u.CARD_STATE.Detail===o&&P(),w());case 7:case"end":return e.stop()}}),e,this)})),a=function(){var e=n.apply(this,arguments);return new Promise((function(t,r){return function n(a,o){try{var c=e[a](o),i=c.value}catch(e){return void r(e)}if(!c.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));t(i)}("next")}))},function(){return a.apply(this,arguments)});t.cardPageInit=function(){var e=$appRoot,t=(e.props,e.props.form);e.cardState;A(),t.setFormItemsDisabled(u.FORMS.cardHead,{version:!0,pk_org:!0,creator:!0,creationtime:!0,modifier:!0,modifiedtime:!0})},t.changeCardState=A,t.resetCardPageData=C,t.initForm=O,t.setGlobalOrg=x,t.setGroupOrg=E,t.initTables=$,t.setPageStatus=B,t.setEnableDisable=P;var c=r(23),i=(p(c),p(r(24))),u=r(1),s=r(7),l=r(8);function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=u.BUTTONS.Head,h=f.Save,m=f.SaveAdd,v=f.Cancel,b=(f.HandleBox,f.Add),S=f.Edit,y=f.Delete,g=f.Copy,k=(f.BtnSelect,f.Disable),R=f.Mappingcheck,T=f.Enable,w=(f.Head,f.applyTask),_=u.BUTTONS.Refresh.Refresh;function A(){var e=$appRoot,t=(e.props,e.props.form),r=e.cardState;u.CARD_STATE.Add!==r&&r||C(),u.CARD_STATE.Edit===r?(t.setFormItemsDisabled(u.FORMS.cardHead,{code:!0}),o()):t.setFormItemsDisabled(u.FORMS.cardHead,{code:!1}),u.CARD_STATE.Copy===r&&o((function(){var e=$appRoot.pk_org;(0,l.isGlobalDataInGroup)(e)&&E(),t.setFormItemsValue(u.FORMS.cardHead,{creator:{value:"",display:""},creationtime:{value:"",display:""},modifier:{value:"",display:""},modifiedtime:{value:"",display:""}})})),u.CARD_STATE.Detail===r?o((function(){B("cardReadonly")})):(B("cardCanEdit"),setTimeout((function(){t.setFormItemFocus(u.FORMS.cardHead,"code")}),500))}function C(){O(),$()}function O(){var e=$appRoot,t=e.props.form,r=e.nodeType;t.EmptyAllFormValue(u.FORMS.cardHead),"1"===r&&x(),"2"===r&&E(),t.setFormItemsValue(u.FORMS.cardHead,{pk_investscheme:{value:"1001Z010000000003LND",display:$appRoot.state.json["183001504-000033"]}})}function x(){$appRoot.props.form.setFormItemsValue(u.FORMS.cardHead,{pk_org:{value:$nccConst.value.global,display:$appRoot.state.json["183001504-000036"]}})}function E(){var e=$appRoot.props.form,t=$nccPlatform.getBusinessInfo(),r=t.groupId,n=t.groupName;e.setFormItemsValue(u.FORMS.cardHead,{pk_org:{value:r,display:n}}),$appRoot.pk_org=r}function $(){var e=$appRoot.props,t=e.cardTable;e.form,e.button;t.setTableData(u.TABLES.reportSelection,{rows:[]}),t.setTableData(u.TABLES.auditPlan,{rows:[]}),t.setTableData(u.TABLES.workdrafttemp,{rows:[]})}function B(e,t){var r=$appRoot,n=r.props,a=n.button,o=n.form,s=(r.cardState,r.pk_hbscheme),p=r.pk_org,d=a.setButtonVisible,f=a.setButtonDisabled,A=[h,m,v,b,S,y,g,_,k,T,w,R];(d(A,!1),f(A,!1),"cardCanEdit"===e)&&(d([].concat([h,m,v,w]),!0),d([k,T],!1),i.default.setVisible(!1),(0,c.setBackBtnVisible)(!1),o.setFormStatus(u.FORMS.cardHead,"edit"),d(u.BUTTONS.SelectReportSampleHead.SelectReportSample,!0),d(u.BUTTONS.SelectAuditPlanHead.SelectAuditPlan,!0),d(u.BUTTONS.workdrafttempHead.workdrafttemp,!0));"cardReadonly"===e&&(d([b,S,y,g,_,R,k,T],!0),i.default.setVisible(!0),(0,c.setBackBtnVisible)(!0),o.setFormStatus(u.FORMS.cardHead,"browse"),d(u.BUTTONS.SelectReportSampleHead.SelectReportSample,!1),d(u.BUTTONS.SelectAuditPlanHead.SelectAuditPlan,!1),d(u.BUTTONS.workdrafttempHead.workdrafttemp,!1),(0,l.isGlobalDataInGroup)(p)?d([S,y,k,T],!1):P(),s||(d([S,y,g,R,k,T],!1),i.default.setVisible(!1)))}function P(){var e=$appRoot,t=e.props,r=t.button,n=t.form,a=(e.cardState,r.setButtonVisible),o=(r.setButtonDisabled,n.getAllFormValue(u.FORMS.cardHead).rows[0].values.enablestate.value);"2"===o?(a([k],!0),a([T],!1)):"3"===o?(a([k],!1),a([T],!0)):a([T,k],!1)}},,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){$appRoot.state.json;return React.createElement("div",null,(0,o.default)(c.MODALS.checkMap,$appRoot.state.json["183001504-000040"]))};var n,a=r(20),o=(n=a)&&n.__esModule?n:{default:n},c=r(2)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(n=(c=i.next()).done)&&(r.push(c.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(a)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.default=function e(t,r){var o=$appRoot.props,l=(o.button,o.cardTable),f=o.modal,h=($appRoot.state.json,(0,c.useState)([])),m=a(h,2),v=m[0],b=m[1],S=(0,c.useState)([]),y=a(S,2),g=y[0],k=y[1],R=(0,c.useRef)(),T=(0,c.useRef)();e.dataSourceEdit=b,e.targetKeysEdit=k;var w={dataSource:v,targetKeys:g,rowKey:"key",rowTitle:"title",rowChildren:"children",treeType:!0,onTargetKeysChange:function(e){k(e)},checkable:!0,className:"my-transfer-demo",showMoveBtn:!0,listRender:function(e){e.code;return""+e.name}},_={title:r,content:i.default.createElement("div",{className:"transfer-box"},i.default.createElement(p,n({fieldid:"selectReportSampleModal"},w))),width:800,height:560,showMaxButton:!0,cancelBtnClick:function(){f.close(t)},beSureBtnClick:function(){var e=[];R.current.forEach((function(t){e.push(d&&d.find((function(e){return e.key===t})))}));var t=(0,s.toTableData)(e);t.forEach((function(e){e.values.pk_report={value:e.values.nodeData.value.reportPk},e.values["pk_report.code"]={value:e.values.nodeData.value.reportCode},e.values["pk_report.name"]={value:e.values.nodeData.value.reportName}})),l.setTableData(u.TABLES.reportSelection,{rows:t})}};return(0,c.useEffect)((function(){R.current=g}),[g]),(0,c.useEffect)((function(){T.current=v,d=(0,s.jsonToArray)(v)}),[v]),f.createModal(t,_)};var o,c=r(0),i=(o=c)&&o.__esModule?o:{default:o},u=r(1),s=r(12);var l=$nccPlatform,p=(l.base,l.high.Transfer),d=[]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(n=(c=i.next()).done)&&(r.push(c.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(a)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.default=function e(t,r){var o=$appRoot.props,l=(o.button,o.cardTable),f=o.modal,h=($appRoot.state.json,(0,c.useState)([])),m=a(h,2),v=m[0],b=m[1],S=(0,c.useState)([]),y=a(S,2),g=y[0],k=y[1];e.dataSourceEdit=b,e.targetKeysEdit=k;var R=(0,c.useRef)(),T=(0,c.useRef)(),w={dataSource:v,targetKeys:g,rowKey:"key",rowTitle:"title",rowChildren:"children",treeType:!0,onTargetKeysChange:function(e){k(e)},checkable:!0,className:"my-transfer-demo",showMoveBtn:!0,listRender:function(e){e.key;return e.title}},A={title:r,content:i.default.createElement("div",{className:"transfer-box"},i.default.createElement(p,n({fieldid:"selectAuditPlanModal"},w))),width:800,height:560,showMaxButton:!0,cancelBtnClick:function(){f.close(t)},beSureBtnClick:function(){var e=[];R.current.forEach((function(t){e.push(d&&d.find((function(e){return e.key===t})))}));var t=(0,s.toTableData)(e);t.forEach((function(e){var t=_.get(e,"values.nodeData.value.rows[0].values.id.value","");e.values["parent_id.name"]={value:d&&d.find((function(t){return t.id===e.values.pid.value})).name},e.values.name={value:e.values.nodeData.value.checkName},e.values.pk_check_schema={value:e.values.key.value},e.values.id={value:t}})),console.warn(t),l.setTableData(u.TABLES.auditPlan,{rows:t})}};return(0,c.useEffect)((function(){R.current=g}),[g]),(0,c.useEffect)((function(){T.current=v,d=(0,s.jsonToArray)(v)}),[v]),f.createModal(t,A)};var o,c=r(0),i=(o=c)&&o.__esModule?o:{default:o},u=r(1),s=r(12);var l=$nccPlatform,p=(l.base,l.high.Transfer),d=[]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(n=(c=i.next()).done)&&(r.push(c.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(a)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.default=function e(t,r){var o=$appRoot.props,l=(o.button,o.cardTable),f=o.modal,h=($appRoot.state.json,(0,c.useState)([])),m=a(h,2),v=m[0],b=m[1],S=(0,c.useState)([]),y=a(S,2),g=y[0],k=y[1];e.dataSourceEdit=b,e.targetKeysEdit=k;var R=(0,c.useRef)(),T=(0,c.useRef)(),w={dataSource:v,targetKeys:g,rowKey:"key",rowTitle:"title",rowChildren:"children",treeType:!0,onTargetKeysChange:function(e){k(e)},checkable:!0,className:"my-transfer-demo",showMoveBtn:!0,listRender:function(e){e.code;return""+e.name}},A={title:r,content:i.default.createElement("div",{className:"transfer-box"},i.default.createElement(p,n({fieldid:"selectWorkdrafttempModal"},w))),width:800,height:560,showMaxButton:!0,cancelBtnClick:function(){f.close(t)},beSureBtnClick:function(){var e=[];R.current.forEach((function(t){e.push(d&&d.find((function(e){return e.key===t})))}));var t=(0,s.toTableData)(e);t.forEach((function(e){e.values.pk_workdrafttemp=_.get(e,"values.nodeData.value.rows[0].values.pk_workdrafttemp",{}),e.values.code=_.get(e,"values.nodeData.value.rows[0].values.code",{}),e.values.name=_.get(e,"values.nodeData.value.rows[0].values.name",{}),e.values.unitshowtype=_.get(e,"values.nodeData.value.rows[0].values.unitshowtype",{}),e.values.dxshowtype=_.get(e,"values.nodeData.value.rows[0].values.dxshowtype",{})})),l.setTableData(u.TABLES.workdrafttemp,{rows:t})}};return(0,c.useEffect)((function(){R.current=g,T.current=v,d=(0,s.jsonToArray)(v)}),[g,v]),f.createModal(t,A)};var o,c=r(0),i=(o=c)&&o.__esModule?o:{default:o},u=r(1),s=r(12);var l=$nccPlatform,p=(l.base,l.high.Transfer),d=[]},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(n=(c=i.next()).done)&&(r.push(c.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(a)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.default=function(e,t){var r=$appRoot.props,n=r.button,a=r.table,c=r.modal,l=$appRoot.state.json,p=(0,i.useState)(451),d=o(p,2),f=(d[0],d[1],u.default.createElement("div",{fieldid:"MappingcheckHead",className:"ufoc-mappingcheck-model flex-container",style:{height:"100%"}},u.default.createElement("div",{className:"ufoc-mappingcheck-head",style:{flex:"none"}},n.createButtonApp({area:h,onButtonClick:function(e,t){b[t](e,l)},buttonLimit:3})),u.default.createElement("div",{className:"flex-container",style:{flex:"auto"}},a.createSimpleTable(s.TABLES.checkMap,{showIndex:!0,inModal:!0,adaptionHeight:!0})))),m={title:t,content:f,size:"lg",noFooter:!0};return c.createModal(e,m)};var c,i=r(0),u=(c=i)&&c.__esModule?c:{default:c};r(21);var s=r(2),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(3)),p=r(8);function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=s.BUTTONS.MappingcheckHead,h=f.MappingcheckHead,m=f.MappingcheckRefresh,v=f.DefineMapping;var b=(d(n={},m,(function(e){var t,r=this;return(t=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.queryCheckMap)();case 2:$nccUtil.toast($appRoot.state.json["183001504-000038"],$nccConst.spell.success);case 3:case"end":return e.stop()}}),e,r)})),function(){var e=t.apply(this,arguments);return new Promise((function(t,r){return function n(a,o){try{var c=e[a](o),i=c.value}catch(e){return void r(e)}if(!c.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));t(i)}("next")}))})()})),d(n,v,(function(e){var t=e.table,r=e.form,n=$appRoot.nodeType,o=void 0,c=void 0,i=void 0,u=void 0,s=t.getClickRowIndex(l.TABLES.list);if(s){var p=s.record.values;o=p.code.value,c=p.name.value,i=p.pk_hbscheme.value,u=p.pk_org.value}else{var d=r.getAllFormValue("cardHead").rows[0].values;o=d.code.value,c=d.name.value,i=d.pk_hbscheme.value,u=d.pk_org.value}"2"!==n||u!==$nccConst.value.global?$nccPlatform.pageTo.openTo("/ufoc/hbprojectmanage/batchMapping/list/",a({},{},{code:o,name:c,nodeType:n,pk_hbscheme:i})):$nccUtil.toast($appRoot.state.json["183001504-000053"],$nccConst.spell.warning)})),n)},function(e,t,r){var n=r(22);"string"==typeof n&&(n=[[e.i,n,""]]);var a={transform:void 0};r(5)(n,a);n.locals&&(e.exports=n.locals)},function(e,t,r){(e.exports=r(4)(!1)).push([e.i,".ufoc-mappingcheck-head {\n  margin-bottom: 5px;\n  text-align: right;\n}\n.ufoc-mappingcheck-head button {\n  min-width: auto !important;\n}\n.ufoc-mappingcheck-head button .iconfont {\n  color: #555;\n  font-size: 22px !important;\n}\n.ufoc-mappingcheck-head .flex-container {\n  overflow: hidden;\n}\n.ufoc-mappingcheck-model .flex-container {\n  overflow: hidden;\n  height: 100%;\n}\n.ufoc-mappingcheck-model .flex-container .table-wrapper.table-next-body-inner-wrapper {\n  max-height: none !important;\n}\n",""])},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(n=(c=i.next()).done)&&(r.push(c.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(a)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.handlClick=i,t.default=function(e){var t=(0,o.useState)(!0),r=n(t,2),a=r[0],c=r[1];return Object.assign(u,{flagSet:c}),$appRoot.props.BillHeadInfo.createBillHeadInfo({title:e.title,backBtnClick:i,initShowBackBtn:a})},t.setBackBtnVisible=function(e){u.flagSet(e)};var a,o=r(0),c=((a=o)&&a.__esModule,r(1));function i(){var e=$appRoot,t=e.props;e.state;t.pushTo(c.PAGE_CONST.listPath)}var u={}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(n=(c=i.next()).done)&&(r.push(c.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(a)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.default=function e(){var t=$appRoot.props.cardPagination,r=(0,a.useState)(!1),i=n(r,2),u=i[0],s=i[1];e.setVisible=s,window.CardPagination=e;return React.createElement("span",{style:(l=u,{display:l?"block":"none"})},t.createCardPagination({handlePageInfoChange:function(e,t,r){$appRoot.pk_hbscheme=t,(0,o.showCardDataByhbPK)((function(){(0,o.setPageStatus)("cardReadonly")}))},dataSource:c.PAGE_CONST.dataSource,urlPkname:c.PAGE_CONST.pk_hbscheme}));var l};var a=r(0),o=r(13),c=r(1)},,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=v(r(0)),c=r(33),i=r(1),u=r(2),s=v(r(34)),l=r(38),p=v(r(24)),d=v(r(23)),f=v(r(41)),h=v(r(42)),m=r(13);function v(e){return e&&e.__esModule?e:{default:e}}function b(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,r){return function n(a,o){try{var c=t[a](o),i=c.value}catch(e){return void r(e)}if(!c.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(i)}("next")}))}}r(44);var S=$nccPlatform.createPage({})(n=$nccUtil.AppWrapper({lang:{resources:[{domainName:"ufoc",moduleId:"183001504"}]},use:{cardTable:[i.TABLES.reportSelection,i.TABLES.auditPlan,i.TABLES.workdrafttemp],table:[i.TABLES.applyTask,u.TABLES.checkMap],form:[i.FORMS.cardHead]},changeFields:{},pageId:""})(n=function(e){function t(e){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMounted=b(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.init();case 2:(0,m.cardPageInit)();case 3:case"end":return e.stop()}}),e,r)}))),n.state={title:e.getSearchParam("n"),json:{}},n.cardState=e.getUrlParam("cardState")||"Add",n.pk_hbscheme=e.getUrlParam("pk_hbscheme"),n.appCode=e.getAppCode(),n.pageCode=n.appCode+"_card",n.pk_group=$nccPlatform.getBusinessInfo().groupId,n.pk_org="",n.nodeType="1",n}var r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"init",value:(r=b(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.initTemplate.call(this);case 2:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"componentDidUpdate",value:function(){(0,c.afterLangUpdate)()}},{key:"render",value:function(){var e=this.state,t=e.title,r=(e.json,o.default.createElement(d.default,{title:t})),n=o.default.createElement(l.TopButtons,null),a={refResh:o.default.createElement(l.RefreshBtn,null),BillHeader:r,Button:n,cardPagination:o.default.createElement(p.default,null),Form:o.default.createElement(f.default,null),TableOne:o.default.createElement(h.default,null)};return o.default.createElement("div",null,o.default.createElement($nccCom.NcBillCard,{pageConfig:a,mounted:this.handleMounted}),o.default.createElement(s.default,null))}}]),t}(o.default.Component))||n)||n;t.default=S},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initTemplate=void 0;var n,a;t.initTemplate=(n=regeneratorRuntime.mark((function e(){var t,r,n,a,o,u,s,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.pageCode,r=this.appCode,e.next=3,this.getTemplate({pagecode:t,appcode:r});case 3:n=e.sent,a=n.template,o=n.button,u=n.context,s=_.get(u,"paramMap.orgTypeCode"),l=void 0,s===$nccConst.value.global&&(l="1"),s===$nccConst.value.group&&(l="2"),this.nodeType=l,this.props.button.setButtons(i.call(this,o)),this.props.meta.setMeta(c.call(this,a));case 14:case"end":return e.stop()}}),e,this)})),a=function(){var e=n.apply(this,arguments);return new Promise((function(t,r){return function n(a,o){try{var c=e[a](o),i=c.value}catch(e){return void r(e)}if(!c.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));t(i)}("next")}))},function(){return a.apply(this,arguments)});t.afterLangUpdate=function(){var e=$appRoot,t=e.props.renderItem,r=e.nodeType,n=e.state.json,a={nodeType:"0",pk_org:""},c={nodeType:"0",pk_org:""};"2"==r&&(a.nodeType="1",a.pk_org=$appRoot.pk_group,c.nodeType="1",c.pk_org=$appRoot.pk_group);if(n["183001504-000046"]){var i=n["183001504-000046"],u=n["183001504-000047"],s=n["183001504-000048"],l=n["183001504-000049"],p=n["183001504-000050"],d=n["183001504-000051"],f=n["183001504-000052"],h=n["183001504-000054"],m=[{name:[i,s,l,u,h,f,p],code:["pk_org","refcode","refname","parent_id","version","isaddadjust","note"]}],v=[{name:[i,s,l,u,d,p],code:["pk_org","refcode","refname","parent_id","isaddvouch","note"]}];t("form",o.FORMS.cardHead,"pk_adjustscheme",React.createElement($nccRefer.AdjustSchemeGridRef,{queryCondition:a,columnConfig:m})),t("form",o.FORMS.cardHead,"pk_dxscheme",React.createElement($nccRefer.DXSchemeGridRef,{queryCondition:c,columnConfig:v}))}};var o=r(1);function c(e){var t=this.props.renderItem,r=this.nodeType,n={queryCondition:{pk_org:$nccConst.value.global},isCacheable:!1};"2"==r&&(n.queryCondition.pk_group=$appRoot.pk_group),t("form",o.FORMS.cardHead,"pk_investscheme",React.createElement($nccRefer.StockInvestSchemeRef,n)),t("form",o.FORMS.cardHead,"pk_keygroup",React.createElement($nccRefer.KeyCombinationRef,{onlyName:!0})),e[o.FORMS.cardHead].status="browse",e.cardAttr.items.find((function(e){return"ischeckerrorcommit"===e.attrcode})).itemtype="checkbox_switch",e.cardAttr.items.find((function(e){return"ispermithb"===e.attrcode})).itemtype="checkbox_switch";var a=e.cardAttr.items.find((function(e){return"autohasten"===e.attrcode}));a&&(a.itemtype="checkbox_switch");var c=e.cardHead.items.find((function(e){return"code"===e.attrcode})),i=e.cardHead.items.find((function(e){return"version"===e.attrcode}));return c.maxlength="4",c.itemtype="input",i.itemtype="input",e.auditPlan.items.find((function(e){return"id"===e.attrcode})).render=function(e,t,r){return React.createElement("span",null,t.refcode.value)},e}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){$appRoot.state.json;return React.createElement("div",null,(0,c.default)(u.MODALS.applyTask,$appRoot.state.json["183001504-000013"]),(0,n.default)(u.MODALS.SelectReportSample,$appRoot.state.json["183001504-000004"]),(0,a.default)(u.MODALS.SelectAuditPlan,$appRoot.state.json["183001504-000005"]),(0,o.default)(u.MODALS.workdrafttemp,$appRoot.state.json["183001504-000002"]),React.createElement(i.default,null))};var n=s(r(17)),a=s(r(18)),o=s(r(19)),c=s(r(35)),i=s(r(16)),u=r(1);function s(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a,o=(n=regeneratorRuntime.mark((function e(t){var r,n,a,o,c,i,u,d,f,h,m,v,b;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$appRoot,n=r.props,a=n.cardTable,o=n.form,delete t.code,c=t.pk_accscheme,i=t.commit_end_day,u=t.hasten_bef_day,(d=t.autohasten)&&(d.value=1==d.value),f={pk_accperiodscheme:c,commit_end_day:i,hasten_bef_day:u,autohasten:d},console.warn(t,f),o.setAllFormValue(p({},s.FORMS.cardHead,{rows:[{values:f}]})),h=t.pk_org.value===$nccConst.value.global?"182001016A":"182001020A",m={pageCode:h+"_card",appCode:h,reportAreaCode:"iufo_taskreport",schemeAreaCode:"iufo_taskscheme",pk_task:t.pk_task.value},e.next=11,(0,l.hbSchemeApplyTaskOK)(m);case 11:v=e.sent,(b=_.get(v,"data.iufo_taskscheme",{rows:[]})).rows.forEach((function(e){e.values.pk_check_schema=e.values.pk_scheme,e.values.id=e.values["pk_scheme.id"],e.values.name=e.values["pk_scheme.name"],e.values.parent_id=e.values["pk_scheme.parent_id"]})),a.setTableData(s.TABLES.reportSelection,_.get(v,"data.iufo_taskreport"),{rows:[]}),a.setTableData(s.TABLES.auditPlan,b);case 16:case"end":return e.stop()}}),e,this)})),a=function(){var e=n.apply(this,arguments);return new Promise((function(t,r){return function n(a,o){try{var c=e[a](o),i=c.value}catch(e){return void r(e)}if(!c.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));t(i)}("next")}))},function(e){return a.apply(this,arguments)});t.default=function(e,t){var r=$appRoot.props,n=r.table,a=n.createSimpleTable,c=n.getClickRowIndex,i=r.modal,l=(r.form,$appRoot.state.json,u.default.createElement("div",{className:"dialog-content flex-container",fieldid:"applyTask"},a(s.TABLES.applyTask,{showIndex:!0,adaptionHeight:!0,componentInitFinished:function(){},onAfterEvent:function(){},selectedChange:function(){},onSelectedAll:function(){},onSelected:function(){},onRowDoubleClick:function(t,r){i.close(e),o(t)}}))),p={title:t,content:l,size:"lg",cancelBtnClick:function(){i.close(e)},beSureBtnClick:function(){var e=c(s.TABLES.applyTask);if(!e)return $nccUtil.toast($appRoot.state.json["183001504-000018"],$nccConst.spell.warning);var t=e.record.values;o(t)}};return i.createModal(e,p)};var c,i=r(0),u=(c=i)&&c.__esModule?c:{default:c},s=r(1),l=r(7);function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r(36)},function(e,t,r){var n=r(37);"string"==typeof n&&(n=[[e.i,n,""]]);var a={transform:void 0};r(5)(n,a);n.locals&&(e.exports=n.locals)},function(e,t,r){(e.exports=r(4)(!1)).push([e.i,".table-style-wrapper .simple-table .table-next-body-wrapper .table-next-body-inner-wrapper {\n  max-height: none !important;\n}\n",""])},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TopButtons=function(){return $appRoot.props.button.createButtonApp({area:o,onButtonClick:function(e,t){n.handleButtonClick[t](e,$appRoot.state.json)},buttonLimit:3})},t.RefreshBtn=function(){return $appRoot.props.button.createButtonApp({area:c,onButtonClick:function(e,t){n.handleButtonClick[t](e,$appRoot.state.json)},buttonLimit:3})};r(0);var n=r(39),a=r(1),o=a.BUTTONS.Head.Head,c=a.BUTTONS.Refresh.Refresh},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.handleButtonClick=void 0;var a=r(6),o=r(1),c=r(13),i=r(40),u=r(7),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(3)),l=r(8);function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,r){return function n(a,o){try{var c=t[a](o),i=c.value}catch(e){return void r(e)}if(!c.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(i)}("next")}))}}var f=o.BUTTONS.Head,h=f.Save,m=f.SaveAdd,v=f.Cancel,b=(f.HandleBox,f.Add),S=f.Edit,y=f.Delete,g=f.Copy,k=(f.BtnSelect,f.Disable),R=f.Mappingcheck,T=f.Enable,w=(f.Head,f.applyTask),_=o.BUTTONS.Refresh.Refresh,A=t.handleButtonClick=(p(n={},h,(function(e){var t=this;return d(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=$appRoot,r.cardState,r.props.cardPagination,(0,i.hbSchemeAdd)((function(){$nccPlatform.toast({color:"success",content:$appRoot.state.json["183001504-000012"]}),(0,c.setPageStatus)("cardReadonly"),(0,c.showCardDataByhbPK)()}));case 2:case"end":return e.stop()}}),e,t)})))()})),p(n,m,(function(){var e=this;return d(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,i.hbSchemeAdd)((function(){$nccPlatform.toast({color:"success",content:$appRoot.state.json["183001504-000015"]}),A[b]()}));case 1:case"end":return e.stop()}}),t,e)})))()})),p(n,v,(function(e,t){e.form;var r=$appRoot.cardState;$nccPlatform.promptBox({color:"warning",title:$appRoot.state.json["183001504-000008"],content:$appRoot.state.json["183001504-000009"],beSureBtnClick:function(){(0,a.clearToast)(),$appRoot.cardState=o.CARD_STATE.Detail,(0,c.showCardDataByhbPK)((function(){(0,c.setPageStatus)("cardReadonly")})),[s.BUTTONS.Head.Add].includes(r),[s.BUTTONS.Head.Copy].includes(r),[s.BUTTONS.Head.Edit].includes(r)}})})),p(n,b,(function(){$appRoot.cardState=o.CARD_STATE.Add,(0,c.changeCardState)()})),p(n,S,(function(){var e=$appRoot.pk_org;(0,l.checkAuth)(e)&&($appRoot.cardState=o.CARD_STATE.Edit,(0,c.changeCardState)())})),p(n,y,(function(e){var t=this;e.form,e.cardPagination;return d(regeneratorRuntime.mark((function e(){var r,n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=$appRoot,n=r.pk_org,a=r.pk_hbscheme,(0,l.checkAuth)(n)){e.next=3;break}return e.abrupt("return");case 3:if(!a){e.next=8;break}return e.next=6,(0,u.hbSchemeDelete)(a,(function(){if($appRoot.prev_pk_hbscheme){$appRoot.pk_hbscheme=$appRoot.prev_pk_hbscheme;var e=$nccPlatform.cardCache.getListDefCache(o.PAGE_CONST.dataSource).allpks,t=e.findIndex((function(e){return e===$appRoot.prev_pk_hbscheme}));$nccPlatform.cardCache.getNextId(e[t-1],o.PAGE_CONST.dataSource)}else $appRoot.pk_hbscheme=$nccPlatform.cardCache.getNextId(a,o.PAGE_CONST.dataSource);$nccPlatform.cardCache.deleteCacheById(o.PAGE_CONST.pk_hbscheme,a,o.PAGE_CONST.dataSource),$appRoot.setState({title:$appRoot.state.title}),$appRoot.cardState=o.CARD_STATE.Detail,(0,c.showCardDataByhbPK)((function(){(0,c.setPageStatus)("cardReadonly")}))}));case 6:e.next=9;break;case 8:$nccUtil.toast($appRoot.state.json["183001504-000037"],$nccConst.spell.warning);case 9:case"end":return e.stop()}}),e,t)})))()})),p(n,g,(function(){$appRoot.cardState=o.CARD_STATE.Copy,(0,c.changeCardState)()})),p(n,_,(function(){(0,c.showCardDataByhbPK)((function(){(0,c.setPageStatus)("cardReadonly"),$nccUtil.toast($appRoot.state.json["183001504-000038"],$nccConst.spell.success)}))})),p(n,T,(function(e){e.form;var t=$appRoot.pk_org;(0,l.checkAuth)(t)&&(0,u.hbSchemeStopAndStart)($appRoot.pk_hbscheme,"start",$appRoot.state.json["183001504-000019"],(function(){(0,c.showCardDataByhbPK)((function(){(0,c.setPageStatus)("cardReadonly")}))}))})),p(n,k,(function(e){e.form;var t=$appRoot.pk_org;(0,l.checkAuth)(t)&&(0,u.hbSchemeStopAndStart)($appRoot.pk_hbscheme,"stop",$appRoot.state.json["183001504-000021"],(function(){(0,c.showCardDataByhbPK)((function(){(0,c.setPageStatus)("cardReadonly")}))}))})),p(n,R,(function(e){e.modal,e.form;(0,l.openCheckMapModal)($appRoot.pk_hbscheme)})),p(n,w,(function(e,t){var r=this,n=e.form,a=e.modal,c=e.table,i=(c.createSimpleTable,c.setAllTableData),u=n.getFormItemsValue(o.FORMS.cardHead,"pk_keygroup").value;if(!u)return $nccUtil.toast($appRoot.state.json["183001504-000032"],$nccConst.spell.warning);a.show(w,{},d(regeneratorRuntime.mark((function e(){var t,n,a,c,s,l,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=$appRoot,n=t.pageCode,a=t.nodeType,c=t.pk_group,s={pageCode:n,nodeType:a,pk_org:$nccConst.value.global,areaCode:o.TABLES.applyTask,pk_keygroup:u},"2"===a&&(s.pk_group=c),l={rows:[]},i(o.TABLES.applyTask,l),e.next=7,$nccUtil.promiseAjax(o.URLS.hbSchemeApplyTask,s);case 7:(p=e.sent).data?l=p.data.applyTask||l:$nccUtil.toast($appRoot.state.json["183001504-000016"],$nccConst.spell.warning),i(o.TABLES.applyTask,l);case 10:case"end":return e.stop()}}),e,r)}))))})),n)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hbSchemeAdd=void 0;t.hbSchemeAdd=(n=regeneratorRuntime.mark((function e(){var t,r,n,a,i,f,h,m,v,b,S,y,g,k,R,T,w,_,A,C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=$appRoot).props,(r=t.props).button,r.editTable,n=r.form,r.modal,a=r.cardTable,i=r.cardPagination,t.state.json,f=t.cardState,(0,o.clearToast)(),n.isCheckNow(c.FORMS.cardHead)){e.next=4;break}return e.abrupt("return");case 4:return h=n.getAllFormValue(c.FORMS.cardHead),[u,s].includes(f)&&delete h.rows[0].values.pk_hbscheme,m=h.rows[0].values,v=m.ispermithb,b=m.ischeckerrorcommit,S=m.autohasten,m.hasten_bef_day,[!0,!1].includes(v.value)&&(v.value=p[v.value]),[!0,!1].includes(b.value)&&(b.value=l[b.value]),S&&[!0,!1].includes(S.value)&&(S.value=d[S.value]),y=a.getAllData(c.TABLES.reportSelection).rows.map((function(e){return e.values.pk_report.value})),g=a.getAllData(c.TABLES.auditPlan).rows.map((function(e){return e.values.pk_check_schema.value})),k=a.getAllData(c.TABLES.workdrafttemp).rows.map((function(e){return e.values.pk_workdrafttemp.value})),R={Add:"add",Edit:"modify",Copy:"copy"},T={Add:c.URLS.hbSchemeAdd,Edit:c.URLS.hbSchemeModify,Copy:c.URLS.hbSchemeCopy},w={hbschemeVO:{model:h},pk_check_schema:g,pk_reports:y,pk_workdrafttemp:k,type:R[f]},e.next=18,$nccUtil.promiseAjax(T[f],w);case 18:if(!(_=e.sent).success){e.next=24;break}return(0,o.clearToast)(),[u,s].includes(f)&&(A=_.data,i.setCardPaginationId({status:"2",id:A}),$appRoot.prev_pk_hbscheme=$appRoot.pk_hbscheme,$appRoot.pk_hbscheme=A),C(),e.abrupt("return",!0);case 24:return e.abrupt("return",!1);case 25:case"end":return e.stop()}}),e,this)})),a=function(){var e=n.apply(this,arguments);return new Promise((function(t,r){return function n(a,o){try{var c=e[a](o),i=c.value}catch(e){return void r(e)}if(!c.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));t(i)}("next")}))},function(){return a.apply(this,arguments)});var n,a,o=r(6),c=r(1);var i=c.BUTTONS.Head,u=(i.Save,i.SaveAdd,i.Cancel,i.HandleBox,i.Add),s=(i.Edit,i.Delete,i.Copy),l=(i.BtnSelect,i.Disable,i.Mappingcheck,i.Enable,i.Head,i.applyTask,{true:"1",false:"2"}),p={true:"Y",false:"N"},d={true:"1",false:"0"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=this,t=$appRoot,r=t.props,n=(t.state.json,r.form),i=(r.button,r.editTable,r.renderItem,r.cardTable);return(0,a.useEffect)((function(){n.setFormStatus(o.FORMS.cardHead,"edit")}),[]),n.createForm(o.FORMS.cardHead,{onBeforeEvent:function(){},onAfterEvent:function(t,r,a,u,s,l,p){if("code"===a&&l){if(l<0||l>9999||!c.test(l))return n.setFormItemsValue(o.FORMS.cardHead,{code:{value:"",display:""}}),n.setFormItemsValue(o.FORMS.cardHead,{version:{value:"",display:""}}),$nccPlatform.toast({color:"warning",content:$appRoot.state.json["183001504-000003"]});var d=5e4+1*l;n.setFormItemsValue(o.FORMS.cardHead,{version:{value:d,display:d}})}if("pk_keygroup"===a&&l){var f=_.get(u,"values.timeKeyType.value");n.setFormItemsRequired(o.FORMS.cardHead,{pk_accperiodscheme:"4"===f}),i.getAllData(o.TABLES.reportSelection).rows.length>0&&$nccPlatform.promptBox({color:"warning",title:$appRoot.state.json["183001504-000044"],content:$appRoot.state.json["183001504-000045"],beSureBtnClick:(h=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.setTableData(o.TABLES.reportSelection,{rows:[]});case 1:case"end":return e.stop()}}),t,e)})),m=function(){var e=h.apply(this,arguments);return new Promise((function(t,r){return function n(a,o){try{var c=e[a](o),i=c.value}catch(e){return void r(e)}if(!c.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));t(i)}("next")}))},function(){return m.apply(this,arguments)}),cancelBtnClick:function(){n.setFormItemsValue(o.FORMS.cardHead,function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r;return e}({},a,s))}})}var h,m}})};var n,a=r(0),o=((n=a)&&n.__esModule,r(1));var c=/^\d{1,4}$/},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=$appRoot.props,r=t.button,n=(t.modal,t.cardTable.createCardTable),a=$appRoot.state.json;return o.default.createElement("div",{className:"bottom-area flex-container",fieldid:"bottom-area"},n(c.TABLES.reportSelection,{multiConfig:(e={},u(e,c.TABLES.reportSelection,{showCheck:!1,showIndex:!0,adaptionHeight:!0,hideSwitch:function(){return!1},tableHead:function(){return r.createButtonApp({area:l,onButtonClick:function(e,t){i.bottomAreaRightButtonEvent[t](e,a)},buttonLimit:3})}}),u(e,c.TABLES.auditPlan,{showCheck:!1,showIndex:!0,adaptionHeight:!0,hideSwitch:function(){return!1},tableHead:function(){return r.createButtonApp({area:d,onButtonClick:function(e,t){i.bottomAreaRightButtonEvent[t](e,a)},buttonLimit:3})}}),u(e,c.TABLES.workdrafttemp,{showCheck:!1,showIndex:!0,adaptionHeight:!0,hideSwitch:function(){return!1},tableHead:function(){return r.createButtonApp({area:h,onButtonClick:function(e,t){i.bottomAreaRightButtonEvent[t](e,a)},buttonLimit:3})}}),e)}))};var n,a=r(0),o=(n=a)&&n.__esModule?n:{default:n},c=r(1),i=r(43);function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=c.BUTTONS.SelectReportSampleHead,l=(s.SelectReportSample,s.SelectReportSampleHead),p=c.BUTTONS.SelectAuditPlanHead,d=(p.SelectAuditPlan,p.SelectAuditPlanHead),f=c.BUTTONS.workdrafttempHead,h=(f.workdrafttemp,f.workdrafttempHead)},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.bottomAreaRightButtonEvent=void 0;var a=r(1),o=u(r(18)),c=u(r(19)),i=u(r(17));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,r){return function n(a,o){try{var c=t[a](o),i=c.value}catch(e){return void r(e)}if(!c.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(i)}("next")}))}}var p=a.BUTTONS.SelectReportSampleHead,d=p.SelectReportSample,f=(p.SelectReportSampleHead,a.BUTTONS.SelectAuditPlanHead),h=f.SelectAuditPlan,m=(f.SelectAuditPlanHead,a.BUTTONS.workdrafttempHead),v=m.workdrafttemp;m.workdrafttempHead,t.bottomAreaRightButtonEvent=(s(n={},d,(function(e,t){var r=this,n=e.form,o=e.cardTable,c=e.modal;e.getAppCode;return l(regeneratorRuntime.mark((function e(){var t,u,s,l,p,d,f,h,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=$appRoot,u=t.pageCode,s=t.nodeType,l=t.pk_group,p=t.appCode,d=n.getFormItemsValue(a.FORMS.cardHead,"pk_keygroup"),f=d.value){e.next=4;break}return e.abrupt("return",$nccUtil.toast($appRoot.state.json["183001504-000032"],$nccConst.spell.warning));case 4:return c.show(a.MODALS.SelectReportSample),h={pk_org:$nccConst.value.global,pageCode:u,appCode:p,areaCode:a.TABLES.reportSelection,pk_hbscheme:"",pk_keygroup:f,nodeType:s},"2"===s&&(h.pk_group=l),e.next=9,$nccUtil.promiseAjax(a.URLS.qryReportForHbScheme,h);case 9:m=e.sent,[],m.data?(b(m.data.leftData),i.default.dataSourceEdit(m.data.leftData),i.default.targetKeysEdit(o.getAllData(a.TABLES.reportSelection).rows.map((function(e){return e.values["pk_report.id"]?e.values["pk_report.id"].value:e.values.pk_report?e.values.pk_report.value:void 0})))):$nccUtil.toast($appRoot.state.json["183001504-000016"],$nccConst.spell.warning);case 12:case"end":return e.stop()}}),e,r)})))()})),s(n,h,(function(e,t){var r=this,n=(e.getAppCode,e.modal),c=e.cardTable;return l(regeneratorRuntime.mark((function e(){var t,i,u,s,l,p,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=$appRoot,i=t.appCode,u=t.pageCode,s=t.nodeType,l=t.pk_group,n.show(a.MODALS.SelectAuditPlan),p={pk_org:$nccConst.value.global,pageCode:u,appCode:i,areaCode:"auditPlan",pk_hbscheme:"",schemeType:0,nodeType:s},"2"===s&&(p.pk_group=l),e.next=6,$nccUtil.promiseAjax(a.URLS.qryCheckSchemaForHbscheme,p);case 6:(d=e.sent).data?(b(d.data.leftData),o.default.dataSourceEdit(d.data.leftData),o.default.targetKeysEdit(c.getAllData(a.TABLES.auditPlan).rows.map((function(e){return e.values.pk_check_schema.value})))):$nccUtil.toast($appRoot.state.json["183001504-000016"],$nccConst.spell.warning);case 8:case"end":return e.stop()}}),e,r)})))()})),s(n,v,(function(e,t){var r=this,n=e.modal,o=e.form,i=e.cardTable;return l(regeneratorRuntime.mark((function e(){var t,u,s,l,p,d,f,h,m,v,S;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=$appRoot,u=t.pageCode,s=t.nodeType,l=t.pk_group,p=t.appCode,d=o.getFormItemsValue(a.FORMS.cardHead,"pk_keygroup"),d.value){e.next=4;break}return e.abrupt("return",$nccUtil.toast($appRoot.state.json["183001504-000032"],$nccConst.spell.warning));case 4:if(f=i.getAllData(a.TABLES.reportSelection),0!==(h=f.rows).length){e.next=7;break}return e.abrupt("return",$nccUtil.toast($appRoot.state.json["183001504-000034"],$nccConst.spell.warning));case 7:return n.show(a.MODALS.workdrafttemp),m={pageCode:u,appCode:p,nodeType:s,pk_org:$nccConst.value.global,areaCode:a.TABLES.workdrafttemp,pk_reports:h.map((function(e){return e.values.pk_report.value})).join(",")},"2"===s&&(m.pk_group=l),e.next=12,$nccUtil.promiseAjax(a.URLS.qryWorkDraftTemp,m);case 12:v=e.sent,b(S=_.get(v,"data.leftData",[])),c.default.dataSourceEdit(S),c.default.targetKeysEdit(i.getAllData(a.TABLES.workdrafttemp).rows.map((function(e){return e.values.pk_workdrafttemp.value})));case 17:case"end":return e.stop()}}),e,r)})))()})),n);function b(e){e.forEach((function(e){e.children&&e.children.length>0?b(e.children):e.isleaf&&delete e.children}))}},function(e,t,r){var n=r(45);"string"==typeof n&&(n=[[e.i,n,""]]);var a={transform:void 0};r(5)(n,a);n.locals&&(e.exports=n.locals)},function(e,t,r){(e.exports=r(4)(!1)).push([e.i,".bottom-area-head {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  background-color: #fff;\n}\n.bottom-area-head > .right {\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  -webkit-box-pack: end;\n      -ms-flex-pack: end;\n          justify-content: flex-end;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  padding-right: 20px;\n}\n.transfer-box {\n  height: 100%;\n}\n.dialog-content {\n  height: 100%;\n}\n.nc-bill-card .nc-bill-top-area {\n  min-height: inherit !important;\n}\n.nc-bill-card .nc-bill-bottom-area {\n  min-height: inherit !important;\n}\n",""])}])}));
//# sourceMappingURL=index.97558af5.js.map
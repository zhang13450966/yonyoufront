/*! @ncctag {"date":"2022/7/15 下午3:11:37"} */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("nc-lightapp-front")):"function"==typeof define&&define.amd?define(["react","nc-lightapp-front"],t):"object"==typeof exports?exports["ufoc/hbscheme/hbScheme/main/index"]=t(require("react"),require("nc-lightapp-front")):e["ufoc/hbscheme/hbScheme/main/index"]=t(e.React,e["nc-lightapp-front"])}(window,(function(e,t){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="../../../../",n(n.s=100)}([function(t,n){t.exports=e},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URLS=t.BUTTONS=t.FORMS=t.TABLES=t.MODALS=t.STORE=t.PAGE_CONST=t.CARD_STATE=void 0;var r=n(2);t.CARD_STATE={Add:"Add",Edit:"Edit",Copy:"Copy",Detail:"Detail"},t.PAGE_CONST=r.PAGE_CONST,t.STORE=r.STORE,t.MODALS={SelectReportSample:"SelectReportSample",SelectAuditPlan:"SelectAuditPlan",workdrafttemp:"workdrafttemp",applyTask:"applyTask"},t.TABLES={reportSelection:"reportSelection",auditPlan:"auditPlan",workdrafttemp:"workdrafttemp",applyTask:"applyTask"},t.FORMS={cardHead:"cardHead"},t.BUTTONS={Head:{Head:"Head",SaveBox:"SaveBox",Save:"Save",SaveAdd:"SaveAdd",Cancel:"Cancel",HandleBox:"HandleBox",Add:"Add",Edit:"Edit",Delete:"Delete",Copy:"Copy",BtnSelect:"BtnSelect",Enable:"Enable",Disable:"Disable",Mappingcheck:"Mappingcheck",applyTask:"applyTask"},Refresh:{Refresh:"Refresh"},SelectReportSampleHead:{SelectReportSampleHead:"SelectReportSampleHead",SelectReportSample:"SelectReportSample"},SelectAuditPlanHead:{SelectAuditPlanHead:"SelectAuditPlanHead",SelectAuditPlan:"SelectAuditPlan"},workdrafttempHead:{workdrafttempHead:"workdrafttempHead",workdrafttemp:"workdrafttemp"}},t.URLS=r.URLS},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="/nccloud/ufoc/hbscheme",a={hbSchemeQuery:r+"/hbSchemeQuery.do",hbSchemeStopAndStart:r+"/hbSchemeStopAndStart.do",hbSchemeDelete:r+"/hbSchemeDelete.do",hbSchemeCheckMap:r+"/hbSchemeCheckMap.do",hbSchemeApplyTask:r+"/hbSchemeApplyTask.do",qryWorkDraftTemp:r+"/qryWorkDraftTemp.do",qryCheckSchemaForHbscheme:r+"/qryCheckSchemaForHbscheme.do",qryReportForHbScheme:r+"/qryReportForHbScheme.do",hbSchemeAdd:r+"/hbSchemeAdd.do",hbSchemeModify:r+"/hbSchemeModify.do",hbSchemeCopy:r+"/hbSchemeCopy.do",hbSchemeCardQuery:r+"/hbSchemeCardQuery.do",hbSchemeApplyTaskOK:r+"/hbSchemeApplyTaskOK.do"};t.PAGE_CONST={cardPath:"/card",listPath:"/list",pageCode:{list:"183001504A_list",card:"183001504A_card"},pk_hbscheme:"pk_hbscheme",dataSource:"ufoc.hbscheme.hbScheme.list"},t.MODALS={checkMap:"checkMap"},t.TABLES={checkMap:"checkMap"},t.URLS=a,t.BUTTONS={MappingcheckHead:{MappingcheckHead:"MappingcheckHead",MappingcheckRefresh:"MappingcheckRefresh",DefineMapping:"DefineMapping"}},t.STORE={nodeType:"nodeType",title:"title"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STORE=t.URLS=t.PAGE_CONST=t.MODALS=t.BUTTONS=t.FORMS=t.TABLES=void 0;var r=n(2);t.TABLES={list:"list"},t.FORMS={},t.BUTTONS={Head:{Head:"Head",Add:"Add",Edit:"Edit",Delete:"Delete",Copy:"Copy",Refresh:"Refresh",Disable:"Disable",Mappingcheck:"Mappingcheck",Enable:"Enable"}},t.MODALS={},t.PAGE_CONST=r.PAGE_CONST,t.URLS=r.URLS,t.STORE=r.STORE},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var a=(c=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(c))))+" */"),o=r.sources.map((function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"}));return[n].concat(o).concat([a]).join("\n")}var c;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},a=0;a<this.length;a++){var o=this[a][0];"number"==typeof o&&(r[o]=!0)}for(a=0;a<e.length;a++){var c=e[a];"number"==typeof c[0]&&r[c[0]]||(n&&!c[2]?c[2]=n:n&&(c[2]="("+c[2]+") and ("+n+")"),t.push(c))}},t}},function(e,t,n){var r,a,o={},c=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===a&&(a=r.apply(this,arguments)),a}),i=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e.call(this,n)),t[n]}}((function(e){return document.querySelector(e)})),u=null,s=0,l=[],p=n(11);function d(e,t){for(var n=0;n<e.length;n++){var r=e[n],a=o[r.id];if(a){a.refs++;for(var c=0;c<a.parts.length;c++)a.parts[c](r.parts[c]);for(;c<r.parts.length;c++)a.parts.push(S(r.parts[c],t))}else{var i=[];for(c=0;c<r.parts.length;c++)i.push(S(r.parts[c],t));o[r.id]={id:r.id,refs:1,parts:i}}}}function f(e,t){for(var n=[],r={},a=0;a<e.length;a++){var o=e[a],c=t.base?o[0]+t.base:o[0],i={css:o[1],media:o[2],sourceMap:o[3]};r[c]?r[c].parts.push(i):n.push(r[c]={id:c,parts:[i]})}return n}function h(e,t){var n=i(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=l[l.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),l.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=l.indexOf(e);t>=0&&l.splice(t,1)}function v(e){var t=document.createElement("style");return e.attrs.type="text/css",b(t,e.attrs),h(e,t),t}function b(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function S(e,t){var n,r,a,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var c=s++;n=u||(u=v(t)),r=k.bind(null,n,c,!1),a=k.bind(null,n,c,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",b(t,e.attrs),h(e,t),t}(t),r=_.bind(null,n,t),a=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(t),r=R.bind(null,n),a=function(){m(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else a()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=c()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=f(e,t);return d(n,t),function(e){for(var r=[],a=0;a<n.length;a++){var c=n[a];(i=o[c.id]).refs--,r.push(i)}e&&d(f(e,t),t);for(a=0;a<r.length;a++){var i;if(0===(i=r[a]).refs){for(var u=0;u<i.parts.length;u++)i.parts[u]();delete o[i.id]}}}};var y,g=(y=[],function(e,t){return y[e]=t,y.filter(Boolean).join("\n")});function k(e,t,n,r){var a=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=g(t,a);else{var o=document.createTextNode(a),c=e.childNodes;c[t]&&e.removeChild(c[t]),c.length?e.insertBefore(o,c[t]):e.appendChild(o)}}function R(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function _(e,t,n){var r=n.css,a=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&a;(t.convertToAbsoluteUrls||o)&&(r=p(r)),a&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */");var c=new Blob([r],{type:"text/css"}),i=e.href;e.href=URL.createObjectURL(c),i&&URL.revokeObjectURL(i)}},function(e,n){e.exports=t},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hbSchemeApplyTaskOK=t.hbSchemeCardQuery=t.hbSchemeStopAndStart=t.hbSchemeDelete=t.getHbSchemeCheckMap=void 0;var r,a,o,c,i,u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=(t.getHbSchemeCheckMap=(r=f(regeneratorRuntime.mark((function e(t){var n,r,a,o,c,i,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=$appRoot).props,n.props.getAppCode,r=n.appCode,a=n.pageCode,o=n.nodeType,c={pageCode:a,appCode:r,areaCode:p.TABLES.checkMap,pk_hbscheme:t,nodeType:o},e.next=4,$nccUtil.promiseAjax(s.URLS.hbSchemeCheckMap,c);case 4:return i=e.sent,u=_.get(i,"data.checkMap",{rows:[]}),e.abrupt("return",u);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)}),t.hbSchemeDelete=(a=f(regeneratorRuntime.mark((function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$nccPlatform.promptBox({color:"warning",title:$appRoot.state.json["183001504-000025"],content:$appRoot.state.json["183001504-000042"],beSureBtnClick:function(){var e=f(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={type:"delete",pk_hbscheme:t},e.next=3,$nccUtil.promiseAjax(s.URLS.hbSchemeDelete,a);case 3:e.sent.data&&($nccUtil.toast($appRoot.state.json["183001504-000023"],$nccConst.spell.success),r());case 5:case"end":return e.stop()}}),e,n)})));return function(){return e.apply(this,arguments)}}(),cancelBtnClick:function(){}});case 1:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)}),t.hbSchemeStopAndStart=(o=f(regeneratorRuntime.mark((function e(t,n,r,a){var o,c=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=void 0,"start"===n&&(o={title:$appRoot.state.json["183001504-000028"],content:$appRoot.state.json["183001504-000029"]}),"stop"===n&&(o={title:$appRoot.state.json["183001504-000030"],content:$appRoot.state.json["183001504-000031"]}),$nccPlatform.promptBox(u({color:"warning"},o,{beSureBtnClick:function(){var e=f(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pk_hbscheme:t,type:n},e.next=3,$nccUtil.promiseAjax(s.URLS.hbSchemeStopAndStart,o);case 3:if(!e.sent.data){e.next=8;break}return $nccUtil.toast(r,$nccConst.spell.success),a(),e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e,c)})));return function(){return e.apply(this,arguments)}}(),cancelBtnClick:function(){}}));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r){return o.apply(this,arguments)}),t.hbSchemeCardQuery=(c=f(regeneratorRuntime.mark((function e(t){var n,r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$appRoot,r=n.appCode,a={pk_hbscheme:t,appCode:r,queryCondition:{reportSelection:l.TABLES.reportSelection,auditPlan:l.TABLES.auditPlan,workdrafttemp:l.TABLES.workdrafttemp,list:d.TABLES.list,listPageCode:r+"_list",cardPageCode:r+"_card"}},e.next=4,$nccUtil.promiseAjax(s.URLS.hbSchemeCardQuery,a);case 4:return o=e.sent,e.abrupt("return",o);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)}),t.hbSchemeApplyTaskOK=(i=f(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$nccUtil.promiseAjax(s.URLS.hbSchemeApplyTaskOK,t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)}),n(2)),l=n(1),p=n(2),d=n(3);function f(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(a,o){try{var c=t[a](o),i=c.value}catch(e){return void n(e)}if(!c.done)return Promise.resolve(i).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(i)}("next")}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queryCheckMap=t.openCheckMapModal=void 0;t.openCheckMapModal=(r=u(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=$appRoot,r=n.props,a=r.modal,r.table,a.show(c.MODALS.checkMap),s=t,o(),document.querySelectorAll(".ufoc-mappingcheck-model button")[1].innerHTML='<i class="iconfont refreshIcon icon-shuaxin1"></i>';case 5:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)});var r,a,o=t.queryCheckMap=(a=u(regeneratorRuntime.mark((function e(){var t,n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=$appRoot,(n=t.props).modal,r=n.table,e.next=3,(0,i.getHbSchemeCheckMap)(s);case 3:a=e.sent,r.setAllTableData(c.TABLES.checkMap,a);case 5:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)});t.checkAuth=function(e){if(l(e))return $nccUtil.toast($appRoot.state.json["183001504-000043"],$nccConst.spell.warning),!1;return!0},t.isGlobalDataInGroup=l;var c=n(2),i=n(7);function u(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(a,o){try{var c=t[a](o),i=c.value}catch(e){return void n(e)}if(!c.done)return Promise.resolve(i).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(i)}("next")}))}}var s="";function l(e){return"2"===$appRoot.nodeType&&e===$nccConst.value.global}},,,function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var a,o=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(o)?e:(a=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(a)+")")}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.jsonToArray=function e(t){t=JSON.parse(JSON.stringify(t));var n=[];if(Array.isArray(t))for(var r=0,a=t.length;r<a;r++)n.push(t[r]),Array.isArray(t[r].children)&&t[r].children.length>0&&(n=n.concat(e(t[r].children))),delete t[r].children;return n},t.toTableData=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=JSON.parse(JSON.stringify(e));return n=n.map((function(e){return Object.keys(e).forEach((function(n){e[t+n]={value:e[n]}})),{values:e}}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showCardDataByhbPK=void 0;var r,a,o=t.showCardDataByhbPK=(r=regeneratorRuntime.mark((function e(){var t,n,r,a,o,c,i,l,p,f,h,m,v,b,S,y,g,k,R,_,w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=$appRoot,n=t.props,r=n.cardTable,n.getUrlParam,a=n.form,o=t.cardState,c=t.pk_hbscheme){e.next=3;break}return e.abrupt("return",w());case 3:return e.next=5,(0,s.hbSchemeCardQuery)(c);case 5:(i=e.sent).data&&(l=i.data,p=l.list,f=l.reportSelection,h=l.auditPlan,m=l.workdrafttemp,v={1:!0,2:!1},b={Y:!0,N:!1},S={1:!0,0:!1},y=p.rows[0].values,g=y.ispermithb,k=y.ischeckerrorcommit,R=y.autohasten,y.hasten_bef_day,_=y.pk_org,g.value=b[g.value],R&&(R.value=S[R.value]),k.value=v[k.value],$appRoot.pk_org=_.value,a.setAllFormValue(d({},u.FORMS.cardHead,{rows:[{values:p.rows[0].values}]})),r.setTableData(u.TABLES.reportSelection,f),r.setTableData(u.TABLES.auditPlan,h),r.setTableData(u.TABLES.workdrafttemp,m),u.CARD_STATE.Detail===o&&B(),w());case 7:case"end":return e.stop()}}),e,this)})),a=function(){var e=r.apply(this,arguments);return new Promise((function(t,n){return function r(a,o){try{var c=e[a](o),i=c.value}catch(e){return void n(e)}if(!c.done)return Promise.resolve(i).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(i)}("next")}))},function(){return a.apply(this,arguments)});t.cardPageInit=function(){var e=$appRoot,t=(e.props,e.props.form);e.cardState;A(),t.setFormItemsDisabled(u.FORMS.cardHead,{version:!0,pk_org:!0,creator:!0,creationtime:!0,modifier:!0,modifiedtime:!0})},t.changeCardState=A,t.resetCardPageData=C,t.initForm=x,t.setGlobalOrg=E,t.setGroupOrg=O,t.initTables=P,t.setPageStatus=$,t.setEnableDisable=B;var c=n(23),i=(p(c),p(n(24))),u=n(1),s=n(7),l=n(8);function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=u.BUTTONS.Head,h=f.Save,m=f.SaveAdd,v=f.Cancel,b=(f.HandleBox,f.Add),S=f.Edit,y=f.Delete,g=f.Copy,k=(f.BtnSelect,f.Disable),R=f.Mappingcheck,_=f.Enable,w=(f.Head,f.applyTask),T=u.BUTTONS.Refresh.Refresh;function A(){var e=$appRoot,t=(e.props,e.props.form),n=e.cardState;u.CARD_STATE.Add!==n&&n||C(),u.CARD_STATE.Edit===n?(t.setFormItemsDisabled(u.FORMS.cardHead,{code:!0}),o()):t.setFormItemsDisabled(u.FORMS.cardHead,{code:!1}),u.CARD_STATE.Copy===n&&o((function(){var e=$appRoot.pk_org;(0,l.isGlobalDataInGroup)(e)&&O(),t.setFormItemsValue(u.FORMS.cardHead,{creator:{value:"",display:""},creationtime:{value:"",display:""},modifier:{value:"",display:""},modifiedtime:{value:"",display:""}})})),u.CARD_STATE.Detail===n?o((function(){$("cardReadonly")})):($("cardCanEdit"),setTimeout((function(){t.setFormItemFocus(u.FORMS.cardHead,"code")}),500))}function C(){x(),P()}function x(){var e=$appRoot,t=e.props.form,n=e.nodeType;t.EmptyAllFormValue(u.FORMS.cardHead),"1"===n&&E(),"2"===n&&O(),t.setFormItemsValue(u.FORMS.cardHead,{pk_investscheme:{value:"1001Z010000000003LND",display:$appRoot.state.json["183001504-000033"]}})}function E(){$appRoot.props.form.setFormItemsValue(u.FORMS.cardHead,{pk_org:{value:$nccConst.value.global,display:$appRoot.state.json["183001504-000036"]}})}function O(){var e=$appRoot.props.form,t=$nccPlatform.getBusinessInfo(),n=t.groupId,r=t.groupName;e.setFormItemsValue(u.FORMS.cardHead,{pk_org:{value:n,display:r}}),$appRoot.pk_org=n}function P(){var e=$appRoot.props,t=e.cardTable;e.form,e.button;t.setTableData(u.TABLES.reportSelection,{rows:[]}),t.setTableData(u.TABLES.auditPlan,{rows:[]}),t.setTableData(u.TABLES.workdrafttemp,{rows:[]})}function $(e,t){var n=$appRoot,r=n.props,a=r.button,o=r.form,s=(n.cardState,n.pk_hbscheme),p=n.pk_org,d=a.setButtonVisible,f=a.setButtonDisabled,A=[h,m,v,b,S,y,g,T,k,_,w,R];(d(A,!1),f(A,!1),"cardCanEdit"===e)&&(d([].concat([h,m,v,w]),!0),d([k,_],!1),i.default.setVisible(!1),(0,c.setBackBtnVisible)(!1),o.setFormStatus(u.FORMS.cardHead,"edit"),d(u.BUTTONS.SelectReportSampleHead.SelectReportSample,!0),d(u.BUTTONS.SelectAuditPlanHead.SelectAuditPlan,!0),d(u.BUTTONS.workdrafttempHead.workdrafttemp,!0));"cardReadonly"===e&&(d([b,S,y,g,T,R,k,_],!0),i.default.setVisible(!0),(0,c.setBackBtnVisible)(!0),o.setFormStatus(u.FORMS.cardHead,"browse"),d(u.BUTTONS.SelectReportSampleHead.SelectReportSample,!1),d(u.BUTTONS.SelectAuditPlanHead.SelectAuditPlan,!1),d(u.BUTTONS.workdrafttempHead.workdrafttemp,!1),(0,l.isGlobalDataInGroup)(p)?d([S,y,k,_],!1):B(),s||(d([S,y,g,R,k,_],!1),i.default.setVisible(!1)))}function B(){var e=$appRoot,t=e.props,n=t.button,r=t.form,a=(e.cardState,n.setButtonVisible),o=(n.setButtonDisabled,r.getAllFormValue(u.FORMS.cardHead).rows[0].values.enablestate.value);"2"===o?(a([k],!0),a([_],!1)):"3"===o?(a([k],!1),a([_],!0)):a([_,k],!1)}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.handleButtonClick=void 0;var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&i.return&&i.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.handleEnableDisable=w,t.handleEnableRow=T,t.handleDisabledRow=A,t.setTopButtonStatus=C;var o,c=n(25),i=((o=c)&&o.__esModule,n(3)),u=n(7),s=n(26),l=n(8);function p(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(a,o){try{var c=t[a](o),i=c.value}catch(e){return void n(e)}if(!c.done)return Promise.resolve(i).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(i)}("next")}))}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=i.BUTTONS.Head,h=f.Add,m=f.Edit,v=f.Delete,b=f.Copy,S=f.Refresh,y=f.Enable,g=f.Disable,k=f.Mappingcheck;f.Head;function R(){var e=$appRoot.props.table.getClickRowIndex(i.TABLES.list);return e?[e.record.values,e.index]:($nccUtil.toast($appRoot.state.json["183001504-000039"],$nccConst.spell.warning),!1)}t.handleButtonClick=(d(r={},h,(function(e,t){var n=e.table,r=e.pushTo,a=n.getAllTableData(i.TABLES.list).rows;r(i.PAGE_CONST.cardPath,{cardState:h,pk_hbscheme:_.get(a[a.length-1],"values.pk_hbscheme.value")}),$nccStore.setSession("cardState",h)})),d(r,m,(function(e,t){e.table;var n=e.pushTo,r=R(),o=a(r,1)[0];if(o){var c;if(!(0,l.checkAuth)(o.pk_org.value))return;n(i.PAGE_CONST.cardPath,(d(c={},i.PAGE_CONST.pk_hbscheme,o.pk_hbscheme.value),d(c,"cardState",m),c))}})),d(r,v,(function(e,t){var n=this,r=e.table;return p(regeneratorRuntime.mark((function e(){var t,o,c,p,d,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=$appRoot,t.nodeType,o=R(),c=a(o,2),p=c[0],d=c[1],!p){e.next=8;break}if((0,l.checkAuth)(p.pk_org.value)){e.next=5;break}return e.abrupt("return");case 5:f=r.getAllTableData(i.TABLES.list).rows.length,d===f-1&&d--,(0,u.hbSchemeDelete)(p.pk_hbscheme.value,(function(){(0,s.queryList)((function(){var e=r.getAllTableData(i.TABLES.list).rows[d].values;w(e.enablestate.value),r.selectTableRows(i.TABLES.list,d,!0),r.setClickRowIndex(i.TABLES.list,{record:{values:e},index:d})}))}));case 8:case"end":return e.stop()}}),e,n)})))()})),d(r,b,(function(e,t){e.table;var n,r=e.pushTo,o=R(),c=a(o,1)[0];c&&r(i.PAGE_CONST.cardPath,(d(n={},i.PAGE_CONST.pk_hbscheme,c.pk_hbscheme.value),d(n,"cardState",b),n))})),d(r,S,(function(e){(0,s.queryList)((function(){C("tableRowNotSelected")}),"refresh")})),d(r,y,(function(e,t){var n=this;e.table;return p(regeneratorRuntime.mark((function e(){var t,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=R(),r=a(t,2),o=r[0],r[1],!o){e.next=5;break}if((0,l.checkAuth)(o.pk_org.value)){e.next=4;break}return e.abrupt("return");case 4:(0,u.hbSchemeStopAndStart)(o.pk_hbscheme.value,"start",$appRoot.state.json["183001504-000019"],(function(){(0,s.queryList)(),T()}));case 5:case"end":return e.stop()}}),e,n)})))()})),d(r,g,(function(e,t){var n=this;e.table;return p(regeneratorRuntime.mark((function e(){var t,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=R(),r=a(t,1),!(o=r[0])){e.next=5;break}if((0,l.checkAuth)(o.pk_org.value)){e.next=4;break}return e.abrupt("return");case 4:(0,u.hbSchemeStopAndStart)(o.pk_hbscheme.value,"stop",$appRoot.state.json["183001504-000021"],(function(){(0,s.queryList)(),A()}));case 5:case"end":return e.stop()}}),e,n)})))()})),d(r,k,(function(e){var t=this;e.modal,e.table;return p(regeneratorRuntime.mark((function e(){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=R(),r=a(n,1),(o=r[0])&&(0,l.openCheckMapModal)(o.pk_hbscheme.value);case 2:case"end":return e.stop()}}),e,t)})))()})),r);function w(e){"2"===e&&T(),"3"===e&&A()}function T(){var e=$appRoot.props.button;e.setButtonDisabled(y,!0),e.setButtonDisabled(g,!1)}function A(){var e=$appRoot.props.button;e.setButtonDisabled(g,!0),e.setButtonDisabled(y,!1)}function C(e){var t=$appRoot.props.button,n=[m,v,b,g,k,y];"tableRowNotSelected"===e&&t.setButtonDisabled(n,!0),"tableRowSelected"===e&&t.setButtonDisabled(n,!1)}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){$appRoot.state.json;return React.createElement("div",null,(0,o.default)(c.MODALS.checkMap,$appRoot.state.json["183001504-000040"]))};var r,a=n(20),o=(r=a)&&r.__esModule?r:{default:r},c=n(2)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&i.return&&i.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.default=function e(t,n){var o=$appRoot.props,l=(o.button,o.cardTable),f=o.modal,h=($appRoot.state.json,(0,c.useState)([])),m=a(h,2),v=m[0],b=m[1],S=(0,c.useState)([]),y=a(S,2),g=y[0],k=y[1],R=(0,c.useRef)(),_=(0,c.useRef)();e.dataSourceEdit=b,e.targetKeysEdit=k;var w={dataSource:v,targetKeys:g,rowKey:"key",rowTitle:"title",rowChildren:"children",treeType:!0,onTargetKeysChange:function(e){k(e)},checkable:!0,className:"my-transfer-demo",showMoveBtn:!0,listRender:function(e){e.code;return""+e.name}},T={title:n,content:i.default.createElement("div",{className:"transfer-box"},i.default.createElement(p,r({fieldid:"selectReportSampleModal"},w))),width:800,height:560,showMaxButton:!0,cancelBtnClick:function(){f.close(t)},beSureBtnClick:function(){var e=[];R.current.forEach((function(t){e.push(d&&d.find((function(e){return e.key===t})))}));var t=(0,s.toTableData)(e);t.forEach((function(e){e.values.pk_report={value:e.values.nodeData.value.reportPk},e.values["pk_report.code"]={value:e.values.nodeData.value.reportCode},e.values["pk_report.name"]={value:e.values.nodeData.value.reportName}})),l.setTableData(u.TABLES.reportSelection,{rows:t})}};return(0,c.useEffect)((function(){R.current=g}),[g]),(0,c.useEffect)((function(){_.current=v,d=(0,s.jsonToArray)(v)}),[v]),f.createModal(t,T)};var o,c=n(0),i=(o=c)&&o.__esModule?o:{default:o},u=n(1),s=n(12);var l=$nccPlatform,p=(l.base,l.high.Transfer),d=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&i.return&&i.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.default=function e(t,n){var o=$appRoot.props,l=(o.button,o.cardTable),f=o.modal,h=($appRoot.state.json,(0,c.useState)([])),m=a(h,2),v=m[0],b=m[1],S=(0,c.useState)([]),y=a(S,2),g=y[0],k=y[1];e.dataSourceEdit=b,e.targetKeysEdit=k;var R=(0,c.useRef)(),w=(0,c.useRef)(),T={dataSource:v,targetKeys:g,rowKey:"key",rowTitle:"title",rowChildren:"children",treeType:!0,onTargetKeysChange:function(e){k(e)},checkable:!0,className:"my-transfer-demo",showMoveBtn:!0,listRender:function(e){e.key;return e.title}},A={title:n,content:i.default.createElement("div",{className:"transfer-box"},i.default.createElement(p,r({fieldid:"selectAuditPlanModal"},T))),width:800,height:560,showMaxButton:!0,cancelBtnClick:function(){f.close(t)},beSureBtnClick:function(){var e=[];R.current.forEach((function(t){e.push(d&&d.find((function(e){return e.key===t})))}));var t=(0,s.toTableData)(e);t.forEach((function(e){var t=_.get(e,"values.nodeData.value.rows[0].values.id.value","");e.values["parent_id.name"]={value:d&&d.find((function(t){return t.id===e.values.pid.value})).name},e.values.name={value:e.values.nodeData.value.checkName},e.values.pk_check_schema={value:e.values.key.value},e.values.id={value:t}})),console.warn(t),l.setTableData(u.TABLES.auditPlan,{rows:t})}};return(0,c.useEffect)((function(){R.current=g}),[g]),(0,c.useEffect)((function(){w.current=v,d=(0,s.jsonToArray)(v)}),[v]),f.createModal(t,A)};var o,c=n(0),i=(o=c)&&o.__esModule?o:{default:o},u=n(1),s=n(12);var l=$nccPlatform,p=(l.base,l.high.Transfer),d=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&i.return&&i.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.default=function e(t,n){var o=$appRoot.props,l=(o.button,o.cardTable),f=o.modal,h=($appRoot.state.json,(0,c.useState)([])),m=a(h,2),v=m[0],b=m[1],S=(0,c.useState)([]),y=a(S,2),g=y[0],k=y[1];e.dataSourceEdit=b,e.targetKeysEdit=k;var R=(0,c.useRef)(),w=(0,c.useRef)(),T={dataSource:v,targetKeys:g,rowKey:"key",rowTitle:"title",rowChildren:"children",treeType:!0,onTargetKeysChange:function(e){k(e)},checkable:!0,className:"my-transfer-demo",showMoveBtn:!0,listRender:function(e){e.code;return""+e.name}},A={title:n,content:i.default.createElement("div",{className:"transfer-box"},i.default.createElement(p,r({fieldid:"selectWorkdrafttempModal"},T))),width:800,height:560,showMaxButton:!0,cancelBtnClick:function(){f.close(t)},beSureBtnClick:function(){var e=[];R.current.forEach((function(t){e.push(d&&d.find((function(e){return e.key===t})))}));var t=(0,s.toTableData)(e);t.forEach((function(e){e.values.pk_workdrafttemp=_.get(e,"values.nodeData.value.rows[0].values.pk_workdrafttemp",{}),e.values.code=_.get(e,"values.nodeData.value.rows[0].values.code",{}),e.values.name=_.get(e,"values.nodeData.value.rows[0].values.name",{}),e.values.unitshowtype=_.get(e,"values.nodeData.value.rows[0].values.unitshowtype",{}),e.values.dxshowtype=_.get(e,"values.nodeData.value.rows[0].values.dxshowtype",{})})),l.setTableData(u.TABLES.workdrafttemp,{rows:t})}};return(0,c.useEffect)((function(){R.current=g,w.current=v,d=(0,s.jsonToArray)(v)}),[g,v]),f.createModal(t,A)};var o,c=n(0),i=(o=c)&&o.__esModule?o:{default:o},u=n(1),s=n(12);var l=$nccPlatform,p=(l.base,l.high.Transfer),d=[]},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&i.return&&i.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.default=function(e,t){var n=$appRoot.props,r=n.button,a=n.table,c=n.modal,l=$appRoot.state.json,p=(0,i.useState)(451),d=o(p,2),f=(d[0],d[1],u.default.createElement("div",{fieldid:"MappingcheckHead",className:"ufoc-mappingcheck-model flex-container",style:{height:"100%"}},u.default.createElement("div",{className:"ufoc-mappingcheck-head",style:{flex:"none"}},r.createButtonApp({area:h,onButtonClick:function(e,t){b[t](e,l)},buttonLimit:3})),u.default.createElement("div",{className:"flex-container",style:{flex:"auto"}},a.createSimpleTable(s.TABLES.checkMap,{showIndex:!0,inModal:!0,adaptionHeight:!0})))),m={title:t,content:f,size:"lg",noFooter:!0};return c.createModal(e,m)};var c,i=n(0),u=(c=i)&&c.__esModule?c:{default:c};n(21);var s=n(2),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),p=n(8);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=s.BUTTONS.MappingcheckHead,h=f.MappingcheckHead,m=f.MappingcheckRefresh,v=f.DefineMapping;var b=(d(r={},m,(function(e){var t,n=this;return(t=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.queryCheckMap)();case 2:$nccUtil.toast($appRoot.state.json["183001504-000038"],$nccConst.spell.success);case 3:case"end":return e.stop()}}),e,n)})),function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function r(a,o){try{var c=e[a](o),i=c.value}catch(e){return void n(e)}if(!c.done)return Promise.resolve(i).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(i)}("next")}))})()})),d(r,v,(function(e){var t=e.table,n=e.form,r=$appRoot.nodeType,o=void 0,c=void 0,i=void 0,u=void 0,s=t.getClickRowIndex(l.TABLES.list);if(s){var p=s.record.values;o=p.code.value,c=p.name.value,i=p.pk_hbscheme.value,u=p.pk_org.value}else{var d=n.getAllFormValue("cardHead").rows[0].values;o=d.code.value,c=d.name.value,i=d.pk_hbscheme.value,u=d.pk_org.value}"2"!==r||u!==$nccConst.value.global?$nccPlatform.pageTo.openTo("/ufoc/hbprojectmanage/batchMapping/list/",a({},{},{code:o,name:c,nodeType:r,pk_hbscheme:i})):$nccUtil.toast($appRoot.state.json["183001504-000053"],$nccConst.spell.warning)})),r)},function(e,t,n){var r=n(22);"string"==typeof r&&(r=[[e.i,r,""]]);var a={transform:void 0};n(5)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(4)(!1)).push([e.i,".ufoc-mappingcheck-head {\n  margin-bottom: 5px;\n  text-align: right;\n}\n.ufoc-mappingcheck-head button {\n  min-width: auto !important;\n}\n.ufoc-mappingcheck-head button .iconfont {\n  color: #555;\n  font-size: 22px !important;\n}\n.ufoc-mappingcheck-head .flex-container {\n  overflow: hidden;\n}\n.ufoc-mappingcheck-model .flex-container {\n  overflow: hidden;\n  height: 100%;\n}\n.ufoc-mappingcheck-model .flex-container .table-wrapper.table-next-body-inner-wrapper {\n  max-height: none !important;\n}\n",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&i.return&&i.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.handlClick=i,t.default=function(e){var t=(0,o.useState)(!0),n=r(t,2),a=n[0],c=n[1];return Object.assign(u,{flagSet:c}),$appRoot.props.BillHeadInfo.createBillHeadInfo({title:e.title,backBtnClick:i,initShowBackBtn:a})},t.setBackBtnVisible=function(e){u.flagSet(e)};var a,o=n(0),c=((a=o)&&a.__esModule,n(1));function i(){var e=$appRoot,t=e.props;e.state;t.pushTo(c.PAGE_CONST.listPath)}var u={}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&i.return&&i.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.default=function e(){var t=$appRoot.props.cardPagination,n=(0,a.useState)(!1),i=r(n,2),u=i[0],s=i[1];e.setVisible=s,window.CardPagination=e;return React.createElement("span",{style:(l=u,{display:l?"block":"none"})},t.createCardPagination({handlePageInfoChange:function(e,t,n){$appRoot.pk_hbscheme=t,(0,o.showCardDataByhbPK)((function(){(0,o.setPageStatus)("cardReadonly")}))},dataSource:c.PAGE_CONST.dataSource,urlPkname:c.PAGE_CONST.pk_hbscheme}));var l};var a=n(0),o=n(13),c=n(1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=$appRoot,t=e.props,n=t.table,o=n.createSimpleTable;n.setAllTableData,t.getPageCode,e.state.json;return o(r.TABLES.list,{showIndex:!0,adaptionHeight:!0,dataSource:r.PAGE_CONST.dataSource,pkname:r.PAGE_CONST.pk_hbscheme,componentInitFinished:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];console.warn(t)},onAfterEvent:function(){},selectedChange:function(e,t,n,r){e.table},onSelectedAll:function(){},onSelected:function(e,t,n){e.table,e.button;(0,a.setTopButtonStatus)("tableRowSelected"),(0,a.handleEnableDisable)(n.enablestate.value)},onRowClick:function(e,t,n){e.table,e.button;(0,a.setTopButtonStatus)("tableRowSelected"),(0,a.handleEnableDisable)(n.enablestate.value)},onRowDoubleClick:function(e,t,n,a){var o=e.pk_hbscheme.value;n.pushTo(r.PAGE_CONST.cardPath,{pk_hbscheme:o,cardState:"Detail"})}})};n(0);var r=n(3),a=n(14)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queryList=void 0;var r,a,o=t.queryList=(r=regeneratorRuntime.mark((function e(){var t,n,r,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},o=arguments[1];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=$appRoot,n=t.props.table.setAllTableData,e.next=3,(0,i.getList)();case 3:(r=e.sent)&&(n(c.TABLES.list,r),a(),"refresh"===o&&$nccUtil.toast($appRoot.state.json["183001504-000038"],$nccConst.spell.success));case 5:case"end":return e.stop()}}),e,this)})),a=function(){var e=r.apply(this,arguments);return new Promise((function(t,n){return function r(a,o){try{var c=e[a](o),i=c.value}catch(e){return void n(e)}if(!c.done)return Promise.resolve(i).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(i)}("next")}))},function(){return a.apply(this,arguments)});t.pageInit=function(){var e=$appRoot.props.table.getClickRowIndex;(0,u.setTopButtonStatus)("tableRowNotSelected"),o((function(){var t=e(c.TABLES.list);if(t){(0,u.setTopButtonStatus)("tableRowSelected");var n=_.get(t,"record.values.enablestate.value");(0,u.handleEnableDisable)(n)}}),"query")};var c=n(3),i=n(48),u=n(14)},,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=v(n(0)),c=n(33),i=n(1),u=n(2),s=v(n(34)),l=n(38),p=v(n(24)),d=v(n(23)),f=v(n(41)),h=v(n(42)),m=n(13);function v(e){return e&&e.__esModule?e:{default:e}}function b(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(a,o){try{var c=t[a](o),i=c.value}catch(e){return void n(e)}if(!c.done)return Promise.resolve(i).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(i)}("next")}))}}n(44);var S=$nccPlatform.createPage({})(r=$nccUtil.AppWrapper({lang:{resources:[{domainName:"ufoc",moduleId:"183001504"}]},use:{cardTable:[i.TABLES.reportSelection,i.TABLES.auditPlan,i.TABLES.workdrafttemp],table:[i.TABLES.applyTask,u.TABLES.checkMap],form:[i.FORMS.cardHead]},changeFields:{},pageId:""})(r=function(e){function t(e){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.handleMounted=b(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.init();case 2:(0,m.cardPageInit)();case 3:case"end":return e.stop()}}),e,n)}))),r.state={title:e.getSearchParam("n"),json:{}},r.cardState=e.getUrlParam("cardState")||"Add",r.pk_hbscheme=e.getUrlParam("pk_hbscheme"),r.appCode=e.getAppCode(),r.pageCode=r.appCode+"_card",r.pk_group=$nccPlatform.getBusinessInfo().groupId,r.pk_org="",r.nodeType="1",r}var n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"init",value:(n=b(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.initTemplate.call(this);case 2:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"componentDidUpdate",value:function(){(0,c.afterLangUpdate)()}},{key:"render",value:function(){var e=this.state,t=e.title,n=(e.json,o.default.createElement(d.default,{title:t})),r=o.default.createElement(l.TopButtons,null),a={refResh:o.default.createElement(l.RefreshBtn,null),BillHeader:n,Button:r,cardPagination:o.default.createElement(p.default,null),Form:o.default.createElement(f.default,null),TableOne:o.default.createElement(h.default,null)};return o.default.createElement("div",null,o.default.createElement($nccCom.NcBillCard,{pageConfig:a,mounted:this.handleMounted}),o.default.createElement(s.default,null))}}]),t}(o.default.Component))||r)||r;t.default=S},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initTemplate=void 0;var r,a;t.initTemplate=(r=regeneratorRuntime.mark((function e(){var t,n,r,a,o,u,s,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.pageCode,n=this.appCode,e.next=3,this.getTemplate({pagecode:t,appcode:n});case 3:r=e.sent,a=r.template,o=r.button,u=r.context,s=_.get(u,"paramMap.orgTypeCode"),l=void 0,s===$nccConst.value.global&&(l="1"),s===$nccConst.value.group&&(l="2"),this.nodeType=l,this.props.button.setButtons(i.call(this,o)),this.props.meta.setMeta(c.call(this,a));case 14:case"end":return e.stop()}}),e,this)})),a=function(){var e=r.apply(this,arguments);return new Promise((function(t,n){return function r(a,o){try{var c=e[a](o),i=c.value}catch(e){return void n(e)}if(!c.done)return Promise.resolve(i).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(i)}("next")}))},function(){return a.apply(this,arguments)});t.afterLangUpdate=function(){var e=$appRoot,t=e.props.renderItem,n=e.nodeType,r=e.state.json,a={nodeType:"0",pk_org:""},c={nodeType:"0",pk_org:""};"2"==n&&(a.nodeType="1",a.pk_org=$appRoot.pk_group,c.nodeType="1",c.pk_org=$appRoot.pk_group);if(r["183001504-000046"]){var i=r["183001504-000046"],u=r["183001504-000047"],s=r["183001504-000048"],l=r["183001504-000049"],p=r["183001504-000050"],d=r["183001504-000051"],f=r["183001504-000052"],h=r["183001504-000054"],m=[{name:[i,s,l,u,h,f,p],code:["pk_org","refcode","refname","parent_id","version","isaddadjust","note"]}],v=[{name:[i,s,l,u,d,p],code:["pk_org","refcode","refname","parent_id","isaddvouch","note"]}];t("form",o.FORMS.cardHead,"pk_adjustscheme",React.createElement($nccRefer.AdjustSchemeGridRef,{queryCondition:a,columnConfig:m})),t("form",o.FORMS.cardHead,"pk_dxscheme",React.createElement($nccRefer.DXSchemeGridRef,{queryCondition:c,columnConfig:v}))}};var o=n(1);function c(e){var t=this.props.renderItem,n=this.nodeType,r={queryCondition:{pk_org:$nccConst.value.global},isCacheable:!1};"2"==n&&(r.queryCondition.pk_group=$appRoot.pk_group),t("form",o.FORMS.cardHead,"pk_investscheme",React.createElement($nccRefer.StockInvestSchemeRef,r)),t("form",o.FORMS.cardHead,"pk_keygroup",React.createElement($nccRefer.KeyCombinationRef,{onlyName:!0})),e[o.FORMS.cardHead].status="browse",e.cardAttr.items.find((function(e){return"ischeckerrorcommit"===e.attrcode})).itemtype="checkbox_switch",e.cardAttr.items.find((function(e){return"ispermithb"===e.attrcode})).itemtype="checkbox_switch";var a=e.cardAttr.items.find((function(e){return"autohasten"===e.attrcode}));a&&(a.itemtype="checkbox_switch");var c=e.cardHead.items.find((function(e){return"code"===e.attrcode})),i=e.cardHead.items.find((function(e){return"version"===e.attrcode}));return c.maxlength="4",c.itemtype="input",i.itemtype="input",e.auditPlan.items.find((function(e){return"id"===e.attrcode})).render=function(e,t,n){return React.createElement("span",null,t.refcode.value)},e}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){$appRoot.state.json;return React.createElement("div",null,(0,c.default)(u.MODALS.applyTask,$appRoot.state.json["183001504-000013"]),(0,r.default)(u.MODALS.SelectReportSample,$appRoot.state.json["183001504-000004"]),(0,a.default)(u.MODALS.SelectAuditPlan,$appRoot.state.json["183001504-000005"]),(0,o.default)(u.MODALS.workdrafttemp,$appRoot.state.json["183001504-000002"]),React.createElement(i.default,null))};var r=s(n(17)),a=s(n(18)),o=s(n(19)),c=s(n(35)),i=s(n(16)),u=n(1);function s(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a,o=(r=regeneratorRuntime.mark((function e(t){var n,r,a,o,c,i,u,d,f,h,m,v,b;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$appRoot,r=n.props,a=r.cardTable,o=r.form,delete t.code,c=t.pk_accscheme,i=t.commit_end_day,u=t.hasten_bef_day,(d=t.autohasten)&&(d.value=1==d.value),f={pk_accperiodscheme:c,commit_end_day:i,hasten_bef_day:u,autohasten:d},console.warn(t,f),o.setAllFormValue(p({},s.FORMS.cardHead,{rows:[{values:f}]})),h=t.pk_org.value===$nccConst.value.global?"182001016A":"182001020A",m={pageCode:h+"_card",appCode:h,reportAreaCode:"iufo_taskreport",schemeAreaCode:"iufo_taskscheme",pk_task:t.pk_task.value},e.next=11,(0,l.hbSchemeApplyTaskOK)(m);case 11:v=e.sent,(b=_.get(v,"data.iufo_taskscheme",{rows:[]})).rows.forEach((function(e){e.values.pk_check_schema=e.values.pk_scheme,e.values.id=e.values["pk_scheme.id"],e.values.name=e.values["pk_scheme.name"],e.values.parent_id=e.values["pk_scheme.parent_id"]})),a.setTableData(s.TABLES.reportSelection,_.get(v,"data.iufo_taskreport"),{rows:[]}),a.setTableData(s.TABLES.auditPlan,b);case 16:case"end":return e.stop()}}),e,this)})),a=function(){var e=r.apply(this,arguments);return new Promise((function(t,n){return function r(a,o){try{var c=e[a](o),i=c.value}catch(e){return void n(e)}if(!c.done)return Promise.resolve(i).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(i)}("next")}))},function(e){return a.apply(this,arguments)});t.default=function(e,t){var n=$appRoot.props,r=n.table,a=r.createSimpleTable,c=r.getClickRowIndex,i=n.modal,l=(n.form,$appRoot.state.json,u.default.createElement("div",{className:"dialog-content flex-container",fieldid:"applyTask"},a(s.TABLES.applyTask,{showIndex:!0,adaptionHeight:!0,componentInitFinished:function(){},onAfterEvent:function(){},selectedChange:function(){},onSelectedAll:function(){},onSelected:function(){},onRowDoubleClick:function(t,n){i.close(e),o(t)}}))),p={title:t,content:l,size:"lg",cancelBtnClick:function(){i.close(e)},beSureBtnClick:function(){var e=c(s.TABLES.applyTask);if(!e)return $nccUtil.toast($appRoot.state.json["183001504-000018"],$nccConst.spell.warning);var t=e.record.values;o(t)}};return i.createModal(e,p)};var c,i=n(0),u=(c=i)&&c.__esModule?c:{default:c},s=n(1),l=n(7);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(36)},function(e,t,n){var r=n(37);"string"==typeof r&&(r=[[e.i,r,""]]);var a={transform:void 0};n(5)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(4)(!1)).push([e.i,".table-style-wrapper .simple-table .table-next-body-wrapper .table-next-body-inner-wrapper {\n  max-height: none !important;\n}\n",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TopButtons=function(){return $appRoot.props.button.createButtonApp({area:o,onButtonClick:function(e,t){r.handleButtonClick[t](e,$appRoot.state.json)},buttonLimit:3})},t.RefreshBtn=function(){return $appRoot.props.button.createButtonApp({area:c,onButtonClick:function(e,t){r.handleButtonClick[t](e,$appRoot.state.json)},buttonLimit:3})};n(0);var r=n(39),a=n(1),o=a.BUTTONS.Head.Head,c=a.BUTTONS.Refresh.Refresh},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.handleButtonClick=void 0;var a=n(6),o=n(1),c=n(13),i=n(40),u=n(7),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),l=n(8);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(a,o){try{var c=t[a](o),i=c.value}catch(e){return void n(e)}if(!c.done)return Promise.resolve(i).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(i)}("next")}))}}var f=o.BUTTONS.Head,h=f.Save,m=f.SaveAdd,v=f.Cancel,b=(f.HandleBox,f.Add),S=f.Edit,y=f.Delete,g=f.Copy,k=(f.BtnSelect,f.Disable),R=f.Mappingcheck,_=f.Enable,w=(f.Head,f.applyTask),T=o.BUTTONS.Refresh.Refresh,A=t.handleButtonClick=(p(r={},h,(function(e){var t=this;return d(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=$appRoot,n.cardState,n.props.cardPagination,(0,i.hbSchemeAdd)((function(){$nccPlatform.toast({color:"success",content:$appRoot.state.json["183001504-000012"]}),(0,c.setPageStatus)("cardReadonly"),(0,c.showCardDataByhbPK)()}));case 2:case"end":return e.stop()}}),e,t)})))()})),p(r,m,(function(){var e=this;return d(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,i.hbSchemeAdd)((function(){$nccPlatform.toast({color:"success",content:$appRoot.state.json["183001504-000015"]}),A[b]()}));case 1:case"end":return e.stop()}}),t,e)})))()})),p(r,v,(function(e,t){e.form;var n=$appRoot.cardState;$nccPlatform.promptBox({color:"warning",title:$appRoot.state.json["183001504-000008"],content:$appRoot.state.json["183001504-000009"],beSureBtnClick:function(){(0,a.clearToast)(),$appRoot.cardState=o.CARD_STATE.Detail,(0,c.showCardDataByhbPK)((function(){(0,c.setPageStatus)("cardReadonly")})),[s.BUTTONS.Head.Add].includes(n),[s.BUTTONS.Head.Copy].includes(n),[s.BUTTONS.Head.Edit].includes(n)}})})),p(r,b,(function(){$appRoot.cardState=o.CARD_STATE.Add,(0,c.changeCardState)()})),p(r,S,(function(){var e=$appRoot.pk_org;(0,l.checkAuth)(e)&&($appRoot.cardState=o.CARD_STATE.Edit,(0,c.changeCardState)())})),p(r,y,(function(e){var t=this;e.form,e.cardPagination;return d(regeneratorRuntime.mark((function e(){var n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=$appRoot,r=n.pk_org,a=n.pk_hbscheme,(0,l.checkAuth)(r)){e.next=3;break}return e.abrupt("return");case 3:if(!a){e.next=8;break}return e.next=6,(0,u.hbSchemeDelete)(a,(function(){if($appRoot.prev_pk_hbscheme){$appRoot.pk_hbscheme=$appRoot.prev_pk_hbscheme;var e=$nccPlatform.cardCache.getListDefCache(o.PAGE_CONST.dataSource).allpks,t=e.findIndex((function(e){return e===$appRoot.prev_pk_hbscheme}));$nccPlatform.cardCache.getNextId(e[t-1],o.PAGE_CONST.dataSource)}else $appRoot.pk_hbscheme=$nccPlatform.cardCache.getNextId(a,o.PAGE_CONST.dataSource);$nccPlatform.cardCache.deleteCacheById(o.PAGE_CONST.pk_hbscheme,a,o.PAGE_CONST.dataSource),$appRoot.setState({title:$appRoot.state.title}),$appRoot.cardState=o.CARD_STATE.Detail,(0,c.showCardDataByhbPK)((function(){(0,c.setPageStatus)("cardReadonly")}))}));case 6:e.next=9;break;case 8:$nccUtil.toast($appRoot.state.json["183001504-000037"],$nccConst.spell.warning);case 9:case"end":return e.stop()}}),e,t)})))()})),p(r,g,(function(){$appRoot.cardState=o.CARD_STATE.Copy,(0,c.changeCardState)()})),p(r,T,(function(){(0,c.showCardDataByhbPK)((function(){(0,c.setPageStatus)("cardReadonly"),$nccUtil.toast($appRoot.state.json["183001504-000038"],$nccConst.spell.success)}))})),p(r,_,(function(e){e.form;var t=$appRoot.pk_org;(0,l.checkAuth)(t)&&(0,u.hbSchemeStopAndStart)($appRoot.pk_hbscheme,"start",$appRoot.state.json["183001504-000019"],(function(){(0,c.showCardDataByhbPK)((function(){(0,c.setPageStatus)("cardReadonly")}))}))})),p(r,k,(function(e){e.form;var t=$appRoot.pk_org;(0,l.checkAuth)(t)&&(0,u.hbSchemeStopAndStart)($appRoot.pk_hbscheme,"stop",$appRoot.state.json["183001504-000021"],(function(){(0,c.showCardDataByhbPK)((function(){(0,c.setPageStatus)("cardReadonly")}))}))})),p(r,R,(function(e){e.modal,e.form;(0,l.openCheckMapModal)($appRoot.pk_hbscheme)})),p(r,w,(function(e,t){var n=this,r=e.form,a=e.modal,c=e.table,i=(c.createSimpleTable,c.setAllTableData),u=r.getFormItemsValue(o.FORMS.cardHead,"pk_keygroup").value;if(!u)return $nccUtil.toast($appRoot.state.json["183001504-000032"],$nccConst.spell.warning);a.show(w,{},d(regeneratorRuntime.mark((function e(){var t,r,a,c,s,l,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=$appRoot,r=t.pageCode,a=t.nodeType,c=t.pk_group,s={pageCode:r,nodeType:a,pk_org:$nccConst.value.global,areaCode:o.TABLES.applyTask,pk_keygroup:u},"2"===a&&(s.pk_group=c),l={rows:[]},i(o.TABLES.applyTask,l),e.next=7,$nccUtil.promiseAjax(o.URLS.hbSchemeApplyTask,s);case 7:(p=e.sent).data?l=p.data.applyTask||l:$nccUtil.toast($appRoot.state.json["183001504-000016"],$nccConst.spell.warning),i(o.TABLES.applyTask,l);case 10:case"end":return e.stop()}}),e,n)}))))})),r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hbSchemeAdd=void 0;t.hbSchemeAdd=(r=regeneratorRuntime.mark((function e(){var t,n,r,a,i,f,h,m,v,b,S,y,g,k,R,_,w,T,A,C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=$appRoot).props,(n=t.props).button,n.editTable,r=n.form,n.modal,a=n.cardTable,i=n.cardPagination,t.state.json,f=t.cardState,(0,o.clearToast)(),r.isCheckNow(c.FORMS.cardHead)){e.next=4;break}return e.abrupt("return");case 4:return h=r.getAllFormValue(c.FORMS.cardHead),[u,s].includes(f)&&delete h.rows[0].values.pk_hbscheme,m=h.rows[0].values,v=m.ispermithb,b=m.ischeckerrorcommit,S=m.autohasten,m.hasten_bef_day,[!0,!1].includes(v.value)&&(v.value=p[v.value]),[!0,!1].includes(b.value)&&(b.value=l[b.value]),S&&[!0,!1].includes(S.value)&&(S.value=d[S.value]),y=a.getAllData(c.TABLES.reportSelection).rows.map((function(e){return e.values.pk_report.value})),g=a.getAllData(c.TABLES.auditPlan).rows.map((function(e){return e.values.pk_check_schema.value})),k=a.getAllData(c.TABLES.workdrafttemp).rows.map((function(e){return e.values.pk_workdrafttemp.value})),R={Add:"add",Edit:"modify",Copy:"copy"},_={Add:c.URLS.hbSchemeAdd,Edit:c.URLS.hbSchemeModify,Copy:c.URLS.hbSchemeCopy},w={hbschemeVO:{model:h},pk_check_schema:g,pk_reports:y,pk_workdrafttemp:k,type:R[f]},e.next=18,$nccUtil.promiseAjax(_[f],w);case 18:if(!(T=e.sent).success){e.next=24;break}return(0,o.clearToast)(),[u,s].includes(f)&&(A=T.data,i.setCardPaginationId({status:"2",id:A}),$appRoot.prev_pk_hbscheme=$appRoot.pk_hbscheme,$appRoot.pk_hbscheme=A),C(),e.abrupt("return",!0);case 24:return e.abrupt("return",!1);case 25:case"end":return e.stop()}}),e,this)})),a=function(){var e=r.apply(this,arguments);return new Promise((function(t,n){return function r(a,o){try{var c=e[a](o),i=c.value}catch(e){return void n(e)}if(!c.done)return Promise.resolve(i).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(i)}("next")}))},function(){return a.apply(this,arguments)});var r,a,o=n(6),c=n(1);var i=c.BUTTONS.Head,u=(i.Save,i.SaveAdd,i.Cancel,i.HandleBox,i.Add),s=(i.Edit,i.Delete,i.Copy),l=(i.BtnSelect,i.Disable,i.Mappingcheck,i.Enable,i.Head,i.applyTask,{true:"1",false:"2"}),p={true:"Y",false:"N"},d={true:"1",false:"0"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=this,t=$appRoot,n=t.props,r=(t.state.json,n.form),i=(n.button,n.editTable,n.renderItem,n.cardTable);return(0,a.useEffect)((function(){r.setFormStatus(o.FORMS.cardHead,"edit")}),[]),r.createForm(o.FORMS.cardHead,{onBeforeEvent:function(){},onAfterEvent:function(t,n,a,u,s,l,p){if("code"===a&&l){if(l<0||l>9999||!c.test(l))return r.setFormItemsValue(o.FORMS.cardHead,{code:{value:"",display:""}}),r.setFormItemsValue(o.FORMS.cardHead,{version:{value:"",display:""}}),$nccPlatform.toast({color:"warning",content:$appRoot.state.json["183001504-000003"]});var d=5e4+1*l;r.setFormItemsValue(o.FORMS.cardHead,{version:{value:d,display:d}})}if("pk_keygroup"===a&&l){var f=_.get(u,"values.timeKeyType.value");r.setFormItemsRequired(o.FORMS.cardHead,{pk_accperiodscheme:"4"===f}),i.getAllData(o.TABLES.reportSelection).rows.length>0&&$nccPlatform.promptBox({color:"warning",title:$appRoot.state.json["183001504-000044"],content:$appRoot.state.json["183001504-000045"],beSureBtnClick:(h=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.setTableData(o.TABLES.reportSelection,{rows:[]});case 1:case"end":return e.stop()}}),t,e)})),m=function(){var e=h.apply(this,arguments);return new Promise((function(t,n){return function r(a,o){try{var c=e[a](o),i=c.value}catch(e){return void n(e)}if(!c.done)return Promise.resolve(i).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(i)}("next")}))},function(){return m.apply(this,arguments)}),cancelBtnClick:function(){r.setFormItemsValue(o.FORMS.cardHead,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},a,s))}})}var h,m}})};var r,a=n(0),o=((r=a)&&r.__esModule,n(1));var c=/^\d{1,4}$/},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=$appRoot.props,n=t.button,r=(t.modal,t.cardTable.createCardTable),a=$appRoot.state.json;return o.default.createElement("div",{className:"bottom-area flex-container",fieldid:"bottom-area"},r(c.TABLES.reportSelection,{multiConfig:(e={},u(e,c.TABLES.reportSelection,{showCheck:!1,showIndex:!0,adaptionHeight:!0,hideSwitch:function(){return!1},tableHead:function(){return n.createButtonApp({area:l,onButtonClick:function(e,t){i.bottomAreaRightButtonEvent[t](e,a)},buttonLimit:3})}}),u(e,c.TABLES.auditPlan,{showCheck:!1,showIndex:!0,adaptionHeight:!0,hideSwitch:function(){return!1},tableHead:function(){return n.createButtonApp({area:d,onButtonClick:function(e,t){i.bottomAreaRightButtonEvent[t](e,a)},buttonLimit:3})}}),u(e,c.TABLES.workdrafttemp,{showCheck:!1,showIndex:!0,adaptionHeight:!0,hideSwitch:function(){return!1},tableHead:function(){return n.createButtonApp({area:h,onButtonClick:function(e,t){i.bottomAreaRightButtonEvent[t](e,a)},buttonLimit:3})}}),e)}))};var r,a=n(0),o=(r=a)&&r.__esModule?r:{default:r},c=n(1),i=n(43);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=c.BUTTONS.SelectReportSampleHead,l=(s.SelectReportSample,s.SelectReportSampleHead),p=c.BUTTONS.SelectAuditPlanHead,d=(p.SelectAuditPlan,p.SelectAuditPlanHead),f=c.BUTTONS.workdrafttempHead,h=(f.workdrafttemp,f.workdrafttempHead)},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.bottomAreaRightButtonEvent=void 0;var a=n(1),o=u(n(18)),c=u(n(19)),i=u(n(17));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(a,o){try{var c=t[a](o),i=c.value}catch(e){return void n(e)}if(!c.done)return Promise.resolve(i).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(i)}("next")}))}}var p=a.BUTTONS.SelectReportSampleHead,d=p.SelectReportSample,f=(p.SelectReportSampleHead,a.BUTTONS.SelectAuditPlanHead),h=f.SelectAuditPlan,m=(f.SelectAuditPlanHead,a.BUTTONS.workdrafttempHead),v=m.workdrafttemp;m.workdrafttempHead,t.bottomAreaRightButtonEvent=(s(r={},d,(function(e,t){var n=this,r=e.form,o=e.cardTable,c=e.modal;e.getAppCode;return l(regeneratorRuntime.mark((function e(){var t,u,s,l,p,d,f,h,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=$appRoot,u=t.pageCode,s=t.nodeType,l=t.pk_group,p=t.appCode,d=r.getFormItemsValue(a.FORMS.cardHead,"pk_keygroup"),f=d.value){e.next=4;break}return e.abrupt("return",$nccUtil.toast($appRoot.state.json["183001504-000032"],$nccConst.spell.warning));case 4:return c.show(a.MODALS.SelectReportSample),h={pk_org:$nccConst.value.global,pageCode:u,appCode:p,areaCode:a.TABLES.reportSelection,pk_hbscheme:"",pk_keygroup:f,nodeType:s},"2"===s&&(h.pk_group=l),e.next=9,$nccUtil.promiseAjax(a.URLS.qryReportForHbScheme,h);case 9:m=e.sent,[],m.data?(b(m.data.leftData),i.default.dataSourceEdit(m.data.leftData),i.default.targetKeysEdit(o.getAllData(a.TABLES.reportSelection).rows.map((function(e){return e.values["pk_report.id"]?e.values["pk_report.id"].value:e.values.pk_report?e.values.pk_report.value:void 0})))):$nccUtil.toast($appRoot.state.json["183001504-000016"],$nccConst.spell.warning);case 12:case"end":return e.stop()}}),e,n)})))()})),s(r,h,(function(e,t){var n=this,r=(e.getAppCode,e.modal),c=e.cardTable;return l(regeneratorRuntime.mark((function e(){var t,i,u,s,l,p,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=$appRoot,i=t.appCode,u=t.pageCode,s=t.nodeType,l=t.pk_group,r.show(a.MODALS.SelectAuditPlan),p={pk_org:$nccConst.value.global,pageCode:u,appCode:i,areaCode:"auditPlan",pk_hbscheme:"",schemeType:0,nodeType:s},"2"===s&&(p.pk_group=l),e.next=6,$nccUtil.promiseAjax(a.URLS.qryCheckSchemaForHbscheme,p);case 6:(d=e.sent).data?(b(d.data.leftData),o.default.dataSourceEdit(d.data.leftData),o.default.targetKeysEdit(c.getAllData(a.TABLES.auditPlan).rows.map((function(e){return e.values.pk_check_schema.value})))):$nccUtil.toast($appRoot.state.json["183001504-000016"],$nccConst.spell.warning);case 8:case"end":return e.stop()}}),e,n)})))()})),s(r,v,(function(e,t){var n=this,r=e.modal,o=e.form,i=e.cardTable;return l(regeneratorRuntime.mark((function e(){var t,u,s,l,p,d,f,h,m,v,S;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=$appRoot,u=t.pageCode,s=t.nodeType,l=t.pk_group,p=t.appCode,d=o.getFormItemsValue(a.FORMS.cardHead,"pk_keygroup"),d.value){e.next=4;break}return e.abrupt("return",$nccUtil.toast($appRoot.state.json["183001504-000032"],$nccConst.spell.warning));case 4:if(f=i.getAllData(a.TABLES.reportSelection),0!==(h=f.rows).length){e.next=7;break}return e.abrupt("return",$nccUtil.toast($appRoot.state.json["183001504-000034"],$nccConst.spell.warning));case 7:return r.show(a.MODALS.workdrafttemp),m={pageCode:u,appCode:p,nodeType:s,pk_org:$nccConst.value.global,areaCode:a.TABLES.workdrafttemp,pk_reports:h.map((function(e){return e.values.pk_report.value})).join(",")},"2"===s&&(m.pk_group=l),e.next=12,$nccUtil.promiseAjax(a.URLS.qryWorkDraftTemp,m);case 12:v=e.sent,b(S=_.get(v,"data.leftData",[])),c.default.dataSourceEdit(S),c.default.targetKeysEdit(i.getAllData(a.TABLES.workdrafttemp).rows.map((function(e){return e.values.pk_workdrafttemp.value})));case 17:case"end":return e.stop()}}),e,n)})))()})),r);function b(e){e.forEach((function(e){e.children&&e.children.length>0?b(e.children):e.isleaf&&delete e.children}))}},function(e,t,n){var r=n(45);"string"==typeof r&&(r=[[e.i,r,""]]);var a={transform:void 0};n(5)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(4)(!1)).push([e.i,".bottom-area-head {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  background-color: #fff;\n}\n.bottom-area-head > .right {\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  -webkit-box-pack: end;\n      -ms-flex-pack: end;\n          justify-content: flex-end;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  padding-right: 20px;\n}\n.transfer-box {\n  height: 100%;\n}\n.dialog-content {\n  height: 100%;\n}\n.nc-bill-card .nc-bill-top-area {\n  min-height: inherit !important;\n}\n.nc-bill-card .nc-bill-bottom-area {\n  min-height: inherit !important;\n}\n",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=f(n(0)),c=n(47),i=n(3),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),s=f(n(25)),l=f(n(49)),p=f(n(50)),d=n(26);function f(e){return e&&e.__esModule?e:{default:e}}n(51);var h=$nccPlatform.createPage({})(r=$nccUtil.AppWrapper({lang:{resources:[{domainName:"ufoc",moduleId:"183001504"}]},use:{table:[i.TABLES.list,u.TABLES.checkMap],form:[]},changeFields:{},pageId:""})(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={title:e.getSearchParam("n"),json:{}},n.appCode=e.getAppCode(),n.pageCode=n.appCode+"_list",n.pk_group=$nccPlatform.getBusinessInfo().groupId,n.nodeType="1",n.init(),n}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"init",value:(n=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.initTemplate.call(this);case 2:(0,d.pageInit)();case 3:case"end":return e.stop()}}),e,this)})),r=function(){var e=n.apply(this,arguments);return new Promise((function(t,n){return function r(a,o){try{var c=e[a](o),i=c.value}catch(e){return void n(e)}if(!c.done)return Promise.resolve(i).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(i)}("next")}))},function(){return r.apply(this,arguments)})},{key:"render",value:function(){var e=this.state.title,t=o.default.createElement(l.default,null),n=o.default.createElement(s.default,null),r={Buttons:t,needIcon:!0,title:e,modals:o.default.createElement(p.default,null),bottomArea:n};return o.default.createElement($nccCom.NcSingleTable,{pageConfig:r})}}]),t}(o.default.Component))||r)||r;t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initTemplate=void 0;t.initTemplate=(r=regeneratorRuntime.mark((function e(){var t,n,r,a,o,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getTemplate();case 2:t=e.sent,n=t.template,r=t.button,a=t.context,o=_.get(a,"paramMap.orgTypeCode"),u=void 0,o===$nccConst.value.global&&(u="1"),o===$nccConst.value.group&&(u="2"),this.nodeType=u,c.call(this,n),i.call(this,r);case 13:case"end":return e.stop()}}),e,this)})),a=function(){var e=r.apply(this,arguments);return new Promise((function(t,n){return function r(a,o){try{var c=e[a](o),i=c.value}catch(e){return void n(e)}if(!c.done)return Promise.resolve(i).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(i)}("next")}))},function(){return a.apply(this,arguments)});var r,a,o=n(3);n(8);function c(e){e[o.TABLES.list].items.forEach((function(e){"code"==e.attrcode&&(e.itemtype="customer",e.render=function(e,t,n){return React.createElement("span",{key:n,onClick:function(){var e=t.pk_hbscheme.value;$appRoot.props.pushTo(o.PAGE_CONST.cardPath,{pk_hbscheme:e,cardState:"Detail"})},className:"pk_ork_link code-detail-link",style:{color:"#007ace",cursor:"pointer"}},_.get(e,"value"))}),"version"==e.attrcode&&(e.itemtype="input")})),this.props.meta.setMeta(e)}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.props.button.setButtons(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getList=void 0;t.getList=(r=regeneratorRuntime.mark((function e(){var t,n,r,a,c,i,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=$appRoot,n=t.pageCode,r=t.nodeType,a=t.pk_group,c={pageCode:n,areaCode:o.TABLES.list,type:"query",nodeType:r,pk_org:$nccConst.value.global},"2"===r&&(c.pk_group=a),e.next=5,$nccUtil.promiseAjax(o.URLS.hbSchemeQuery,c);case 5:if(!(i=e.sent).data){e.next=12;break}return u=i.data.list,e.abrupt("return",u);case 12:return $nccUtil.toast($appRoot.state.json["183001504-000016"],$nccConst.spell.warning),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,this)})),a=function(){var e=r.apply(this,arguments);return new Promise((function(t,n){return function r(a,o){try{var c=e[a](o),i=c.value}catch(e){return void n(e)}if(!c.done)return Promise.resolve(i).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(i)}("next")}))},function(){return a.apply(this,arguments)});var r,a,o=n(3)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=$appRoot.state.json;return $appRoot.props.button.createButtonApp({area:o,onButtonClick:function(t,n){r.handleButtonClick[n](t,e)},buttonLimit:3})};n(0);var r=n(14),a=n(3).BUTTONS.Head,o=(a.Add,a.Edit,a.Delete,a.Copy,a.Refresh,a.Enable,a.Disable,a.Mappingcheck,a.Head)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){$appRoot.state.json;return React.createElement("div",null,React.createElement(o.default,null))};var r,a=n(16),o=(r=a)&&r.__esModule?r:{default:r}},function(e,t,n){var r=n(52);"string"==typeof r&&(r=[[e.i,r,""]]);var a={transform:void 0};n(5)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(4)(!1)).push([e.i,"",""])},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r,a=n(101),o=(r=a)&&r.__esModule?r:{default:r};(0,$nccPlatform.RenderRouter)(o.default,"app")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(46),o=(r=a)&&r.__esModule?r:{default:r};var c=(0,$nccPlatform.asyncComponent)((function(){return Promise.resolve().then(n.t.bind(null,32,7))})),i=[{path:"/",component:o.default,exact:!0},{path:"/list",component:o.default},{path:"/card",component:c}];t.default=i}])}));
//# sourceMappingURL=index.97558af5.js.map
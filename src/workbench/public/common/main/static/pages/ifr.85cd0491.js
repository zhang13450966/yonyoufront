(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{1059:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=w(t(26)),o=w(t(5)),i=w(t(8)),r=w(t(6)),l=w(t(7)),c=t(1),u=w(c),f=t(38),s=w(t(0)),d=t(52),h=t(20),m=w(t(181)),p=t(252),g=w(t(23)),v=t(31),b=w(t(141));function w(e){return e&&e.__esModule?e:{default:e}}var k=g.default.PubSub,y=function(e){function n(e){(0,o.default)(this,n);var t=(0,r.default)(this,(n.__proto__||(0,a.default)(n)).call(this,e));return t.state={json:{}},t.changeUrl=t.changeUrl.bind(t),t}return(0,l.default)(n,e),(0,i.default)(n,[{key:"componentWillMount",value:function(){var e=this;(0,p.getMulti)({moduleId:"ifr",domainName:"workbench",callback:function(n){e.setState({json:n})}}),location.hash.indexOf("?ifr=")>0&&this.changeUrl()}},{key:"shouldComponentUpdate",value:function(e,n){var t=document.getElementById("mainiframe");if(!t)return!0;var a=(0,h.GetQuery)(e.location.search).ifr;if(a&&a.indexOf("#")){var o=a.split("#")[0],i=t.src;return o!==(i=(i=i.split("#")[0]).split(window.location.origin)[1])}return!0}},{key:"changeUrl",value:function(){var e=(0,h.generateUrlKey)(),n=location.hash.substr(location.hash.indexOf("?")+1);(0,h.setUrlInSession)(e,n),location.hash="#/ifr?page="+e}},{key:"componentDidMount",value:function(){var e=document.getElementById("mainiframe");e&&(e.onload=function(){e.contentDocument&&(e.contentDocument.addEventListener("keydown",(function(e){k.publish(b.default.global.onIframeKeydown,e)})),e.contentDocument.addEventListener("click",(function(e){k.publish(b.default.global.onIframeClick,e)})))})}},{key:"render",value:function(){var e=(0,h.GetQuery)(this.props.location.search).ifr,n=(0,v.getStore)("nccColor");return u.default.createElement("div",{className:"nc-workbench-iframe",ref:"nc-workbench-iframe"},this.props.allowPaint?u.default.createElement("iframe",{fieldid:"main_iframe",id:"mainiframe",className:"black"===n?"nc-lightapp-front-black":"",style:{width:"100%",height:"100%"},frameBorder:"0",scrolling:"0",src:e}):u.default.createElement(m.default,null))}}]),n}(c.Component);y.propTypes={allowPaint:s.default.object.isRequired,changeIsAccountSettingSpr:s.default.func.isRequired},n.default=(0,f.connect)((function(e){return{allowPaint:e.ifrData.allowPaint}}),{changeIsAccountSettingSpr:d.changeIsAccountSettingSpr})(y)}}]);
//# sourceMappingURL=ifr.85cd0491.js.map
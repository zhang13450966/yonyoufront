(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{1048:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o,r=A(n(2)),i=A(n(26)),s=A(n(5)),l=A(n(8)),p=A(n(6)),u=A(n(7)),d=n(1),c=A(d),f=A(n(68)),g=A(n(9)),h=A(n(32));n(1190);var m=A(n(1093)),v=A(n(1219)),b=A(n(1239)),y=A(n(1197)),k=n(20),x=n(38),w=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1085)),C=n(406),D=A(n(59)),E=A(n(1289)),_=n(252),S=A(n(23));function A(e){return e&&e.__esModule?e:{default:e}}var I=S.default.PubSub,G=S.default.base,L=G.NCDiv,P=G.NCTooltip,N=(a=function(e){function t(e){(0,s.default)(this,t);var n=(0,p.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));o.call(n),n.urlRequestObj=(0,k.GetQuery)(n.props.location.search);var a=w.getRelateidObj(n.urlRequestObj.pk_responsibility,n.urlRequestObj.is_group);return n.siderRef=c.default.createRef(),n.state={relateidObj:a,origQueryWorkbenchData:[],disableDeduplicate:!0,duplicateInEditing:!1,siderExpand:!1},n}return(0,u.default)(t,e),(0,l.default)(t,[{key:"componentWillUnmount",value:function(){this.props.clearData()}},{key:"componentDidMount",value:function(){var e=this;(0,_.getMulti)({moduleId:"DesktopSetting",domainName:"workbench",callback:function(t){e.props.setJson(t),e.urlRequestObj.editable&&e.props.toggleEditStatus(!0),(e.urlRequestObj.pk_responsibility||e.urlRequestObj.is_group)&&(e.getGroupListData(),setTimeout((function(){(0,k.getWindow)().document.title=e.props.json["DesktopSetting-000077"]}))),(0,k.getWindow)().name=""}}),document.body.classList.add("workbench-home")}},{key:"render",value:function(){var e=this,t=this.urlRequestObj.previewMode;return[c.default.createElement(L,{areaCode:L.config.HEADER},c.default.createElement(L,{fieldid:this.props.json["DesktopSetting-000043"],areaCode:L.config.Title})),c.default.createElement("div",{className:(0,g.default)("nc-desktop-setting",{preview:"true"==t})},this.props.editable&&c.default.createElement(v.default,(0,r.default)({ref:this.siderRef,relateidObj:this.state.relateidObj,siderExpand:this.state.siderExpand,onInit:function(){return e.setState({siderExpand:!1})}},this.props)),c.default.createElement(b.default,{relateidObj:this.state.relateidObj,siderComponent:this.siderRef&&this.siderRef.current,origQueryWorkbenchData:this.state.origQueryWorkbenchData,disableDeduplicate:this.state.disableDeduplicate,duplicateInEditing:this.state.duplicateInEditing,onCheckDeduplication:this.onCheckDeduplication,onEnterEditable:this.onEnterEditable}),c.default.createElement(E.default,null),this.renderHelpTip(),this.props.editable&&c.default.createElement(y.default,{json:this.props.json,isMount:this.props.siderCollapsed},c.default.createElement("div",{className:"collapsed-line",onClick:function(){I.publish("onToggleSider",{collapsed:!1}),setTimeout((function(){e.props.setSiderCollapsed(!1)}),300)}},c.default.createElement("div",{className:"collapse-btn collapsed"},c.default.createElement("i",{class:"iconfont icon-ncc-sq",fieldid:"expand"})))))]}}]),t}(d.Component),o=function(){var e=this;this.getGroupListData=function(){var t=e.state.relateidObj,n={isuser:t.code};"0"===t.code&&(n.relateid=t.data);var a=e.props.location&&e.props.location.search;a&&-1!==a.indexOf("pk_responsibility")?(t.code="0",e.setState({relateidObj:(0,r.default)({},t,{code:"0"})}),n.isuser="0",n.relateid=t.data):a&&-1!==a.indexOf("is_group=true")&&(n.isuser="2"),(0,h.default)({url:"/nccloud/platform/appregister/queryworkbench.do",info:{name:e.props.json["DesktopSetting-000004"],action:e.props.json["DesktopSetting-000024"]},data:n,loading:!0,success:function(t){if(t){var n=t.data,a=n.data,o=n.success;if(e.setState({origQueryWorkbenchData:a}),o&&a&&a.length>0){e.setState({disableDeduplicate:!a[0].isdisplay});var r={};f.default.forEach(a[0].groups,(function(e){e.type="group",f.default.forEach(e.apps,(function(e){e.isShadow=!1,e.isChecked=!1,e.gridx=Number(e.gridx),e.gridy=Number(e.gridy),e.height=Number(e.height),e.width=Number(e.width),w.checkApp(e).isCompactApp&&(r[e.cardid]=e.children,e.children=[])}))})),e.props.setAppGroupData(r),e.props.updateGroupList(a[0].groups),e.props.initGroups(a[0].groups),I.publish("onChangeDesktopEditable",!0)}else o&&a&&0===a.length||(0,D.default)({status:"error",msg:a})}}})},this.handleUpdateAppGroups=function(e){e()},this.onCheckDeduplication=function(t){var n=f.default.flattenDeep(f.default.map(t,(function(e){return e.apps})),(function(e){return e.cardid})),a=f.default.uniqBy(n,(function(e){return e.cardid}));e.setState({disableDeduplicate:a.length===n.length,duplicateInEditing:a.length!==n.length})},this.onEnterEditable=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.props.setSiderCollapsed(!t),t&&e.setState({siderExpand:!0})},this.renderHelpTip=function(){var t=e.props,n=t.editable,a=t.json,o=c.default.createElement("div",{className:"helptip-contnet"},c.default.createElement("div",{className:"helptip-title"},a["DesktopSetting-000065"]),c.default.createElement("p",null,a["DesktopSetting-000066"]),c.default.createElement("p",null,a["DesktopSetting-000067"]),c.default.createElement("p",null,a["DesktopSetting-000068"]),c.default.createElement("p",null,a["DesktopSetting-000069"]),c.default.createElement("p",null,a["DesktopSetting-000070"]),c.default.createElement("p",null,a["DesktopSetting-000071"]),c.default.createElement("p",null,a["DesktopSetting-000072"]),c.default.createElement("p",null,a["DesktopSetting-000073"]),c.default.createElement("p",null,a["DesktopSetting-000074"]),c.default.createElement("p",null,a["DesktopSetting-000075"]),c.default.createElement("p",null,a["DesktopSetting-000076"]));if(n&&e.urlRequestObj.pk_responsibility)return c.default.createElement(P,{className:"duty-help-tooltip",placement:"left",overlay:o},c.default.createElement("div",{className:"helptip-container"},c.default.createElement("i",{className:"iconfont icon-bangzhutishi"})))}},a);t.default=(0,x.connect)((function(e){return{json:e.gridLayoutData.json,editable:e.gridLayoutData.editable,siderCollapsed:e.gridLayoutData.siderCollapsed}}),{updateGroupList:C.updateGroupList,clearData:C.clearData,initGroups:C.initGroups,setJson:C.setJson,toggleEditStatus:C.toggleEditStatus,setAppGroupData:C.setAppGroupData,setSiderCollapsed:C.setSiderCollapsed})((0,m.default)(N))},1057:function(e,t){},1085:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getQueryCloud=t.findDataByCompactApp=t.genRandomKey=t.checkApp=t.hasCheckedCardInAppGroup=t.getRepeatItems=t.getUniqueItems=t.getCardList=t.hasCardContainInGroups=t.getRelateidObj=t.removeTargetCardsInGroup=t.hasExpiredCardInGroups=t.hasCheckedCardInCompactApp=t.hasCheckedCardInGroups=t.setGridXGridYMaxInCards=t.genNameNum=t.getNewGroupItemNum=t.setPropertyValueForCardsInCards=t.PUB_WIDGET_APPCODES=t.COMPACT_APP_DEFAULT_SIZE=t.APP_DEFAULT_SIZE=t.DragTypes=t.GRID_COLS=void 0;var a=i(n(2)),o=i(n(411));t.setGridDroppable=function(e){s.publish("setGridDroppable",e)},t.calcDraggingItemsPos=function(e,t){var n=t.x,a=t.y,o=r.default.sortBy(r.default.cloneDeep(e),["height","width"]),i=e.reduce((function(e,t){return e+parseInt(t.width)}),0);return i<=l?function e(t){return i<=l-t?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,n=[];return o.reduce((function(a,o,r){return o.gridx=0===r?e:a.gridx+parseInt(a.width),o.gridy=t,n=n.concat(o),o}),{}),n}(t):e(--t)}(n):function(e,t){t.x;var n=t.y,a=r.default.cloneDeep(e);return function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=0,i=function(){var e=[],t=n.map((function(e){return e.appcode}));return t.length&&(e=r.default.remove(a,(function(e){return t.includes(e.appcode)}))),e};if(a.length){try{a.reduce((function(e,a,r){if((o+=parseInt(a.width))>l)throw new Error;return a.gridx=0===r?0:e.gridx+parseInt(e.width),a.gridy=t,n.find((function(e){return e.cardid===a.cardid}))||n.push(a),a}),{})}catch(e){}var s=i(),p=s[0]&&s[0].height||0;e(t+p,n)}return n}(n)}(o,t)},t.processGroupItems=function(e,t,n){var a=r.default.sortBy(r.default.cloneDeep(n),["gridy"]),o=a.filter((function(e){return e.gridy<t.y})),i=a.filter((function(e){return e.gridy>=t.y}));i=i.map((function(e){return e.gridy=e.gridy+99,e}));var s=o.concat(e.concat(i));return s=r.default.uniqBy(s,"cardid")},t.getResponParams=function(e,t){var n={};n="userID"===e.type?{}:"is_group"===e.type?{is_group:e.data}:{pk_responsibility:e.data};if(t&&-1!==t.indexOf("pk_responsibility")){var o=t.substring(t.indexOf("pk_responsibility")),r=o.substring(o.indexOf("=")+1);n.pk_responsibility=r}else t&&-1!==t.indexOf("is_group=true")&&(n={is_group:!0});n=t&&-1!==t.indexOf("is_query_cloud=false")?(0,a.default)({},n,{is_query_cloud:!1}):(0,a.default)({},n,{is_query_cloud:!0});return n},t.createEmptyExternalLink=function(e,t){var n=t.cardid,a=t.name,o=r.default.cloneDeep(e);return o.cardid=n||f("_new"),o.name=a,o.parttype="1",o.width=void 0===o.width?p.width:o.width,o.height=void 0===o.height?p.height:o.width,o},t.getScale=function(){var e=window.innerWidth-380,t=window.innerWidth/e,n=e/window.innerWidth;return{zoom:+t.toFixed(4),narrow:+n.toFixed(4)}};var r=i(n(68));function i(e){return e&&e.__esModule?e:{default:e}}var s=i(n(23)).default.PubSub,l=t.GRID_COLS=12,p=(t.DragTypes={APP_GROUP:"appGroup",APP_GROUP_ITEM:"appGroupItem",SIDE_CARD:"cardlist",GROUP_ITEM:"item"},t.APP_DEFAULT_SIZE={width:2,height:2}),u=(t.COMPACT_APP_DEFAULT_SIZE={width:4,height:2},t.PUB_WIDGET_APPCODES={commonUsedApp:"10182003",externalLinks:"10182004",noviceGuide:"10182001"}),d=(t.setPropertyValueForCardsInCards=function(e,t,n){r.default.forEach(e,(function(e){e[t]=n}))},t.getNewGroupItemNum=function(e,t,n){return d({nameNation:e,data:t,count:n,condition:function(t,n){return t.groupname===e+"("+n+")"}})},t.genNameNum=function e(t){var n=t.nameNation,a=t.data,o=t.count,i=t.condition,s=o||1,l=!1;return r.default.forEach(a,(function(e){if(i(e,s))return l=!0,!1})),l?e({nameNation:n,data:a,count:++s,condition:i}):s});t.setGridXGridYMaxInCards=function(e){r.default.forEach(e,(function(e){e.gridy=999}))},t.hasCheckedCardInGroups=function(e){var t=!1;return r.default.forEach(e,(function(e){if(r.default.forEach(e.apps,(function(e){if(!0===e.isChecked)return t=!0,!1})),t)return!1})),t},t.hasCheckedCardInCompactApp=function(e){return!!r.default.flatten((0,o.default)(e)).find((function(e){return!0===e.isChecked}))},t.hasExpiredCardInGroups=function(e){var t=!1;return r.default.forEach(e,(function(e){if(r.default.forEach(e.apps,(function(e){if(!1===e.haspower)return t=!0,!1})),t)return!1})),t},t.removeTargetCardsInGroup=function(e,t,n){r.default.forEach(e,(function(e){r.default.remove(e.apps,(function(e){return e[t]===n}))}))},t.getRelateidObj=function(e,t){return e?{data:e,code:"0",type:"responsibility"}:t?{data:Boolean(t),code:"2",type:"is_group"}:{data:"",code:"1",type:"userID"}},t.hasCardContainInGroups=function(e,t){var n=!1;return r.default.forEach(e,(function(e){if(r.default.forEach(e.apps,(function(e){if(e.cardid===t)return n=!0,!1})),n)return!1})),n},t.getCardList=function(e,t){var n=[];return r.default.forEach(e,(function(e,o){r.default.forEach(e.children,(function(e,o){(e.checked||e.value===t)&&n.push((0,a.default)({appcode:e.appcode,cardid:e.value,width:e.width,height:e.height,name:e.label,image_src:e.image_src,apptype:e.apptype,isShadow:!1,isChecked:!1,children:e.children,isNotRepeat:e.isNotRepeat},e))}))})),n};t.getUniqueItems=function(e,t,n){var a=c(e,t,n);if(a.length){var o=a.map((function(e){return e[n]}));return t.filter((function(e){return!o.includes(e[n])}))}return[]};var c=t.getRepeatItems=function(e,t,n){var a={};return e.forEach((function(e){var o=e[n];a.hasOwnProperty(o)||t.forEach((function(e){o===e[n]&&(a[o]=e)}))})),(0,o.default)(a)},f=(t.hasCheckedCardInAppGroup=function(e,t){var n=(0,o.default)(e);return 0!==n.length&&r.default.flatten(n).find((function(e){return e.cardid===t}))},t.checkApp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.appcode===u.commonUsedApp,n=e.appcode===u.externalLinks;return{isApp:"1"===e.apptype,isWidget:"2"===e.apptype,isCompactApp:t,isExternalLink:n,isOnlyWidget:"2"===e.apptype&&!t&&!n,isAppOrLink:"1"===e.apptype||n}},t.genRandomKey=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(new Date).valueOf()+""+e});t.findDataByCompactApp=function(e,t){var n=void 0;return e.forEach((function(e,a){e.apps.some((function(o,r){if(t===o.cardid)return n={group:e,groupIndex:a,app:o,appIndex:r},!0}))})),n};t.getQueryCloud=function(e){return e&&-1!==e.indexOf("is_query_cloud=false")?{is_query_cloud:!1}:{is_query_cloud:!0}}},1093:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(1037),r=n(1039),i=(a=r)&&a.__esModule?a:{default:a};t.default=(0,o.DragDropContext)(i.default)},1094:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.noop=t.fastRGLPropsEqual=void 0;var a=i(n(2));t.bottom=s,t.cloneLayout=function(e){for(var t=Array(e.length),n=0,a=e.length;n<a;n++)t[n]=p(e[n]);return t},t.modifyLayout=l,t.withLayoutItem=function(e,t,n){var a=m(e,t);return a?(a=n(p(a)),[e=l(e,a),a]):[e,null]},t.cloneLayoutItem=p,t.childrenEqual=function(e,t){return(0,o.default)(r.default.Children.map(e,(function(e){return e.key})),r.default.Children.map(t,(function(e){return e.key})))},t.fastPositionEqual=function(e,t){return e.left===t.left&&e.top===t.top&&e.width===t.width&&e.height===t.height},t.collides=u,t.compact=d,t.compactItem=g,t.correctBounds=h,t.getLayoutItem=m,t.getFirstCollision=v,t.getAllCollisions=b,t.getStatics=y,t.moveElement=k,t.moveElementAwayFromCollision=x,t.perc=function(e){return 100*e+"%"},t.setTransform=function(e){var t=e.top,n=e.left,a=e.width,o=e.height,r="translate("+n+"px,"+t+"px)";return{transform:r,WebkitTransform:r,MozTransform:r,msTransform:r,OTransform:r,width:a+"px",height:o+"px",position:"absolute"}},t.setTopLeft=function(e){var t=e.top,n=e.left,a=e.width,o=e.height;return{top:t+"px",left:n+"px",width:a+"px",height:o+"px",position:"absolute"}},t.sortLayoutItems=w,t.sortLayoutItemsByRowCol=C,t.sortLayoutItemsByColRow=D,t.synchronizeLayoutWithChildren=function(e,t,n,o){e=e||[];var i=[];return r.default.Children.forEach(t,(function(t,n){var o=m(e,String(t.key));if(o)i[n]=p(o);else{0;var r=t.props["data-grid"]||t.props._grid;i[n]=p(r?(0,a.default)({},r,{i:t.key}):{w:1,h:1,x:0,y:s(i),i:String(t.key)})}})),d(h(i,{cols:n}),o,n)},t.validateLayout=E,t.compactType=function(e){var t=e||{},n=t.verticalCompact,a=t.compactType;return!1===n?null:a},t.autoBindHandlers=function(e,t){t.forEach((function(t){return e[t]=e[t].bind(e)}))};var o=i(n(1041)),r=i(n(1));function i(e){return e&&e.__esModule?e:{default:e}}function s(e){for(var t=0,n=void 0,a=0,o=e.length;a<o;a++)(n=e[a].y+e[a].h)>t&&(t=n);return t}function l(e,t){for(var n=Array(e.length),a=0,o=e.length;a<o;a++)t.i===e[a].i?n[a]=t:n[a]=e[a];return n}function p(e){return{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,minW:e.minW,maxW:e.maxW,minH:e.minH,maxH:e.maxH,moved:Boolean(e.moved),static:Boolean(e.static),isDraggable:e.isDraggable,isResizable:e.isResizable,resizeHandles:e.resizeHandles,isBounded:e.isBounded,handle:e.handle}}t.fastRGLPropsEqual=n(1250);function u(e,t){return e.i!==t.i&&(!(e.x+e.w<=t.x)&&(!(e.x>=t.x+t.w)&&(!(e.y+e.h<=t.y)&&!(e.y>=t.y+t.h))))}function d(e,t,n){for(var a=y(e),o=w(e,t),r=Array(e.length),i=0,s=o.length;i<s;i++){var l=p(o[i]);l.static||(l=g(a,l,t,n,o),a.push(l)),r[e.indexOf(o[i])]=l,l.moved=!1}return r}var c={x:"w",y:"h"};function f(e,t,n,a){var o=c[a];t[a]+=1;for(var r=e.map((function(e){return e.i})).indexOf(t.i)+1;r<e.length;r++){var i=e[r];if(!i.static){if(i.y>t.y+t.h)break;u(t,i)&&f(e,i,n+t[o],a)}}t[a]=n}function g(e,t,n,a,o){var r="horizontal"===n;if("vertical"===n)for(t.y=Math.min(s(e),t.y);t.y>0&&!v(e,t);)t.y--;else if(r)for(;t.x>0&&!v(e,t);)t.x--;for(var i=void 0;i=v(e,t);)r?f(o,t,i.x+i.w,"x"):f(o,t,i.y+i.h,"y"),r&&t.x+t.w>a&&(t.x=a-t.w,t.y++);return t}function h(e,t){for(var n=y(e),a=0,o=e.length;a<o;a++){var r=e[a];if(r.x+r.w>t.cols&&(r.x=t.cols-r.w),r.x<0&&(r.x=0,r.w=t.cols),r.static)for(;v(n,r);)r.y++;else n.push(r)}return e}function m(e,t){for(var n=0,a=e.length;n<a;n++)if(e[n].i===t)return e[n]}function v(e,t){for(var n=0,a=e.length;n<a;n++)if(u(e[n],t))return e[n]}function b(e,t){return e.filter((function(e){return u(e,t)}))}function y(e){return e.filter((function(e){return e.static}))}function k(e,t,n,a,o,r,i,s){if(t.static&&!0!==t.isDraggable)return e;if(t.y===a&&t.x===n)return e;_("Moving element "+t.i+" to ["+String(n)+","+String(a)+"] from ["+t.x+","+t.y+"]");var l=t.x,p=t.y;"number"==typeof n&&(t.x=n),"number"==typeof a&&(t.y=a),t.moved=!0;var u=w(e,i);("vertical"===i&&"number"==typeof a?p>=a:"horizontal"===i&&"number"==typeof n&&l>=n)&&(u=u.reverse());var d=b(u,t);if(r&&d.length)return _("Collision prevented on "+t.i+", reverting."),t.x=l,t.y=p,t.moved=!1,e;for(var c=0,f=d.length;c<f;c++){var g=d[c];_("Resolving collision between "+t.i+" at ["+t.x+","+t.y+"] and "+g.i+" at ["+g.x+","+g.y+"]"),g.moved||(e=g.static?x(e,g,t,o,i,s):x(e,t,g,o,i,s))}return e}function x(e,t,n,a,o,r){var i="horizontal"===o,s="horizontal"!==o,l=t.static;if(a){a=!1;var p={x:i?Math.max(t.x-n.w,0):n.x,y:s?Math.max(t.y-n.h,0):n.y,w:n.w,h:n.h,i:"-1"};if(!v(e,p))return _("Doing reverse collision on "+n.i+" up to ["+p.x+","+p.y+"]."),k(e,n,i?p.x:void 0,s?p.y:void 0,a,l,o,r)}return k(e,n,i?n.x+1:void 0,s?n.y+1:void 0,a,l,o,r)}function w(e,t){return"horizontal"===t?D(e):C(e)}function C(e){return e.slice(0).sort((function(e,t){return e.y>t.y||e.y===t.y&&e.x>t.x?1:e.y===t.y&&e.x===t.x?0:-1}))}function D(e){return e.slice(0).sort((function(e,t){return e.x>t.x||e.x===t.x&&e.y>t.y?1:-1}))}function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Layout",n=["x","y","w","h"];if(!Array.isArray(e))throw new Error(t+" must be an array!");for(var a=0,o=e.length;a<o;a++){for(var r=e[a],i=0;i<n.length;i++)if("number"!=typeof r[n[i]])throw new Error("ReactGridLayout: "+t+"["+a+"]."+n[i]+" must be a number!");if(r.i&&"string"!=typeof r.i)throw new Error("ReactGridLayout: "+t+"["+a+"].i must be a string!");if(void 0!==r.static&&"boolean"!=typeof r.static)throw new Error("ReactGridLayout: "+t+"["+a+"].static must be a boolean!")}}function _(){}t.noop=function(){}},1185:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AppForIcon=void 0;var a,o=y(n(26)),r=y(n(5)),i=y(n(8)),s=y(n(6)),l=y(n(7)),p=y(n(3)),u=y(n(2)),d=y(n(51)),c=n(1),f=y(c),g=n(31),h=y(n(23)),m=y(n(408)),v=y(n(9)),b=n(1192);function y(e){return e&&e.__esModule?e:{default:e}}var k=h.default.appIcons,x=t.AppForIcon=function(e){var t=e.src,n=(0,g.getStore)("nccIcon")||"";return n=n.length?n+"_":n,f.default.createElement("div",{className:"app-icon",style:{backgroundImage:"url("+(k&&k[n+t]?k[n+t]:m.default[n]?m.default[n]:m.default.defaultIcon)+")",backgroundSize:"contain",backgroundRepeat:"no-repeat",height:32}})},w=function(e){var t,n=e.src;return f.default.createElement("div",{className:"icon-image",style:(t={backgroundImage:"url("+n+")",backgroundSize:"contain",backgroundRepeat:"no-repeat"},(0,p.default)(t,"backgroundSize","contain"),(0,p.default)(t,"height",32),t)})},C=(0,b.withQuickLaunchArea)((function(e){return{isShow:!e.editable&&!e.isPreview,appData:e.appData}}))(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.createrFun=function(){var e=n.props.src;return e?-1===e.indexOf("/")?f.default.createElement(x,{src:e}):f.default.createElement(w,{src:e}):null},n}return(0,l.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props.name;(0,g.getStore)("nccIcon");return f.default.createElement("div",{fieldid:e+"_app-item",className:"app-item"},f.default.createElement("span",{className:"app-item_title",draggable:"true"},e),f.default.createElement("div",{className:"app-content"},this.createrFun()))}}]),t}(c.PureComponent))||a;t.default=function(e){var t=e.style,n=e.appData,a=e.editable;return f.default.createElement("div",{className:(0,v.default)("grid-item isapp",{scale:e.isScale}),style:t,onClick:a?function(){}:function(){var e=JSON.parse((0,d.default)(n));e.code&&(e.menuitemcode=e.code),window.openNew(e)}},f.default.createElement(C,(0,u.default)({name:n.name,src:n.image_src},e)))}},1190:function(e,t,n){var a=n(1217);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(17)(a,o);a.locals&&(e.exports=a.locals)},1191:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resizeHandleType=t.resizeHandlesType=void 0;var a=r(n(0)),o=r(n(1));function r(e){return e&&e.__esModule?e:{default:e}}var i=t.resizeHandlesType=a.default.arrayOf(a.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),s=t.resizeHandleType=a.default.oneOfType([a.default.node,a.default.func]);t.default={className:a.default.string,style:a.default.object,width:a.default.number,autoSize:a.default.bool,cols:a.default.number,draggableCancel:a.default.string,draggableHandle:a.default.string,verticalCompact:function(e){e.verticalCompact,0},compactType:a.default.oneOf(["vertical","horizontal"]),layout:function(e){var t=e.layout;void 0!==t&&n(1094).validateLayout(t,"layout")},margin:a.default.arrayOf(a.default.number),containerPadding:a.default.arrayOf(a.default.number),rowHeight:a.default.number,maxRows:a.default.number,isBounded:a.default.bool,isDraggable:a.default.bool,isResizable:a.default.bool,preventCollision:a.default.bool,useCSSTransforms:a.default.bool,transformScale:a.default.number,isDroppable:a.default.bool,resizeHandles:i,resizeHandle:s,onLayoutChange:a.default.func,onDragStart:a.default.func,onDrag:a.default.func,onDragStop:a.default.func,onResizeStart:a.default.func,onResize:a.default.func,onResizeStop:a.default.func,onDrop:a.default.func,droppingItem:a.default.shape({i:a.default.string.isRequired,w:a.default.number.isRequired,h:a.default.number.isRequired}),children:function(e,t){var n=e[t],a={};o.default.Children.forEach(n,(function(e){if(a[e.key])throw new Error('Duplicate child key "'+e.key+'" found! This will cause problems in ReactGridLayout.');a[e.key]=!0}))},innerRef:a.default.any}},1192:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withQuickLaunchArea=t.useOprArea=void 0;var a=r(n(1258)),o=r(n(1259));function r(e){return e&&e.__esModule?e:{default:e}}t.useOprArea=a.default,t.withQuickLaunchArea=o.default},1193:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=b(n(2)),o=b(n(97)),r=b(n(51)),i=b(n(118)),s=n(1),l=b(s),p=n(38),u=b(n(1202)),d=n(85),c=b(n(1277)),f=b(n(32)),g=n(20),h=b(n(1203)),m=n(406);n(1278);var v=n(1204);function b(e){return e&&e.__esModule?e:{default:e}}var y=b(n(23)).default.PubSub,k=function(e){var t=e.isDefaultStyle,n=void 0===t||t,p=e.id,d=e.editable,m=void 0!==d&&d,b=e.defaultName,k=void 0===b?(0,g.langCheck)("0000PUB-000387"):b,x=e.onAddWidgetComplete,w=e.isSaveComplete,C=e.setExternalLinks,D=e.saveExternalLinkData,E={appcode:"10182004",cardid:(new Date).getTime(),chosen:!1,gridX:667,gridY:999,height:1,isChecked:!1,isShadow:!1,name:"",selected:!1,width:1,url:"",image:"externallinkicon1"},_=(0,s.useState)(!1),S=(0,i.default)(_,2),A=S[0],I=S[1],G={};G="{}"!=(0,r.default)(D)&&D.hasOwnProperty(p)?D[p]:E,(0,s.useEffect)((function(){m&&e.renderEditCustomArea&&e.renderEditCustomArea(P())}),[m,G.name]);var L=function(){var t={pk_group_app:p},n=(0,v.getAjaxNewData)(e,t);return new o.default((function(e){(0,f.default)({url:"/nccloud/platform/appregister/queryexternallink.do",info:{name:(0,g.langCheck)("0000PUB-000387"),action:(0,g.langCheck)("0000PUB-000127")},data:n,success:function(t){var n=t.data,a=n.data;n.success&&a&&e(a)}})}))};(0,s.useEffect)((function(){if(e.isAddComplete&&p&&-1!=p.indexOf("_new")){var t={title:k,image:"externallinkicon1"};(0,v.addExternalLink)(e,t).then((function(e){x&&x(e),C(e)}))}m||L().then((function(e){C(e)}));var n=y.subscribe("onChangeDesktopEditable",(function(e){e&&L().then((function(e){C(e)}))}));return function(){y.unsubscribe(n)}}),[]),(0,s.useEffect)((function(){if(m&&w){var t=G,n=t.name,a=t.url,o={title:n,urllink:void 0===a?"":a,image:t.image,pk_group_app:t.pk_group_app};(0,v.editExternalLink)(e,o)}}),[m,w]);var P=function(){var e=n&&""===G.url?" icon-ncc-sq":" icon-bianji1";return l.default.createElement("span",{className:"icon-wrap",onClick:function(e){O(e)}},l.default.createElement("i",{className:"iconfont"+e}))},N=function(){return l.default.createElement("div",{className:"app-name"},G.name)},j=function(){var e=G.url;!m&&(0,v.urlTest)(e)&&window.open(e,"_blank")},O=function(e){e.stopPropagation(),I(!0)};return l.default.createElement(l.default.Fragment,null,n?l.default.createElement("div",{className:"external-content-box",onClick:j},""===G.url?l.default.createElement("div",{className:"title-box1"},N(),!m&&l.default.createElement("span",{className:"icon-wrap",onClick:function(e){O(e)}},l.default.createElement("i",{className:"iconfont icon-ncc-sq"}))):l.default.createElement("div",{className:"title-box2"},N(),!m&&l.default.createElement("span",{className:"icon-wrap",onClick:function(e){O(e)}},l.default.createElement("i",{className:"iconfont icon-bianji1"}))),""===G.url?l.default.createElement("img",{src:c.default,className:"external-bg"}):l.default.createElement("img",{src:h.default[""+(0,v.getImageKey)(G)],className:"external-img"})):l.default.createElement("div",{title:G.name},l.default.createElement("div",{className:"app-icon-container",onClick:j},l.default.createElement("div",{className:"app-icon-content"},l.default.createElement("div",{className:"app-img"},l.default.createElement("img",{src:h.default[""+(0,v.getImageKey)(G)],className:"external-img"})))),N()),A&&l.default.createElement(u.default,(0,a.default)({onOk:function(e){C(e)},setShowAddLink:I,externalLinkData:G},e)))};k=(0,p.connect)((function(e){return{isSaveComplete:e.gridLayoutData.isSaveComplete,saveExternalLinkData:e.gridLayoutData.saveExternalLinkData}}),{setExternalLinks:m.setExternalLinks})(k),t.default=(0,d.withRouter)(k)},1197:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(n(1)),o=l(n(23)),r=n(38),i=n(406),s=l(n(32));function l(e){return e&&e.__esModule?e:{default:e}}n(1232);var p=o.default.base.NCTooltip;t.default=(0,r.connect)((function(e){return{isShowHelpHint:e.gridLayoutData.isShowHelpHint,helpTipVisible:e.gridLayoutData.helpTipVisible}}),{setHelpHint:i.setHelpHint,setLeftHelpTipVisible:i.setLeftHelpTipVisible})((function(e){var t=e.json,n=e.isShowHelpHint,o=e.isMount,r=function(){e.setLeftHelpTipVisible(!1)},i=function(){(0,s.default)({url:"/nccloud/platform/appregister/hidehint.do",info:{name:t["DesktopSetting-000024"],action:t["DesktopSetting-000056"]},success:function(t){var n=t.data,a=(n.data,n.success);a&&e.setHelpHint(!1)}})},l=n&&e.helpTipVisible;return o?a.default.createElement(p,{className:"desktop-help-tooltip",placement:"rightTop",visible:l,overlay:a.default.createElement("div",null,a.default.createElement("div",{className:"help-tooltip-header"},a.default.createElement("span",null,t["DesktopSetting-000053"]),a.default.createElement("span",{className:"close-btn",onClick:r},"x")),a.default.createElement("div",{className:"help-tooltip-content"},a.default.createElement("p",null,t["DesktopSetting-000054"]),a.default.createElement("p",null,t["DesktopSetting-000055"])),a.default.createElement("div",{className:"help-tooltip-footer"},a.default.createElement("span",{onClick:i},t["DesktopSetting-000056"])))},e.children):e.children}))},1198:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=c(n(2)),o=c(n(118)),r=n(1),i=c(r),s=n(68),l=c(n(23)),p=c(n(1234)),u=c(n(1235)),d=c(n(1236));function c(e){return e&&e.__esModule?e:{default:e}}var f=l.default.base,g=f.NCDiv,h=f.NCCheckbox;t.default=function(e){var t=e.json,n=e.contentData,l=e.showIcon,c=(0,r.useState)([]),f=(0,o.default)(c,2),m=f[0],v=f[1],b=(0,r.useState)(""),y=(0,o.default)(b,2),k=y[0],x=y[1];(0,r.useEffect)((function(){var e=function(e){if(!e)return[];var t=(0,s.cloneDeep)(e);return t=t.map((function(e){return e.isShow=void 0===e.isShow||e.isShow,e.checkedAll=void 0!==e.checkedAll&&e.checkedAll,e.indeterminate=void 0!==e.indeterminate&&e.indeterminate,e}))}(n);v(e)}),[n]);var w=function(t,n){var a=(0,s.cloneDeep)(m),o=a[n];o.checkedAll=t,o.indeterminate=!1,o.children.forEach((function(e){e.checked=t})),v(a),e.onCheckAllChange(a)},C=function(t,n,a){var o=(0,s.cloneDeep)(m),r=o[n],i=r.children[a];i.checked=t;var l=0;r.children.forEach((function(e){e.checked&&l++})),r.checkedAll=l===r.children.length,r.indeterminate=!!l&&l<r.children.length,v(o),e.onChangeChecked(o,i.value)},D=function(t){var n=e.iconList;if(!l)return null;var a=n&&n.find((function(e){return e.value===t.image_src}));return a&&a.src||""},E=function(t,n){return i.default.createElement("div",{className:"result-header",fieldid:"result-header",onClick:function(){!function(t){var n=(0,s.cloneDeep)(m);if(n[t]){var a=!n[t].isShow;n[t].isShow=a,v(n),e.onGroupShowChange&&e.onGroupShowChange(t,a)}}(n)}},i.default.createElement("span",{className:"checkbox-content",onClick:function(e){e.stopPropagation(),w(!t.checkedAll,n)}},i.default.createElement(h,{checked:t.checkedAll,indeterminate:t.indeterminate,onChange:function(e){return w(e,n)}})),i.default.createElement("span",{className:"result-header-name"},t.label),t.isShow?i.default.createElement("i",{class:"iconfont icon-jiantouxia1"}):i.default.createElement("i",{class:"iconfont icon-jiantouxia1 icon-right"}))},_=function(t,n,a){return e.renderSideCard?e.renderSideCard(t,n,a):i.default.createElement(u.default,{id:t.value,key:t.value,width:t.width,height:t.height,index:n,parentIndex:a,searchValue:k,name:t.label,appGroupArr:m,checked:t.checked,onChangeChecked:C,resetSelectedCards:e.resetSelectedCards,cardList:e.cardList})};return i.default.createElement("div",{className:"drag-sider-content"},i.default.createElement(d.default,(0,a.default)({searchValue:k,groupData:m,setSearchValue:x,onAllExpand:function(e){var t=m.map((function(t){return"boolean"==typeof e&&(t.isShow=e),t}));v(t)}},e)),i.default.createElement("div",{className:"sider-result"},m&&m.length?m.map((function(e,t){return i.default.createElement(g,{className:"result-group-list",key:e.value,fieldid:e.label,areaCode:g.config.Group},E(e,t),i.default.createElement("div",{className:"result-app-list",style:{display:e.isShow?"flex":"none"}},e.children.map((function(e,n){return i.default.createElement("div",{className:"app-col",key:n,fieldid:e.label},i.default.createElement("div",{className:"list-item"},l&&i.default.createElement("div",{className:"list-item-icon",style:{backgroundImage:"url("+D(e)+")"}}),_(e,n,t)))}))))})):n&&i.default.createElement("div",{className:"result-group-list"},i.default.createElement("div",{className:"no-result-content"},i.default.createElement("div",{className:"no-result"},i.default.createElement("img",{src:p.default,alt:t["DesktopSetting-000035"],width:"80",className:"commondataPlaceholder"}),i.default.createElement("br",null)),i.default.createElement("div",{className:"no-result-character"},t["DesktopSetting-000042"])))))}},1199:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o,r=x(n(1046)),i=x(n(118)),s=x(n(2)),l=x(n(29)),p=x(n(26)),u=x(n(5)),d=x(n(8)),c=x(n(6)),f=x(n(7)),g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),h=x(n(1041)),m=x(n(9)),v=n(1094),b=n(1200),y=x(n(1251)),k=x(n(1191));function x(e){return e&&e.__esModule?e:{default:e}}var w=x(n(23)).default.PubSub,C=!1;try{C=/firefox/i.test(navigator.userAgent)}catch(e){}var D=(o=a=function(e){function t(e,n){(0,u.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,p.default)(t)).call(this,e,n));return a.state={activeDrag:null,layout:(0,v.synchronizeLayoutWithChildren)(a.props.layout,a.props.children,a.props.cols,(0,v.compactType)(a.props)),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,droppingDOMNode:null,children:[]},a.dragEnterCounter=0,a.onDragOver=function(e){if(C&&e.nativeEvent.target&&!e.nativeEvent.target.classList.contains("react-grid-layout"))return e.preventDefault(),!1;var t=a.props,n=t.droppingItem,o=t.margin,r=t.cols,i=t.rowHeight,p=t.maxRows,u=t.width,d=t.containerPadding,c=a.state.layout,f=e.nativeEvent,h=f.layerX,m=f.layerY,v={left:h,top:m,e:e};if(a.state.droppingDOMNode){if(a.state.droppingPosition){var y=a.state.droppingPosition,k=y.left,x=y.top;(k!=h||x!=m)&&a.setState({droppingPosition:v})}}else{var w={cols:r,margin:o,maxRows:p,rowHeight:i,containerWidth:u,containerPadding:d||o},D=(0,b.calcXY)(w,m,h,n.w,n.h);a.setState({droppingDOMNode:g.createElement("div",{key:n.i}),droppingPosition:v,layout:[].concat((0,l.default)(c),[(0,s.default)({},n,{x:D.x,y:D.y,static:!1,isDraggable:!0})])})}e.preventDefault()},a.removeDroppingPlaceholder=function(){var e=a.props,t=e.droppingItem,n=e.cols,o=a.state.layout,r=(0,v.compact)(o.filter((function(e){return e.i!==t.i})),(0,v.compactType)(a.props),n);a.setState({layout:r,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})},a.onDragLeave=function(){a.dragEnterCounter--,0===a.dragEnterCounter&&a.removeDroppingPlaceholder()},a.onDragEnter=function(){a.dragEnterCounter++},a.onDrop=function(e){var t=a.props.droppingItem,n=a.state.layout,o=n.find((function(e){return e.i===t.i}));a.dragEnterCounter=0,a.removeDroppingPlaceholder(),a.props.onDrop(n,o,e)},(0,v.autoBindHandlers)(a,["onDragStart","onDrag","onDragStop","onResizeStart","onResize","onResizeStop"]),a}return(0,f.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout),this.pubsub=w.subscribe("onRemoveGridLayoutPlaceholder",(function(t,n){e.removeDroppingPlaceholder()}))}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.children!==e.children||!(0,v.fastRGLPropsEqual)(this.props,e,h.default)||this.state.activeDrag!==t.activeDrag||this.state.mounted!==t.mounted||this.state.droppingPosition!==t.droppingPosition}},{key:"componentDidUpdate",value:function(e,t){if(!this.state.activeDrag){var n=this.state.layout,a=t.layout;this.onLayoutMaybeChanged(n,a)}}},{key:"componentWillUnmount",value:function(){w.unsubscribe(this.pubsub)}},{key:"containerHeight",value:function(){if(this.props.autoSize){var e=(0,v.bottom)(this.state.layout),t=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return e*this.props.rowHeight+(e-1)*this.props.margin[1]+2*t+"px"}}},{key:"onDragStart",value:function(e,t,n,a){var o=a.e,r=a.node,i=this.state.layout,s=(0,v.getLayoutItem)(i,e);if(s)return this.setState({oldDragItem:(0,v.cloneLayoutItem)(s),oldLayout:this.state.layout}),this.props.onDragStart(i,s,s,null,o,r)}},{key:"onDrag",value:function(e,t,n,a){var o=a.e,r=a.node,i=this.state.oldDragItem,s=this.state.layout,l=this.props.cols,p=(0,v.getLayoutItem)(s,e);if(p){var u={w:p.w,h:p.h,x:p.x,y:p.y,placeholder:!0,i:e};s=(0,v.moveElement)(s,p,t,n,!0,this.props.preventCollision,(0,v.compactType)(this.props),l),this.props.onDrag(s,i,p,u,o,r),this.setState({layout:(0,v.compact)(s,(0,v.compactType)(this.props),l),activeDrag:u})}}},{key:"onDragStop",value:function(e,t,n,a){var o=a.e,r=a.node;if(this.state.activeDrag){var i=this.state.oldDragItem,s=this.state.layout,l=this.props,p=l.cols,u=l.preventCollision,d=(0,v.getLayoutItem)(s,e);if(d){s=(0,v.moveElement)(s,d,t,n,!0,u,(0,v.compactType)(this.props),p),this.props.onDragStop(s,i,d,null,o,r);var c=(0,v.compact)(s,(0,v.compactType)(this.props),p),f=this.state.oldLayout;this.setState({activeDrag:null,layout:c,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(c,f)}}}},{key:"onLayoutMaybeChanged",value:function(e,t){t||(t=this.state.layout),(0,h.default)(t,e)||this.props.onLayoutChange(e)}},{key:"onResizeStart",value:function(e,t,n,a){var o=a.e,r=a.node,i=this.state.layout,s=(0,v.getLayoutItem)(i,e);s&&(this.setState({oldResizeItem:(0,v.cloneLayoutItem)(s),oldLayout:this.state.layout}),this.props.onResizeStart(i,s,s,null,o,r))}},{key:"onResize",value:function(e,t,n,a){var o=a.e,l=a.node,p=this.state,u=p.layout,d=p.oldResizeItem,c=this.props,f=c.cols,g=c.preventCollision,h=(0,v.withLayoutItem)(u,e,(function(e){var a=void 0;if(g){var o=(0,v.getAllCollisions)(u,(0,s.default)({},e,{w:t,h:n})).filter((function(t){return t.i!==e.i}));if(a=o.length>0){var i=1/0,l=1/0;o.forEach((function(t){t.x>e.x&&(i=Math.min(i,t.x)),t.y>e.y&&(l=Math.min(l,t.y))})),(0,r.default)(i)&&(e.w=i-e.x),(0,r.default)(l)&&(e.h=l-e.y)}}return a||(e.w=t,e.h=n),e})),m=(0,i.default)(h,2),b=m[0],y=m[1];if(y){var k={w:y.w,h:y.h,x:y.x,y:y.y,static:!0,i:e};this.props.onResize(b,d,y,k,o,l),this.setState({layout:(0,v.compact)(b,(0,v.compactType)(this.props),f),activeDrag:k})}}},{key:"onResizeStop",value:function(e,t,n,a){var o=a.e,r=a.node,i=this.state,s=i.layout,l=i.oldResizeItem,p=this.props.cols,u=(0,v.getLayoutItem)(s,e);this.props.onResizeStop(s,l,u,null,o,r);var d=(0,v.compact)(s,(0,v.compactType)(this.props),p),c=this.state.oldLayout;this.setState({activeDrag:null,layout:d,oldResizeItem:null,oldLayout:null}),this.onLayoutMaybeChanged(d,c)}},{key:"placeholder",value:function(){var e=this.state.activeDrag;if(!e)return null;var t=this.props,n=t.width,a=t.cols,o=t.margin,r=t.containerPadding,i=t.rowHeight,s=t.maxRows,l=t.useCSSTransforms,p=t.transformScale;return g.createElement(y.default,{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,className:"react-grid-placeholder",containerWidth:n,cols:a,margin:o,containerPadding:r||o,maxRows:s,rowHeight:i,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:l,transformScale:p},g.createElement("div",null))}},{key:"processGridItem",value:function(e,t){if(e&&e.key){var n=(0,v.getLayoutItem)(this.state.layout,String(e.key));if(!n)return null;var a=this.props,o=a.width,r=a.cols,i=a.margin,s=a.containerPadding,l=a.rowHeight,p=a.maxRows,u=a.isDraggable,d=a.isResizable,c=a.isBounded,f=a.useCSSTransforms,h=a.transformScale,m=a.draggableCancel,b=a.draggableHandle,k=a.resizeHandles,x=a.resizeHandle,w=this.state,C=w.mounted,D=w.droppingPosition,E="boolean"==typeof n.isDraggable?n.isDraggable:!n.static&&u,_="boolean"==typeof n.isResizable?n.isResizable:!n.static&&d,S=n.resizeHandles||k,A=E&&c&&!1!==n.isBounded;return g.createElement(y.default,{containerWidth:o,cols:r,margin:i,containerPadding:s||i,maxRows:p,rowHeight:l,cancel:m,handle:b,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:E,isResizable:_,isBounded:A,useCSSTransforms:f&&C,usePercentages:!C,transformScale:h,w:n.w,h:n.h,x:n.x,y:n.y,i:n.i,minH:n.minH,minW:n.minW,maxH:n.maxH,maxW:n.maxW,static:n.static,droppingPosition:t?D:void 0,resizeHandles:S,resizeHandle:x},e)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.style,o=t.isDroppable,r=t.innerRef,i=t.id,l=(0,m.default)("react-grid-layout",n),p=(0,s.default)({height:this.containerHeight()},a);return g.createElement("div",{ref:r,id:i,className:l,style:p,onDrop:o?this.onDrop:v.noop,onDragLeave:o?this.onDragLeave:v.noop,onDragEnter:o?this.onDragEnter:v.noop,onDragOver:o?this.onDragOver:v.noop},g.Children.map(this.props.children,(function(t){return e.processGridItem(t)})),o&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),!this.props.removePlaceholder&&this.placeholder())}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=void 0;return t.activeDrag?null:((0,h.default)(e.layout,t.propsLayout)&&e.compactType===t.compactType?(0,v.childrenEqual)(e.children,t.children)||(n=t.layout):n=e.layout,n?{layout:(0,v.synchronizeLayoutWithChildren)(n,e.children,e.cols,(0,v.compactType)(e)),compactType:e.compactType,children:e.children,propsLayout:e.layout}:null)}}]),t}(g.Component),a.displayName="ReactGridLayout",a.propTypes=k.default,a.defaultProps={autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:v.noop,onDragStart:v.noop,onDrag:v.noop,onDragStop:v.noop,onResizeStart:v.noop,onResize:v.noop,onResizeStop:v.noop,onDrop:v.noop},o);t.default=D},1200:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(1046),r=(a=o)&&a.__esModule?a:{default:a};function i(e){var t=e.margin,n=e.containerPadding,a=e.containerWidth,o=e.cols;return(a-t[0]*(o-1)-2*n[0])/o}function s(e,t,n){return(0,r.default)(e)?Math.round(t*e+Math.max(0,e-1)*n):e}function l(e,t,n){return Math.max(Math.min(e,n),t)}t.calcGridColWidth=i,t.calcGridItemWHPx=s,t.calcGridItemPosition=function(e,t,n,a,o,r){var l=e.margin,p=e.containerPadding,u=e.rowHeight,d=i(e),c={};r&&r.resizing?(c.width=Math.round(r.resizing.width),c.height=Math.round(r.resizing.height)):(c.width=s(a,d,l[0]),c.height=s(o,u,l[1]));r&&r.dragging?(c.top=Math.round(r.dragging.top),c.left=Math.round(r.dragging.left)):(c.top=Math.round((u+l[1])*n+p[1]),c.left=Math.round((d+l[0])*t+p[0]));return c},t.calcXY=function(e,t,n,a,o){var r=e.margin,s=e.cols,p=e.rowHeight,u=e.maxRows,d=i(e),c=Math.round((n-r[0])/(d+r[0])),f=Math.round((t-r[1])/(p+r[1]));return c=l(c,0,s-a),f=l(f,0,u-o),{x:c,y:f}},t.calcWH=function(e,t,n,a,o){var r=e.margin,s=e.maxRows,p=e.cols,u=e.rowHeight,d=i(e),c=Math.round((t+r[0])/(d+r[0])),f=Math.round((n+r[1])/(u+r[1]));return c=l(c,0,p-a),f=l(f,0,s-o),{w:c,h:f}},t.clamp=l},1201:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(n(29)),o=s(n(51)),r=s(n(5)),i=s(n(8));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,r.default)(this,e),this.swap=function(e,n){var a;return a=[t._array[n],t._array[e]],t._array[e]=a[0],t._array[n]=a[1],a},this.cloneDeep=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return JSON.parse((0,o.default)(e))},this._array=this.cloneDeep(n)}return(0,i.default)(e,[{key:"add",value:function(e){return this._array.concat(e)}},{key:"remove",value:function(e){return this._array.splice(e,1),this._array}},{key:"insert",value:function(e,t){var n;Array.isArray(t)?(n=this._array).splice.apply(n,[e,0].concat((0,a.default)(t))):this._array.splice(e,0,t);return this._array}},{key:"move",value:function(e,t){if(e===t)return this._array;var n=this._array[e];return this._array.splice(e,1),this._array.splice(t,0,n),this._array}},{key:"getArray",value:function(){return this.cloneDeep(this._array)}},{key:"update",value:function(e){return this._array=e,this.getArray()}}]),e}();t.default=l},1202:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=b(n(2)),o=b(n(51)),r=b(n(118)),i=n(1),s=b(i),l=b(n(403)),p=n(38),u=n(85),d=n(20),c=b(n(23)),f=b(n(1203)),g=b(n(59)),h=n(1085),m=n(1204),v=b(n(255));function b(e){return e&&e.__esModule?e:{default:e}}var y=c.default.base,k=y.NCFormControl,x=y.NCButton,w=y.NCTooltip,C=c.default.PubSub,D=function(e){var t=e.setShowAddLink,n=e.onOk,p=e.externalLinkData,u=void 0===p?{}:p,c=e.editable,b=void 0!==c&&c,y=e.isRespWorkbench,D=(0,d.langCheck)("0000PUB-000387"),E=[{imgSrc:f.default.externallinkicon1,key:"externallinkicon1"},{imgSrc:f.default.externallinkicon2,key:"externallinkicon2"},{imgSrc:f.default.externallinkicon3,key:"externallinkicon3"},{imgSrc:f.default.externallinkicon4,key:"externallinkicon4"},{imgSrc:f.default.externallinkicon5,key:"externallinkicon5"}],_=(0,i.useState)(u.name||""),S=(0,r.default)(_,2),A=S[0],I=S[1],G=(0,i.useState)("null"===u.url?"":u.url||""),L=(0,r.default)(G,2),P=L[0],N=L[1],j="externallinkicon1";"{}"!=(0,o.default)(u)&&(j=(0,m.getImageKey)(u));var O=(0,i.useState)(j),R=(0,r.default)(O,2),M=R[0],T=R[1],z=function(e){var t=e.iptTitle,n=e.iptUrl,o={appcode:"10182004",apptype:"2",name:t,title:t,url:n,urllink:n,image:e.selectKey,cardid:e.cardid,width:h.APP_DEFAULT_SIZE.width,height:h.APP_DEFAULT_SIZE.height};return(0,a.default)({},u,o)},B=function(){if(H(A.trim())&&W(P.trim()))if(P.startsWith("http://")||P.startsWith("https://")||(P="http://"+P),!b&&y&&C.publish("saveDesktopOutside"),"{}"===(0,o.default)(u)){var a={title:A,urllink:P,image:M};(0,m.addExternalLink)(e,a).then((function(e){e&&(n(z({iptTitle:A,iptUrl:P,selectKey:M,cardid:e.pk_group_app})),t(!1))}))}else{var r=u.pk_group_app;b?(n(z({iptTitle:A,iptUrl:P,selectKey:M,cardid:r})),t(!1)):function(a){var o=a.iptTitle,r=a.iptUrl,i=a.selectKey,s=a.pk_group_app,l={pk_group_app:s,title:o,urllink:r,image:i};(0,m.editExternalLink)(e,l).then((function(e){n(z({iptTitle:o,iptUrl:r,selectKey:i,cardid:s})),t(!1)}))}({iptTitle:A,iptUrl:P,selectKey:M,pk_group_app:r})}},W=function(e){var t=!0;return(0,m.urlTest)(e)?t=!0:e.length>400?((0,g.default)({status:"warning",msg:(0,d.langCheck)("0000PUB-000462")}),t=!1):0===e.length?((0,g.default)({status:"warning",msg:(0,d.langCheck)("0000PUB-000464")}),t=!1):((0,g.default)({status:"warning",msg:(0,d.langCheck)("0000PUB-000443")}),t=!1),t},H=function(e){return!!(e.length&&e.length<=20)||(e.length>20?((0,g.default)({status:"warning",msg:(0,d.langCheck)("0000PUB-000466")}),!1):((0,g.default)({status:"warning",msg:(0,d.langCheck)("0000PUB-000464")}),!1))},U=function(e,t){T(t.key)},q=function(e){T(e.key)};return s.default.createElement(l.default,{maskClosable:!0,destroyOnClose:!0,visible:!0,title:D,footer:function(e){var t=e.CancelBtn;return s.default.createElement(i.Fragment,null,s.default.createElement(w,{placement:"top",overlay:(0,d.langCheck)("0000PUB-000007")+"(Alt + Y)"},s.default.createElement(x,{key:"submit",colors:"primary",onClick:B,fieldid:"addExternalLink"},(0,d.langCheck)("0000PUB-000007"),"(",s.default.createElement("span",{className:"underline"},"Y"),")")),t)},wrapClassName:"external-modal",className:"external-link-box",onOk:B,modalAutoFocus:!1,onCancel:function(){t(!1)},height:270,width:400},s.default.createElement(i.Fragment,null,s.default.createElement("div",{className:"ipt-box"},s.default.createElement("span",{className:"title"},(0,d.langCheck)("0000PUB-000445")),s.default.createElement(k,{className:"ipt",value:A,onChange:function(e){I(e)},size:"sm",autoFocus:!0})),s.default.createElement("div",{className:"ipt-box"},s.default.createElement("span",{className:"title"},(0,d.langCheck)("0000PUB-000465")),s.default.createElement(k,{className:"ipt",value:P,placeholder:(0,d.langCheck)("0000PUB-000463"),onChange:function(e){N(e)},size:"sm"})),s.default.createElement("div",{className:"icon-list-box"},s.default.createElement("span",{className:"title"},(0,d.langCheck)("0000PUB-000446")),s.default.createElement("div",{className:"icon-list-box-right"},E.map((function(e,t){return s.default.createElement("div",{className:e.key===M?"isSelect icon-item":"icon-item",key:e.key,tabindex:"0",onFocus:function(t){return U(t,e)}},s.default.createElement("img",{className:"external-img",src:e.imgSrc,alt:"",onClick:function(){return q(e)}}),s.default.createElement("img",{className:"select-icon",src:v.default,alt:"",style:e.key===M?{display:"block"}:{display:"none"}}))}))))))};D=(0,p.connect)((function(e){return{isSaveComplete:e.gridLayoutData.isSaveComplete,isRespWorkbench:e.gridLayoutData.isRespWorkbench}}))(D),t.default=(0,u.withRouter)(D)},1203:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(n(1272)),o=l(n(1273)),r=l(n(1274)),i=l(n(1275)),s=l(n(1276));function l(e){return e&&e.__esModule?e:{default:e}}t.default={externallinkicon1:a.default,externallinkicon2:o.default,externallinkicon3:r.default,externallinkicon4:i.default,externallinkicon5:s.default}},1204:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getImageKey=t.urlTest=t.getAjaxNewData=t.editExternalLink=t.addExternalLink=void 0;var a=l(n(51)),o=l(n(2)),r=l(n(97)),i=l(n(32)),s=n(20);function l(e){return e&&e.__esModule?e:{default:e}}var p=l(n(23)).default.regExpUtil.checkUrl,u=(t.addExternalLink=function(e,t){var n=u(e,t);return new r.default((function(e){(0,i.default)({url:"/nccloud/platform/appregister/addexternallink.do",info:{name:(0,s.langCheck)("0000PUB-000387"),action:(0,s.langCheck)("0000PUB-000435")},data:n,success:function(t){var n=t.data,a=n.data,o=n.success;n.error;o&&a&&e(a)}})}))},t.editExternalLink=function(e,t){var n=u(e,t);return new r.default((function(e){(0,i.default)({url:"/nccloud/platform/appregister/editexternallink.do",info:{name:(0,s.langCheck)("0000PUB-000387"),action:(0,s.langCheck)("0000PUB-000436")},data:n,success:function(t){var n=t.data,a=n.data,o=n.success;n.error;o&&a&&e(a)}})}))},t.getAjaxNewData=function(e,t){var n=e.location&&e.location.search,a="";if(-1!==n.indexOf("pk_responsibility")){var r=n.substring(n.indexOf("pk_responsibility"));a=r.substring(r.indexOf("=")+1)}return a&&(t=(0,o.default)({},t,{relateid:a})),t});t.urlTest=function(e){var t="null"===e?"":e;return e.startsWith("http://")||(t="http://"+t),e.length&&e.length<400&&p(t)},t.getImageKey=function(e){var t=void 0;return"{}"!=(0,a.default)(e)&&(t=e.image.match(/images\/(\S*)\.svg/)?"defaultIcon"===(t=e.image.match(/images\/(\S*)\.svg/)[1])?"externallinkicon1":t:"defaultIcon"===e.image?"externallinkicon1":e.image),t}},1205:function(e,t,n){e.exports=n.p+"images/chart01Preview.png"},1206:function(e,t,n){e.exports=n.p+"images/othericonPreview.png"},1217:function(e,t,n){var a=n(426);(t=e.exports=n(16)(!1)).i(n(1049),""),t.i(n(1050),""),t.push([e.i,'.app-drag-placeholder{position:absolute;width:4px;background-color:#2797ff;left:-6px;top:0;bottom:0;z-index:10}.nc-desktop-setting{display:flex;flex-flow:row;height:100%;width:100%;overflow:hidden;min-width:1200px}.nc-desktop-setting.preview .nc-workbench-home-content,.nc-desktop-setting.preview .nccwb-header-info{pointer-events:none}.nc-desktop-setting .workbench-background-wrapper{position:absolute;top:0;left:0;right:0;bottom:0;overflow:hidden;-webkit-transform:scale(1);transform:scale(1)}.nc-desktop-setting .workbench-background-wrapper .workbench-background-content{width:100%;height:100%}.nc-desktop-setting .nc-desktop-setting-content.edit{margin-left:380px}.nc-desktop-setting .nc-desktop-setting-content.edit .nc-workbench-desktop-container{position:relative;overflow-y:auto;top:40px}.nc-desktop-setting .nc-desktop-setting-content.edit .nc-workbench-desktop-container .group-item-scroll-wrap.last-item{margin-bottom:calc(100vh - 300px)}.nc-desktop-setting .nc-desktop-setting-content.edit .nc-workbench-home-container{margin-top:0;min-height:100%;height:auto;padding-bottom:100px}.nc-desktop-setting .nc-desktop-setting-content.edit .nc-workbench-app-container:hover .group-item-container .title-right{background:rgba(107,156,200,.2);border-bottom-left-radius:100px}.nc-desktop-setting .nc-desktop-setting-content.edit .nc-workbench-app-container:hover .group-item-container .title-right .iconfont{color:#1c67f7}.nc-desktop-setting .nc-desktop-setting-content.edit .nc-workbench-app-container:hover .group-item-container .title-right .group-item-title-not-edit .iconfont{color:#5c92e8}.nc-desktop-setting .nc-desktop-setting-content{position:relative;flex:1;background-size:cover;background-position:0 0;transition:all .3s cubic-bezier(.2,0,.25,1)}.nc-desktop-setting .nc-desktop-setting-content .content-anchor{padding-top:2px;padding-left:20px;margin-left:1px;width:100%;height:40px;line-height:40px;display:flex;left:0;top:0;position:absolute;overflow-x:auto;overflow-y:hidden}.nc-desktop-setting .nc-desktop-setting-content .content-anchor .anchor{margin-left:5px;padding:0 10px;height:35px}.nc-desktop-setting .nc-desktop-setting-content .content-anchor .anchor a{height:32px;text-align:center;white-space:nowrap;color:#747474}.nc-desktop-setting .nc-desktop-setting-content .content-anchor .anchor a:hover{color:#dd3730}.nc-desktop-setting .nc-desktop-setting-content .content-anchor .anchor .active{color:#dd3730;position:relative}.nc-desktop-setting .nc-desktop-setting-content .content-anchor .anchor .active span{display:flex;justify-content:center}.nc-desktop-setting .nc-desktop-setting-content .content-anchor .anchor .active span:after{content:"";display:block;width:100%;height:2px;background:#dd3730;border-radius:4px;position:relative;bottom:4px}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container{height:100%}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item-add{position:absolute;display:flex;background-color:#f3f4fc;color:#9fd2ff;align-items:center;justify-content:center;cursor:pointer;width:32px;height:16px;border:1px solid #9fd2ff;border-radius:3px;bottom:-10px;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);z-index:1}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item-add.first{position:relative;margin-top:-10px}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item{width:100%;margin-bottom:10px;cursor:move;position:relative;transition:all .2s ease-out;min-width:500px}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item .group-add{margin:0 10px}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item-container .group-item-title-container-no-edit{display:flex;justify-content:space-between;align-items:center;height:30px}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item-container .group-item-title-container-no-edit i{cursor:pointer}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item-container .group-item-title-container-no-edit .title-left{display:flex;align-items:center;position:relative;padding-left:5px}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item-container .group-item-title-container-no-edit .title-left .group-item-title{cursor:pointer;line-height:22px}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item-container .group-item-title-container-no-edit .title-left i{font-size:19px;margin-top:3px;margin-left:7px}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item-container .group-item-title-container-no-edit .title-left i:hover{color:#111}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item-container .group-item-title-container-no-edit .title-right{display:flex;color:#505368;padding-right:15px;align-items:center;height:30px}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item-container .group-item-title-container-no-edit .title-right .group-item-title-edit{margin-left:20px}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item-container .group-item-title-container-no-edit .title-right .group-item-title-edit:hover{color:#1c67f7}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item-container .group-item-title-container-no-edit .title-right .group-item-title-not-edit{color:#a0a3b2;margin-left:20px}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item-container .card-container .card-shadow{background:#cccfdd;position:absolute;border-radius:3px;transition:all .2s ease-out}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item-container .card-container .card{background:#fff;position:absolute;border:1px solid #f1f1f1;border-radius:3px;transition:all .2s ease-out}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item-container .card-container .card>div{padding-top:10px}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item-container .card-container .card .card-mid{position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);width:107px;height:103px}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item-container .card-container .card .card-footer{display:flex;justify-content:space-between;position:absolute;height:35px;width:100%;padding:7px 8px;bottom:0;background:#f2f2f2}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item-container .card-container .card .card-footer .card-delete{font-size:19px;line-height:23px;cursor:pointer}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item-container .card-container .card .card-footer .card-delete:hover{color:#111}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item-scroll-wrap{position:relative;margin-bottom:1px}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item-scroll-wrap.editable{margin-bottom:0;border:1px solid #9fd2ff}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item-scroll-wrap.editable:not(.last-item){border-bottom:none!important}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item-scroll-wrap.editable.active{border:1px solid #1868ff}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item-scroll-wrap.editable.active+.group-item-scroll-wrap{border-top-color:#1868ff}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item-scroll-wrap.last-item{padding-bottom:6px}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .edit-group-item{box-shadow:0 0 6px #1890ff}.nc-desktop-setting .nc-desktop-setting-content .empty-group-content{position:absolute;display:flex;top:50%;width:100%;align-items:center;justify-content:center}.nc-desktop-setting .nc-desktop-setting-content .empty-group-content .add-group-btn{cursor:pointer;padding:6px;border:1px solid #00f}.nc-desktop-setting .nc-workbench-home-footer{background:#f7f8fa;width:100%;height:50px;position:absolute;right:0;bottom:0;border-top:1px solid #ccc;display:flex;justify-content:flex-end;align-items:center;z-index:10}.nc-desktop-setting .nc-workbench-home-footer .footer-left,.nc-desktop-setting .nc-workbench-home-footer .footer-right{display:flex;margin-right:20px}.nc-desktop-setting .nc-workbench-home-footer .footer-right button{margin-left:6px}.nc-desktop-setting .nc-workbench-home-footer .button-app-wrapper{margin-right:20px}.nc-desktop-setting .nc-workbench-home-footer .button-app-wrapper.group-btns .footer-button:first-child:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.nc-desktop-setting .nc-workbench-home-footer .button-app-wrapper.group-btns .footer-button:not(:first-child):not(:last-child){border-radius:0}.nc-desktop-setting .nc-workbench-home-footer .button-app-wrapper.group-btns .footer-button:last-child:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0}.nc-desktop-setting .nc-workbench-home-footer .button-app-wrapper.group-btns .footer-button:hover:not(:disabled)+button{border-left-color:#c6ccd7}.nc-desktop-setting .nc-workbench-home-footer .button-app-wrapper.group-btns .footer-button+.footer-button{margin-left:-1px}.nc-desktop-setting .nc-workbench-home-footer .button-app-wrapper.group-btns .footer-button{margin-left:0}.nc-desktop-setting .nc-workbench-home-sider-container{position:absolute;left:0;top:0;bottom:0;transition:all .3s cubic-bezier(.2,0,.25,1);z-index:10}.nc-desktop-setting .nc-workbench-home-sider-container.collapsed{left:-400px;transition:all .3s cubic-bezier(.2,0,.25,1)}.nc-desktop-setting .nc-workbench-home-sider-container.collapsed+.nc-desktop-setting-content.edit{margin-left:0}.nc-desktop-setting .nc-workbench-home-sider{background:#f1f4f8;height:100%}.nc-desktop-setting .nc-workbench-home-sider .sider-content{position:relative}.nc-desktop-setting .nc-workbench-home-sider .sider-content .workbench-tab-content{background-color:#f1f4f8;padding:8px}.nc-desktop-setting .nc-workbench-home-sider .sider-content .workbench-tab-bar{background-color:#e8ecf2!important;padding-top:5px;padding-left:20px}.nc-desktop-setting .nc-workbench-home-sider .sider-content .workbench-tab-bar .wui-tabs-nav-container{background-color:transparent}.nc-desktop-setting .nc-workbench-home-sider .sider-content .workbench-tab-bar .wui-tabs-nav .wui-tabs-tab{background-color:transparent;padding:0 26px!important;margin:0!important;height:30px!important;line-height:30px!important;border:1px solid transparent}.nc-desktop-setting .nc-workbench-home-sider .sider-content .workbench-tab-bar .wui-tabs-nav .wui-tabs-tab:after{content:""!important}.nc-desktop-setting .nc-workbench-home-sider .sider-content .workbench-tab-bar .wui-tabs-nav .wui-tabs-tab.wui-tabs-tab-active{background:#f1f4f8;border-radius:4px 4px 0 0;border:1px solid #d9d9d9;border-bottom:none}.nc-desktop-setting .nc-workbench-home-sider .sider-content .wui-tabs-ink-bar{background-color:transparent!important}.nc-desktop-setting .nc-workbench-home-sider .ant-layout-sider-zero-width-trigger{z-index:10}.nc-desktop-setting .collapse-btn{position:absolute;display:flex;cursor:pointer;align-items:center;justify-content:center;width:12px;height:60px;top:50%;right:-12px;-webkit-transform:translateY(-50%);transform:translateY(-50%);border-left:none;border-radius:0 7px 7px 0;z-index:100}.nc-desktop-setting .collapse-btn.collapsed{background-color:#bdbdbd;border:1px solid hsla(0,0%,100%,.6);border-left:none}.nc-desktop-setting .collapse-btn.collapsed .iconfont{position:relative;left:-6px;font-size:16px}.nc-desktop-setting .collapse-btn.expand{background-color:#f1f4f8;border:1px solid #e7ebef;border-left:none}.nc-desktop-setting .collapse-btn.expand .iconfont{position:relative;-webkit-transform:rotate(-90deg);transform:rotate(-90deg);left:-5px;font-size:12px}.nc-desktop-setting .collapsed-line{position:absolute;top:0;bottom:0;left:0;width:12px;cursor:pointer;background-color:#bdbdbd;opacity:.8;z-index:1}.nc-desktop-setting .collapsed-line:hover{opacity:1}.nc-desktop-setting .collapsed-line:after,.nc-desktop-setting .collapsed-line:before{content:"";position:absolute;right:-1px;width:1px;height:calc(50% - 30px);background-color:hsla(0,0%,100%,.6)}.nc-desktop-setting .collapsed-line:before{top:0}.nc-desktop-setting .collapsed-line:after{bottom:0}.nc-desktop-setting .helptip-container{position:absolute;display:flex;align-items:center;justify-content:center;right:6px;top:50%;width:28px;height:28px;border-radius:100%;background-color:#fff}.nc-desktop-setting .helptip-container .iconfont{color:#e14c46;font-size:18px;line-height:1}.desk-setting-layer{position:fixed;pointer-events:none;z-index:100;left:-20px;top:-20px}.desk-setting-layer .desk-setting-layer-card-list .layer-card{background:#fff;position:absolute;display:flex;align-items:center;justify-content:center;border-radius:6px;box-shadow:0 2px 5px 0 rgba(74,81,93,.1)}.desk-setting-layer .desk-setting-layer-card-list .layer-card.scale{-webkit-transform-origin:0 0;transform-origin:0 0}.desk-setting-layer .desk-setting-layer-card-list .layer-card .layer-card-span{position:absolute;background:#fe4343;color:#fff;border-radius:50%;width:30px;height:30px;display:inline-block;text-align:center;line-height:30px;z-index:9}.desk-setting-layer .desk-setting-layer-card-list .widget-preview{display:flex;flex-direction:column;width:250px;height:136px;box-shadow:0 2px 5px 0 rgba(74,81,93,.1);border-radius:6px}.desk-setting-layer .desk-setting-layer-card-list .widget-preview .widget-preview-name{color:#2b2c42;padding:12px}.desk-setting-layer .desk-setting-layer-card-list .widget-preview .widget-preview-content{flex:1;background-repeat:no-repeat;background-size:contain;background-position:50%}.desk-setting-layer .grid-item{width:100%;height:100%}.desk-setting-layer .app-item{width:100%;height:100%;position:relative;overflow:hidden;transition:all .2s;display:flex;flex-direction:column;justify-content:space-between;border-radius:8px;background:#fff;cursor:pointer}.desk-setting-layer .app-item .app-item_title{color:#2b2c42;font-size:14px;line-height:1.3;margin:16px;position:relative;display:-webkit-box;-webkit-line-clamp:3;overflow:hidden;z-index:1}.desk-setting-layer .app-item .app-content{display:flex;justify-content:flex-end;position:absolute;width:100%;right:16px;bottom:14px}.desk-setting-layer .app-item .app-icon,.desk-setting-layer .app-item .icon-image{overflow:hidden;margin-right:0;width:60%;background-position:100%}.sider-search .search-cascader{flex:1}.sider-search .search-cascader span{font-size:12px;color:#6b6b6b}.sider-search .search-cascader input{border:none;border-radius:0}.sider-search .ant-input-affix-wrapper{padding:0}.sider-search .ant-input{font-size:12px!important;height:26px!important}.sider-search .select-area.search .ant-input{padding:4px 30px 4px 8px!important;border:1px solid #d9d9d9!important}.fixed-search-input .ant-input-suffix .fixed-search-icon-group{display:flex;align-items:center}.fixed-search-input .ant-input-suffix .fixed-search-icon-group .icon-qingkong{display:none;color:#767777!important;font-size:16px!important;padding-right:3px}.fixed-search-input .ant-input-suffix .fixed-search-icon-group .icon-qingkong:hover{color:red}.fixed-search-input .ant-input-suffix .iconfont:not(.icon-qingkong){display:inline-block;font-size:12px!important;color:#888;cursor:pointer}.fixed-search-input .ant-input-suffix .ant-input-search-icon{display:none}.desk-setting-vertical-center-modal{display:flex;align-items:center;justify-content:center}.desk-setting-vertical-center-modal .ant-modal{top:0}.modal-radio-group .modal-radio{display:flex;margin-bottom:10px}.modal-radio-group .modal-radio.second{padding-left:20px}.ant-dropdown ul.ant-dropdown-menu,.ant-dropdown ul.ant-dropdown-menu li.ant-dropdown-menu-item{padding:0}.ant-dropdown ul.ant-dropdown-menu li.ant-dropdown-menu-item button{-moz-text-align-last:center;text-align-last:center;font-size:13px;background-color:inherit;width:100%;border:none;outline:none;cursor:pointer}.ant-dropdown ul.ant-dropdown-menu li.ant-dropdown-menu-item button:focus{border:none}.ant-dropdown ul.ant-dropdown-menu li.ant-dropdown-menu-item button:disabled{color:#ccc}.ant-dropdown ul.ant-dropdown-menu li.ant-dropdown-menu-item button:hover{background-color:inherit}.ant-dropdown ul.ant-dropdown-menu .all_expand{border-bottom:1px solid #c1c1c1}.ant-dropdown ul.ant-dropdown-menu li.ant-dropdown-menu-item:hover{background-color:#f4f5f7}.all_expand{cursor:pointer;font-weight:700}.all_expand .ant-btn{box-shadow:none!important}.allPack{cursor:not-allowed}.desk-setting-cascader-popup .ant-cascader-menu{width:165px;min-height:390px;overflow-y:auto}.desk-setting-cascader-popup .ant-cascader-menu li{padding-right:25px;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.desk-setting-cascader-popup .ant-cascader-menu li:hover{background:#f5f5f5}.nc-workbench-home-page{width:100%;height:100%}.nc-workbench-home-page.fixed-width .nc-workbench-home-container{padding:0}.nc-workbench-home-page.fixed-width .nccwb-header-info{max-width:1400px;padding:0;margin:6px auto 0}.nc-workbench-home-page.fixed-width .nc-workbench-home-content{max-width:1400px;margin:0 auto}.grid-layout-col-container{position:absolute;top:0;left:0;bottom:0;right:0;display:flex;margin:40px 24px 0;padding:0 5px}.grid-layout-col-container .grid-layout-col{flex:1;background-color:rgba(117,142,182,.08)}.nc-workbench-home-container{position:relative;padding:0 24px;margin-top:6px;height:calc(100% - 48px);overflow:auto}.nc-workbench-home-container .change_editable{position:fixed;display:flex;cursor:pointer;background-color:#fff;top:200px;right:0;width:40px;height:40px;align-items:center;justify-content:center}.nc-workbench-home-container .nc-workbench-app-container{position:relative}.nc-workbench-home-container .title{font-size:14px;height:40px;line-height:40px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin-left:4px;color:#606069}.nc-workbench-home-container .widget-container{display:flex;align-items:center;justify-content:space-around}.nc-workbench-home-container .text{font-size:24px;text-align:center;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;height:24px}.nc-workbench-home-container .grid-item{height:100%;line-height:1;border-radius:8px;box-shadow:0 1px 1px 0 rgba(74,81,93,.1);overflow:hidden}.nc-workbench-home-container .grid-item .license-msg{width:100%;height:100%;padding:10px;display:flex;background-color:#fff;justify-content:center;align-items:center;border-radius:8px}.nc-workbench-home-container .grid-item .license-msg .license-msg_container{display:flex;align-items:center}.nc-workbench-home-container .grid-item .license-msg .license-msg_container .iconfont{color:#ef8718}.nc-workbench-home-container .grid-item .license-msg .license-msg_container .license-msg_content .msg_title{font-size:14px;color:#111;padding:4px 0;margin-left:5px}.nc-workbench-home-container .grid-item .license-msg .license-msg_container .license-msg_content .msg_content{padding:4px}.nc-workbench-home-container .grid-item .license-msg .license-msg_container .license-msg_content .msg_content p{margin:0;color:#888;font-size:14px}.nc-workbench-home-container .grid-item.isapp:hover .quick-launch-area{display:flex}.nc-workbench-home-container .grid-item.scale{-webkit-transform-origin:0 0;transform-origin:0 0}.nc-workbench-home-container .grid-item .icon-wrap{display:flex;cursor:pointer;padding:4px;width:22px;height:22px;align-items:center;justify-content:center}.nc-workbench-home-container .grid-item .icon-wrap:hover{background-color:#edf1f2;border-radius:3px}.nc-workbench-home-container .grid-item .icon-wrap .iconfont{color:#555;line-height:1;font-size:14px}.nc-workbench-home-container .quick-launch-area{display:none;position:absolute;align-items:center;cursor:pointer;height:28px;background-color:rgba(0,0,0,.6);left:0;bottom:0;padding:0 17px;border-top-right-radius:6px;border-bottom-left-radius:8px}.nc-workbench-home-container .quick-launch-area .iconfont{cursor:pointer;color:#fff;font-size:16px}.nc-workbench-home-container .app-item{width:100%;height:100%;position:relative;overflow:hidden;transition:all .2s;display:flex;flex-direction:column;justify-content:space-between;border-radius:8px;background:#fff;cursor:pointer}.nc-workbench-home-container .app-item .app-item_title{color:#2b2c42;font-size:14px;line-height:1.3;margin:16px;position:relative;display:-webkit-box;-webkit-line-clamp:3;overflow:hidden;z-index:1}.nc-workbench-home-container .app-item .app-content{display:flex;justify-content:flex-end;position:absolute;width:100%;right:16px;bottom:14px}.nc-workbench-home-container .app-item .app-icon,.nc-workbench-home-container .app-item .icon-image{overflow:hidden;margin-right:0;width:60%;background-position:100%}.nc-workbench-home-container .app-group-content{height:100%;border-radius:8px;padding-top:16px;background-color:#fff;border:1px solid transparent}.nc-workbench-home-container .app-group-content .app-group-item-content-wrapper{height:calc(100% - 24px)}.nc-workbench-home-container .app-group-content .app-group-item-content{display:flex;flex-wrap:wrap;justify-content:space-around}.nc-workbench-home-container .app-group-content .app-group-header{color:#2b2c42;font-size:14px;display:flex;justify-content:space-between;line-height:1.4;margin-bottom:5px;padding:0 16px}.nc-workbench-home-container .app-group-content .app-group-header .name-edit-content{display:flex;align-items:center;cursor:pointer}.nc-workbench-home-container .app-group-content .app-group-item{position:relative;margin:5px 0 8px}.nc-workbench-home-container .app-group-content .app-group-item:hover{cursor:pointer;background-color:#f9f9f9;border-radius:6px}.nc-workbench-home-container .app-group-content .app-group-item:hover .quick-launch-area{display:flex}.nc-workbench-home-container .app-group-content .app-group-item .app-icon-container{display:flex;flex-direction:column;align-items:center;justify-content:center}.nc-workbench-home-container .app-group-content .app-group-item .app-icon-container .app-icon-content{width:36px;height:36px;border-radius:5px;background-color:#f1f4ff;padding:6px}.nc-workbench-home-container .app-group-content .app-group-item .app-icon-container .app-icon-content .app-img,.nc-workbench-home-container .app-group-content .app-group-item .app-icon-container .app-icon-content .app-img img{height:100%}.nc-workbench-home-container .app-group-content .app-group-item .app-icon{background-position:50%;height:100%!important}.nc-workbench-home-container .app-group-content .app-group-item .app-name{text-align:center;color:#414141;margin-top:6px;padding:0 4px;font-size:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.nc-workbench-home-container .app-group-content .app-group-item .quick-launch-area{height:18px;padding:0 7px}.nc-workbench-home-container .app-group-content .app-group-item .dragging,.nc-workbench-home-container .app-group-content .app-group-item .dragging+.opr-area{opacity:0}.nc-workbench-home-container .app-group-content .app-group-item .opr-area{background-color:rgba(219,225,238,.82);border-radius:5px 5px 0 0;padding:3px;height:18px;left:50%;right:auto;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.nc-workbench-home-container .app-group-content .app-group-item .opr-area .icon-wrap{width:auto;height:auto;padding:0}.nc-workbench-home-container .app-group-content .app-group-item .opr-area .icon-wrap:hover{background-color:transparent}.nc-workbench-home-container .app-group-content .app-group-item .opr-area .icon-wrap .iconfont{margin-right:4px}.nc-workbench-home-container .app-group-content .app-group-item .opr-area .wui-checkbox-label{padding-left:18px}.nc-workbench-home-container .app-group-content .app-group-item.unauthorized{opacity:.5;cursor:not-allowed}.nc-workbench-home-container .app-group-content .app-item-placeholder{position:absolute;width:4px;background-color:#2797ff;left:-6px;top:0;bottom:0;z-index:10}.nc-workbench-home-container .app-group-content .empty-app-group-item{height:0}.nc-workbench-home-empty{width:100%;height:100%;display:flex;align-items:center;justify-content:center}.nc-workbench-home-empty .empty-container{position:relative;text-align:center}.nc-workbench-home-empty .empty-container h1{font-size:33px;font-weight:400;color:#0f0f0f;margin-bottom:6px;line-height:1}.nc-workbench-home-empty .empty-container .empty-content{font-size:15px;color:#555;line-height:1;margin-top:12px;margin-bottom:30px}.nc-workbench-home-empty .empty-container .empty-btn .empty-button{background:linear-gradient(45deg,#ff4d48,#ff224c);color:#fff;border:none;font-size:14px;height:38px;line-height:35px;min-width:102px}.nc-workbench-home-empty .empty-container ul{margin-top:34px}.nc-workbench-home-empty .empty-container ul li{color:#525252;font-size:15px;margin-top:16px}.nc-workbench-home-empty .empty-container ul li span{color:#525252;font-size:15px;background:#fff;padding:5px;cursor:pointer}.nc-workbench-home-empty .empty-container ul li span .iconfont{font-size:15px}.prompt-box-project .base-modal .base-modal-header{width:100%;height:40px;flex:0 0 auto;color:#111;font-weight:700;padding:9px 16px;border-radius:3px 3px 0 0}.prompt-box-project .base-modal .base-modal-header .modal-header-img{width:16px;height:16px;vertical-align:baseline}.prompt-box-project .base-modal .base-modal-header .wui-modal-title{position:absolute;top:0;left:0;color:#111;font-family:PingFangHK-Regular;padding:0 0 0 16px;line-height:40px;font-size:14px;font-weight:700}.prompt-box-project .base-modal .base-modal-header .wui-close{color:#555;opacity:1;text-shadow:0 1px 0 #fff;position:absolute;right:16px;top:9px;outline:none;height:26px;width:26px;font-weight:400;font-size:16px}.prompt-box-project .base-modal .base-modal-body{outline:0}.prompt-box-project .base-modal .base-modal-footer{height:44px;width:100%;background-color:#fff;padding:7px 20px;box-sizing:border-box;flex:0 0 auto;border-radius:0 0 3px 3px}.prompt-box-project .base-modal .deduplicate-wrap{padding:8px 24px}.prompt-box-project .base-modal .deduplicate-wrap .deduplicate-info{padding:6px 11px 5px;margin-bottom:15px;border:1px solid #ffd77a;font-size:12px;line-height:19px;background-color:#fff9e6;color:#555}.prompt-box-project .base-modal .deduplicate-wrap .ant-checkbox-checked .ant-checkbox-inner{background-color:#e14c46;border:1px solid #e14c46}.prompt-box-project .base-modal .deduplicate-wrap .ant-checkbox-inner{border:1px solid #999}.prompt-box-project .base-modal .deduplicate-wrap .group-item .title{padding:0;font-size:13px;font-weight:400;color:#111;line-height:18px}.prompt-box-project .base-modal .deduplicate-wrap .group-item .checkbox-group{margin-top:12px}.prompt-box-project .base-modal .deduplicate-wrap .group-item .checkbox-group .item-label{display:inline-block;max-width:105px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.prompt-box-project .base-modal .modal-footer{position:relative}.prompt-box-project .base-modal .modal-footer .nopopup{position:absolute;left:0;top:7px;color:#0073e1;cursor:pointer}.grid-layout-container{width:100%}.grid-layout-container .grid-layout-main{min-height:110px}.grid-layout-container .gird-item-content .opr-area{position:absolute;top:0;right:0;height:24px;display:flex;align-items:center;padding:0 8px 0 15px;background-color:#f3f4fc;border-bottom-left-radius:100px;border-top-right-radius:35px;z-index:10}.grid-layout-container .gird-item-content .opr-area.scale{-webkit-transform:scale(.73);transform:scale(.73);-webkit-transform-origin:100% 0;transform-origin:100% 0}.grid-layout-container .gird-item-content .opr-area .iconfont{cursor:pointer;pointer-events:auto!important;font-size:12px;color:#8e99b5;margin-right:8px}.grid-layout-container .gird-item-content.editable .app-item,.grid-layout-container .gird-item-content.editable .grid-item{cursor:move}.grid-layout-container .gird-item-content.editable .widget-mask{position:absolute;left:0;top:0;right:0;bottom:0;cursor:move}.grid-layout-container .react-grid-item.compose-hover{outline:1px solid red;border-radius:8px}.grid-layout-container .react-grid-placeholder{background-color:#ddedff;border-radius:4px;opacity:.6}.grid-layout-container .react-resizable-handle{background-image:url('+a(n(1218))+");padding:0 2px 2px 0}.grid-layout-container .react-resizable-handle:after{border:none}.compact-app-modal .app-drag-modal{width:100%!important;margin:0 auto!important}.compact-app-modal .base-modal-body{display:flex;flex-direction:column;padding:0!important;height:500px}.compact-app-modal .compact-app-container{display:flex;overflow:hidden;height:100%}.compact-app-modal .drag-sider-content .sider-result{height:auto}.compact-app-modal .box-l{width:380px;padding:8px;background-color:#f1f4f8;border-right:1px solid #e7ebef;overflow-y:auto}.compact-app-modal .box-r{display:flex;flex:1;padding:15px;overflow-y:auto}.compact-app-modal .box-r .card-item{position:relative;float:left;width:98px;margin-bottom:8px}.compact-app-modal .box-r .card-item:hover{cursor:pointer;background-color:#f9f9f9;border-radius:6px}.compact-app-modal .box-r .card-item:hover .quick-launch-area{display:flex}.compact-app-modal .box-r .card-item .app-icon-container{display:flex;flex-direction:column;align-items:center;justify-content:center}.compact-app-modal .box-r .card-item .app-icon-container .app-icon-content{width:36px;height:36px;border-radius:5px;background-color:#f1f4ff;padding:6px}.compact-app-modal .box-r .card-item .app-icon-container .app-icon-content .app-img,.compact-app-modal .box-r .card-item .app-icon-container .app-icon-content .app-img img{height:100%}.compact-app-modal .box-r .card-item .app-icon{background-position:50%;height:100%!important}.compact-app-modal .box-r .card-item .app-name{text-align:center;color:#414141;margin-top:6px;padding:0 4px;font-size:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.compact-app-modal .box-r .card-item .app-item-placeholder{position:absolute;width:4px;background-color:#2797ff;left:-6px;top:0;bottom:0;z-index:10}.compact-app-modal .box-r .card-item .opr-area{position:absolute;top:-8px;right:25px}.compact-app-modal .box-r .card-item .opr-area .iconfont{cursor:pointer;font-size:14px;color:#8e99b5}.compact-app-modal .box-r .card-item.unauthorized{opacity:.5}.compact-app-modal .box-r .empty-content{color:#999;font-size:14px;text-align:center;flex:1;align-self:center}.group-item-layer{position:fixed;pointer-events:none;z-index:100;left:0;top:0;width:100%;height:100%}",""])},1218:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAG9JREFUKFNjZCAS1PevdmAkRi1IIRMjgyhBxTCF/95fWYtXMbJCZj59XZyK0RX+Z/lrhFUxNoX/3v1fiqEYl0IWHgZpFMX4FP5jYYiCKyakkImR8Q9YMSGFDAyMrEzMjEcYCSkEmcjAxHj2ksS//QAb2mpBLLoKiAAAAABJRU5ErkJggg=="},1219:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=E(n(411)),o=E(n(3)),r=E(n(2)),i=E(n(26)),s=E(n(5)),l=E(n(8)),p=E(n(6)),u=E(n(7)),d=E(n(1078));n(1051);var c=n(1),f=E(c),g=E(n(68)),h=n(38),m=E(n(32)),v=E(n(23)),b=E(n(9)),y=n(406),k=E(n(59)),x=n(1220),w=n(1085),C=E(n(1197)),D=E(n(1198));function E(e){return e&&e.__esModule?e:{default:e}}n(1237);var _=d.default.Sider,S=v.default.base,A=S.NCDiv,I=S.NCTabs,G=I.NCTabPane,L=v.default.PubSub,P=function(e){function t(e){(0,s.default)(this,t);var n=(0,p.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.initSiderData=function(){var e=n.props.relateidObj,t={};t="userID"===e.type?{}:"is_group"===e.type?{is_group:e.data}:{pk_responsibility:e.data};var a=n.props.location&&n.props.location.search;if(a&&-1!==a.indexOf("pk_responsibility")){var o=a.substring(a.indexOf("pk_responsibility")),i=o.substring(o.indexOf("=")+1);t.pk_responsibility=i}else a&&-1!==a.indexOf("is_group=true")&&(t={is_group:!0});n.getTab().isWidget&&(t=(0,r.default)({},t,{apptype:"2"})),t=(0,r.default)({},t,(0,w.getQueryCloud)(a)),(0,m.default)({url:"/nccloud/platform/appregister/queryapplazy.do",info:{name:n.props.json["DesktopSetting-000004"],action:n.props.json["DesktopSetting-000027"]},data:t,loading:!0,success:function(e){if(e){var t=e.data,a=t.data,o=t.success;if(o&&a)if(a.length>0){if(n.getTab().isApp){var r=[a[0].value,a[0].children[0].value];n.onCascaderChange(r),n.setState({appDomainList:a,appCascaderSelect:r})}else if(n.getTab().isWidget){var i=[a[0].value],s=g.default.cloneDeep(a).map((function(e){return delete e.children,e}));n.onCascaderChange(i),n.setState({widgetDomainList:s,widgetCascaderSelect:i})}}else 0===a.length?(0,k.default)({status:"warning",msg:n.props.json["DesktopSetting-000028"]}):(0,k.default)({status:"error",msg:a})}}})},n.onInputSearch=function(e){var t=n.state.tabActiveKey;if(""!==e){var a=n.props.relateidObj,i={},s=n.getTab().isApp?{apptype:"1"}:n.getTab().isWidget?{apptype:"2"}:{};i="userID"===a.type?{search_content:e}:"is_group"===a.type?{search_content:e,is_group:a.data}:{search_content:e,pk_responsibility:a.data},i=(0,r.default)({},i,s),(0,m.default)({url:"/nccloud/platform/appregister/searchmenuitem.do",info:{name:n.props.json["DesktopSetting-000004"],action:n.props.json["DesktopSetting-000029"]},data:i,loading:!0,success:function(e){var a=e.data,r=a.data,i=a.success;i&&r&&r.children&&r.children.length>0?(r.children=n.formatData(r.children),n.setState((0,o.default)({},t+"GroupArr",[r]))):r&&r.children&&0===r.children.length?n.setState((0,o.default)({},t+"GroupArr",[])):(0,k.default)({status:"error",msg:r})}})}},n.onCascaderChange=function(e,t){e&&0===e.length||(n.getTab().isApp?n.onAppCascaderChange(e,t):n.getTab().isWidget&&n.onWidgetCascaderChange(e))},n.onAppCascaderChange=function(e,t){var a=e,o=n.props.relateidObj,i=a[e.length-1],s={};s="userID"===o.type?{own_module:i}:"is_group"===o.type?{own_module:i,is_group:o.data}:{own_module:i,pk_responsibility:o.data};var l=n.props.location&&n.props.location.search;if(l&&-1!==l.indexOf("pk_responsibility")){var p=l.substring(l.indexOf("pk_responsibility")),u=p.substring(p.indexOf("=")+1);s.pk_responsibility=u}else l&&-1!==l.indexOf("is_group=true")&&(s.is_group=!0);if(s=(0,r.default)({},s,{apptype:"1"}),t&&t.length){var d=t[e.length-1];s=(0,r.default)({},s,{is_cloud_app:d.is_cloud_app})}s=(0,r.default)({},s,(0,w.getQueryCloud)(l)),(0,m.default)({url:"/nccloud/platform/appregister/queryapplazy.do",info:{name:n.props.json["DesktopSetting-000004"],action:n.props.json["DesktopSetting-000030"]},data:s,success:function(e){var t=e.data,a=t.data,o=t.success;o&&a&&a.length>0?(g.default.forEach(a,(function(e){e.children=n.formatData(e.children)})),n.setState({appGroupArr:a})):a&&0===a.length?n.setState({appGroupArr:[]}):(0,k.default)({status:"error",msg:a})}})},n.onWidgetCascaderChange=function(e){var t=n.props.relateidObj,a=e[0],o={};o="userID"===t.type?{fieldCode:a}:"is_group"===t.type?{fieldCode:a,is_group:t.data}:{fieldCode:a,pk_responsibility:t.data};var r=n.props.location&&n.props.location.search;if(r&&-1!==r.indexOf("pk_responsibility")){var i=r.substring(r.indexOf("pk_responsibility")),s=i.substring(i.indexOf("=")+1);o.pk_responsibility=s}else r&&-1!==r.indexOf("is_group=true")&&(o.is_group=!0);(0,m.default)({url:"/nccloud/platform/appregister/queryparttree.do",info:{name:n.props.json["DesktopSetting-000004"],action:n.props.json["DesktopSetting-000030"]},data:o,loading:!0,success:function(e){var t=e.data,a=t.data,o=t.success;o&&a&&a.length>0?(g.default.forEach(a,(function(e){e.children=n.formatData(e.children)})),n.setState({widgetGroupArr:a})):a&&0===a.length?n.setState({widgetGroupArr:[]}):(0,k.default)({status:"error",msg:a})}})},n.onCheckAllChange=function(e){n.props.updateSelectedCards((0,w.getCardList)(e))},n.onChangeChecked=function(e,t){n.props.updateSelectedCards((0,w.getCardList)(e,t))},n.resetSelectedCards=function(){var e=n.state.tabActiveKey+"GroupArr",t=g.default.cloneDeep(n.state[e]);g.default.forEach(t,(function(e){g.default.forEach(e.children,(function(e){e.checked&&(e.checked=!1)})),e.checkedAll=!1,e.indeterminate=!1})),n.setState((0,o.default)({},e,t))},n.handleTabChange=function(e){n.setState({tabActiveKey:e},(function(){n.state.widgetGroupArr||n.initSiderData()}))},n.formatData=function(e){var t=g.default.cloneDeep(e),n=[w.PUB_WIDGET_APPCODES.commonUsedApp,w.PUB_WIDGET_APPCODES.externalLinks];return t.forEach((function(e){e.checked=!1,e.height=Number(e.height),e.width=Number(e.width),e.isNotRepeat=n.includes(e.appcode)})),t},n.getTab=function(){return{isApp:"app"===n.state.tabActiveKey,isWidget:"widget"===n.state.tabActiveKey}},n.renderSiderContent=function(e){var t="widget"===e,o=g.default.flatten((0,a.default)(x.widgetIconMap));return f.default.createElement(D.default,{json:n.props.json,contentData:n.state[e+"GroupArr"],defaultCascaderValue:n.state[e+"CascaderSelect"],cascaderOptions:n.state[e+"DomainList"],showIcon:t,iconList:t&&o,onSearch:n.onInputSearch,onCascaderChange:n.onCascaderChange,onCheckAllChange:n.onCheckAllChange,onChangeChecked:n.onChangeChecked,resetSelectedCards:n.resetSelectedCards})},n.state={appGroupArr:null,widgetGroupArr:null,widgetDomainList:[],appCascaderSelect:[],widgetCascaderSelect:[],tabActiveKey:"app",toolTipVisible:!0,collapsed:!0},n}return(0,u.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.initSiderData(),this.pubsub=L.subscribe("onToggleSider",(function(t,n){var a=n.collapsed;e.setState({collapsed:a})})),this.props.siderExpand&&this.setState({collapsed:!1},this.props.onInit)}},{key:"componentWillUnmount",value:function(){this.props.setSiderCollapsed(!0),L.publish("onToggleSider",{collapsed:!0}),L.unsubscribe(this.pubsub)}},{key:"render",value:function(){var e=this,t=this.props.siderCollapsed,n=[{key:"app",tab:this.props.json["DesktopSetting-000051"]},{key:"widget",tab:this.props.json["DesktopSetting-000052"]}];return f.default.createElement(C.default,{json:this.props.json,isMount:!t},f.default.createElement("div",{className:(0,b.default)("nc-workbench-home-sider-container",{collapsed:this.state.collapsed})},f.default.createElement(_,{className:"nc-workbench-home-sider",width:380,theme:"light"},f.default.createElement(A,{className:"sider-content",areaCode:A.config.Area,fieldid:"left"},f.default.createElement(I,{defaultActiveKey:n[0].key,activeKey:this.state.tabActiveKey,onChange:this.handleTabChange,tabContentClassName:"workbench-tab-content",tabBarClassName:"workbench-tab-bar"},n.map((function(t){return f.default.createElement(G,{tab:t.tab,key:t.key},e.renderSiderContent(t.key))}))))),f.default.createElement("div",{className:"collapse-btn expand",onClick:function(){L.publish("onToggleSider",{collapsed:!0}),e.props.setSiderCollapsed(!0)}},f.default.createElement("i",{class:"iconfont icon-shouqi4",fieldid:"collapse"}))))}}]),t}(c.Component);t.default=(0,h.connect)((function(e){return{json:e.gridLayoutData.json,selectedCards:e.gridLayoutData.selectedCards,groups:e.gridLayoutData.groups,siderCollapsed:e.gridLayoutData.siderCollapsed,editable:e.gridLayoutData.editable}}),{updateSelectedCards:y.updateSelectedCards,setSiderCollapsed:y.setSiderCollapsed},null,{forwardRef:!0})(P)},1220:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.widgetIconMap=t.YeWuChuLiLei=t.DanJuWeiHuLei=t.JiChuDangAnLei=t.YeWuSheZhiLei=t.BaoBiaoChaxunLei=void 0;var a=g(n(1221)),o=g(n(1222)),r=g(n(1223)),i=g(n(1224)),s=g(n(1225)),l=g(n(1226)),p=g(n(1227)),u=g(n(1228)),d=g(n(1229)),c=g(n(1230)),f=g(n(1231));function g(e){return e&&e.__esModule?e:{default:e}}t.BaoBiaoChaxunLei=[{value:"baobiaochaxunlei1",src:"baobiaochaxunlei1"},{value:"baobiaochaxunlei2",src:"baobiaochaxunlei2"},{value:"baobiaochaxunlei3",src:"baobiaochaxunlei3"},{value:"baobiaochaxunlei4",src:"baobiaochaxunlei4"},{value:"baobiaochaxunlei5",src:"baobiaochaxunlei5"},{value:"baobiaochaxunlei6",src:"baobiaochaxunlei6"},{value:"baobiaochaxunlei7",src:"baobiaochaxunlei7"},{value:"baobiaochaxunlei8",src:"baobiaochaxunlei8"}],t.YeWuSheZhiLei=[{value:"yewushezhilei1",src:"yewushezhilei1"},{value:"yewushezhilei2",src:"yewushezhilei2"},{value:"yewushezhilei3",src:"yewushezhilei3"},{value:"yewushezhilei4",src:"yewushezhilei4"},{value:"yewushezhilei5",src:"yewushezhilei5"},{value:"yewushezhilei6",src:"yewushezhilei6"},{value:"yewushezhilei7",src:"yewushezhilei7"},{value:"yewushezhilei8",src:"yewushezhilei8"}],t.JiChuDangAnLei=[{value:"jichudanganlei1",src:"jichudanganlei1"},{value:"jichudanganlei2",src:"jichudanganlei2"},{value:"jichudanganlei3",src:"jichudanganlei3"},{value:"jichudanganlei4",src:"jichudanganlei4"},{value:"jichudanganlei5",src:"jichudanganlei5"},{value:"jichudanganlei6",src:"jichudanganlei6"},{value:"jichudanganlei7",src:"jichudanganlei7"},{value:"jichudanganlei8",src:"jichudanganlei8"}],t.DanJuWeiHuLei=[{value:"danjuweihulei1",src:"danjuweihulei1"},{value:"danjuweihulei2",src:"danjuweihulei2"},{value:"danjuweihulei3",src:"danjuweihulei3"},{value:"danjuweihulei4",src:"danjuweihulei4"},{value:"danjuweihulei5",src:"danjuweihulei5"},{value:"danjuweihulei6",src:"danjuweihulei6"},{value:"danjuweihulei7",src:"danjuweihulei7"},{value:"danjuweihulei8",src:"danjuweihulei8"}],t.YeWuChuLiLei=[{value:"yewuchulilei1",src:"yewuchulilei1"},{value:"yewuchulilei2",src:"yewuchulilei2"},{value:"yewuchulilei3",src:"yewuchulilei3"},{value:"yewuchulilei4",src:"yewuchulilei4"},{value:"yewuchulilei5",src:"yewuchulilei5"},{value:"yewuchulilei6",src:"yewuchulilei6"},{value:"yewuchulilei7",src:"yewuchulilei7"},{value:"yewuchulilei8",src:"yewuchulilei8"}],t.widgetIconMap={messageIconList:[{value:"/message",src:a.default}],chartIconList:[{value:"/chart01",src:o.default},{value:"/chart02",src:r.default},{value:"/chart03",src:i.default},{value:"/chart04",src:s.default},{value:"/chart05",src:l.default}],otherIconList:[{value:"/othericon",src:p.default}],pubWidgetIconList:[{value:"/apps",src:u.default},{value:"/guide",src:d.default},{value:"/calendar",src:c.default},{value:"/link",src:f.default}]}},1221:function(e,t,n){e.exports=n.p+"images/message.png"},1222:function(e,t,n){e.exports=n.p+"images/chart01.png"},1223:function(e,t,n){e.exports=n.p+"images/chart02.png"},1224:function(e,t,n){e.exports=n.p+"images/chart03.png"},1225:function(e,t,n){e.exports=n.p+"images/chart04.png"},1226:function(e,t,n){e.exports=n.p+"images/chart05.png"},1227:function(e,t,n){e.exports=n.p+"images/othericon.png"},1228:function(e,t,n){e.exports=n.p+"images/apps.png"},1229:function(e,t,n){e.exports=n.p+"images/guide.png"},1230:function(e,t,n){e.exports=n.p+"images/calendar.png"},1231:function(e,t,n){e.exports=n.p+"images/link.png"},1232:function(e,t,n){var a=n(1233);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(17)(a,o);a.locals&&(e.exports=a.locals)},1233:function(e,t,n){(e.exports=n(16)(!1)).push([e.i,".desktop-help-tooltip{top:106px!important}.desktop-help-tooltip.wui-tooltip{max-width:270px}.desktop-help-tooltip.wui-tooltip .wui-tooltip-inner{background-color:#fff7e9;padding:8px 16px;color:#111;font-size:12px;max-width:none}.desktop-help-tooltip.wui-tooltip .wui-tooltip-arrow{top:12%!important}.desktop-help-tooltip.wui-tooltip .wui-tooltip-arrow .wui-tooltip-arrow-content{background-color:#fff7e9}.desktop-help-tooltip .help-tooltip-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px;padding-top:6px}.desktop-help-tooltip .help-tooltip-header span{font-size:13px}.desktop-help-tooltip .help-tooltip-header .close-btn{cursor:pointer;color:#b6b6b6}.desktop-help-tooltip .help-tooltip-footer{display:flex;margin-top:18px;justify-content:flex-end}.desktop-help-tooltip .help-tooltip-footer span{cursor:pointer;color:#0245c4}.duty-help-tooltip.wui-tooltip{max-width:350px}.duty-help-tooltip.wui-tooltip.inverse .tooltip-inner{max-width:none}.duty-help-tooltip .helptip-title{font-size:14px;font-weight:700;margin-bottom:6px}.duty-help-tooltip p{margin-bottom:6px}",""])},1234:function(e,t,n){e.exports=n.p+"images/searchplaceholder.png"},1235:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=h(n(26)),o=h(n(5)),r=h(n(8)),i=h(n(6)),s=h(n(7)),l=n(1),p=h(l),u=n(1037),d=n(1039),c=n(38),f=n(406),g=n(1085);function h(e){return e&&e.__esModule?e:{default:e}}var m=h(n(23)).default.PubSub,v={beginDrag:function(e){var t=(0,g.getCardList)(e.appGroupArr,e.id);return e.setDraggingItems({from:g.DragTypes.SIDE_CARD,data:t}),{type:"cardlist",cardList:t}},endDrag:function(e,t,n){var a=t.getDropResult();e.setDragOverGroup(null),t.didDrop()&&[g.DragTypes.APP_GROUP_ITEM,g.DragTypes.APP_GROUP].includes(a.type)&&n.clearSelectedCards()}};var b=function(e){function t(e){(0,o.default)(this,t);var n=(0,i.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.onChangeChecked=function(e){var t=e.target.checked,a=n.props,o=a.index,r=a.parentIndex;n.props.onChangeChecked(t,r,o)},n.clickSiderCard=function(){var e=n.props,t=e.index,a=e.parentIndex,o=e.checked;n.props.onChangeChecked(!o,a,t)},n.clearSelectedCards=function(){var e=n.props,t=e.draggingItems,a=e.id;t.data.find((function(e){return e.cardid===a}))&&n.props.resetSelectedCards()},n.getCardName=function(e){var t=n.props.searchValue;if(e.includes(t)){var a=e.indexOf(t),o=e.substr(0,a),r=e.substr(a+t.length);return p.default.createElement("span",null,o,p.default.createElement("span",{style:{color:"#f50"}},t),r)}return e},n}return(0,s.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.connectDragPreview((0,d.getEmptyImage)(),{captureDraggingState:!0}),this.pubsub=m.subscribe("onGridLayoutDropEnd",(function(){e.clearSelectedCards()}))}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.checked!==e.checked||((0,g.hasCardContainInGroups)(this.props.groups,this.props.id)!==(0,g.hasCardContainInGroups)(e.groups,this.props.id)||(0,g.hasCheckedCardInAppGroup)(this.props.appGroupMap,this.props.id)!==(0,g.hasCheckedCardInAppGroup)(e.appGroupMap,this.props.id))}},{key:"componentWillUnmount",value:function(){m.unsubscribe(this.pubsub)}},{key:"render",value:function(){var e=this.props,t=e.connectDragSource,n=e.groups,a=e.id,o=e.name,r=e.checked,i=(0,g.hasCardContainInGroups)(n,a),s=(0,g.hasCheckedCardInAppGroup)(this.props.appGroupMap,a),l=this.getCardName(o);return t(p.default.createElement("div",{className:"list-item-content","data-checked":r,onClick:this.clickSiderCard,style:r?{border:"1px dashed #0153CC"}:{border:"black"==window.nccColor?"1px solid transparent":null}},i||s?p.default.createElement("div",{className:r?"title isAddColor titleChecked":"title isAddColor"},p.default.createElement("span",{className:"title-name"},l)):p.default.createElement("div",{className:r?"title titleChecked":"title"},p.default.createElement("span",{className:"title-name"},l)),r?p.default.createElement("i",{title:this.props.json["DesktopSetting-000039"],className:"iconfont icon-peizhi_tianjia iconlocation",style:{color:"#0153CC"}}):p.default.createElement("i",{title:this.props.json["DesktopSetting-000040"],className:"iconfont icon-peizhi_tianjia iconlocation unSelect"}),i))}}]),t}(l.Component),y=(0,u.DragSource)(g.DragTypes.SIDE_CARD,v,(function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}}))(b);t.default=(0,c.connect)((function(e){return{groups:e.gridLayoutData.groups,json:e.gridLayoutData.json,draggingItems:e.gridLayoutData.draggingItems,appGroupMap:e.gridLayoutData.appGroupMap}}),{updateGroupList:f.updateGroupList,setDraggingItems:f.setDraggingItems,setDragOverGroup:f.setDragOverGroup})(y)},1236:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=d(n(1079)),o=d(n(1047)),r=d(n(1080)),i=d(n(118)),s=d(n(119));n(1052),n(1044),n(1053),n(178);var l=n(1),p=d(l),u=d(n(23));function d(e){return e&&e.__esModule?e:{default:e}}var c=s.default.Search,f=u.default.base,g=f.NCButton;f.NCSelect.NCOption;t.default=function(e){var t=e.contentData,n=e.json,s=e.groupData,u=e.searchValue,d=e.setSearchValue,f=e.defaultCascaderValue,h=e.onAllExpand,m=(0,l.useRef)(),v=(0,l.useState)(!1),b=(0,i.default)(v,2),y=b[0],k=b[1],x=(0,l.useState)([]),w=(0,i.default)(x,2),C=w[0],D=w[1],E=s.every((function(e){return e.isShow})),_=!E&&s.some((function(e){return e.isShow}));(0,l.useEffect)((function(){D(f)}),[f]);var S,A,I,G=function(){d(""),m.current.focus()},L=function(){e.onSearch(u)},P=function(e){d(e.target.value)},N=function(){var t=!y;k(t),t?(setTimeout((function(){m.current.focus()})),h(!0)):(G(),e.onCascaderChange(C))},j=function(t,n){D(t),e.onCascaderChange(t,n)},O=function(){return p.default.createElement(a.default,{className:"search-cascader",allowClear:!1,defaultValue:C,value:C,options:e.cascaderOptions,onChange:j,placeholder:n["DesktopSetting-000032"],expandTrigger:"hover",popupClassName:"desk-setting-cascader-popup fieldid_picker_select"})};return A=p.default.createElement("span",{className:"fixed-search-icon-group"},u.length>0&&p.default.createElement("i",{className:"iconfont icon-qingkong",onClick:G}),p.default.createElement("i",{className:"iconfont icon-chaxun left-icon-sousuo",onClick:L}),p.default.createElement("span",{className:"switch-search-cancel",onClick:N},n["DesktopSetting-000009"])),I="",t&&t.map((function(e){I=e.label})),y?p.default.createElement("div",{className:"sider-search fixed-search-input"},p.default.createElement("div",{className:"select-area search",fieldid:"picker"},p.default.createElement(c,{ref:m,placeholder:n["DesktopSetting-000031"],style:{width:"100%"},onChange:P,onSearch:L,value:u,suffix:A,className:"fieldid_picker_select"}))):p.default.createElement("div",{className:"sider-search"},p.default.createElement("div",{className:"select-area",fieldid:"picker"},O(),p.default.createElement("div",{className:"switch-search",onClick:N},p.default.createElement("i",{title:n["DesktopSetting-000033"],className:"iconfont icon-chaxun left-icon-sousuo"}))),I===n["DesktopSetting-000034"]?"":p.default.createElement(o.default,{trigger:["hover"],placement:"bottomCenter",overlay:(S=function(e){return e?{cursor:"not-allowed",margin:0,border:"none"}:{cursor:"pointer",fontWeight:"bold",margin:0}},p.default.createElement(r.default,null,p.default.createElement(r.default.Item,{key:"0",className:"all_expand"},p.default.createElement(g,{onClick:function(){h(!0)},style:S(!_&&E),disabled:!_&&E,fieldid:"unfold"},e.json["DesktopSetting-000036"])),p.default.createElement(r.default.Item,{key:"1"},p.default.createElement(g,{onClick:function(){h(!1)},style:S(!_&&!E),disabled:!_&&!E,fieldid:"fold"},e.json["DesktopSetting-000037"])))),overlayClassName:"fieldid_opr_menu"},p.default.createElement("i",{className:"iconfont fold-icon "+(E?"icon-quanbuzhankai":"icon-quanbushouqi")+" "})))}},1237:function(e,t,n){var a=n(1238);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(17)(a,o);a.locals&&(e.exports=a.locals)},1238:function(e,t,n){(e.exports=n(16)(!1)).push([e.i,".drag-sider-content .select-area{display:flex;flex:1;align-items:center;border-radius:3px;border:1px solid #d6d7db;margin-right:18px}.drag-sider-content .select-area.search{border-color:transparent}.drag-sider-content .sider-search{display:flex;align-items:center}.drag-sider-content .sider-search .search-input-icon{cursor:pointer}.drag-sider-content .sider-search .switch-search{display:flex;align-items:center;justify-content:center;cursor:pointer;width:30px;background-color:#fff;border-left:1px solid #d6d7db;height:26px}.drag-sider-content .sider-search .switch-search .left-icon-sousuo{color:#888;font-size:12px}.drag-sider-content .sider-search .switch-search:hover{color:red}.drag-sider-content .sider-search .switch-search-cancel{cursor:pointer;color:#0245c4;margin-left:10px}.drag-sider-content .sider-search .sider-search-color .left-icon-sousuo{color:red}.drag-sider-content .sider-search .fold-icon{margin-right:10px;font-size:18px}.drag-sider-content .sider-result{overflow-y:auto;overflow-x:hidden;height:calc(100vh - 165px)}.drag-sider-content .sider-result .no-result{display:flex;align-items:center;justify-content:center}.drag-sider-content .sider-result .no-result img{margin-top:40px}.drag-sider-content .sider-result .no-result-character{text-align:center;color:#888;margin-top:16px;font-size:16px}.drag-sider-content .sider-result .result-group-list{background:#fff;border-radius:4px;margin-top:8px}.drag-sider-content .sider-result .result-group-list .result-header{display:flex;cursor:pointer;line-height:1;padding:8px 10px;align-items:center}.drag-sider-content .sider-result .result-group-list .result-header .checkbox-hotkey-wrapper{align-self:center}.drag-sider-content .sider-result .result-group-list .result-header .checkbox-content{display:inline-flex;width:22px;height:20px;align-items:center;justify-content:center}.drag-sider-content .sider-result .result-group-list .result-header .wui-checkbox .wui-checkbox-label{padding-left:14px}.drag-sider-content .sider-result .result-group-list .result-header .result-header-name{font-weight:700;display:inline-block;color:#1a1c3d;flex:1;align-self:center;margin-left:8px}.drag-sider-content .sider-result .result-group-list .result-header .iconfont{font-size:14px;color:#a6aeb9}.drag-sider-content .sider-result .result-group-list .result-header .iconfont.icon-right{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.drag-sider-content .sider-result .result-group-list .result-app-list{width:100%;display:flex;flex-wrap:wrap;padding-left:24px;padding-right:12px}.drag-sider-content .sider-result .result-group-list .result-app-list .app-col{width:50%}.drag-sider-content .sider-result .result-group-list .result-app-list .app-col .list-item{display:flex;align-items:center;padding-left:5px;margin-bottom:4px}.drag-sider-content .sider-result .result-group-list .result-app-list .app-col .list-item .list-item-icon{width:40px;height:36px;background-repeat:no-repeat;background-size:contain;background-position:50%}.drag-sider-content .sider-result .result-group-list .result-app-list .app-col .list-item .list-item-content{padding:3px 4px;border:1px solid #fff;min-height:30px;flex:1;display:flex;align-items:center;position:relative;cursor:pointer}.drag-sider-content .sider-result .result-group-list .result-app-list .app-col .list-item .list-item-content .triangle-bottom-right{border-bottom-right-radius:3px;border-color:transparent red red transparent;border-style:solid;border-width:4px 6px 6px 9px;bottom:0;height:0;position:absolute;right:0;width:0}.drag-sider-content .sider-result .result-group-list .result-app-list .app-col .list-item .list-item-content .title{color:#1a1c3d}.drag-sider-content .sider-result .result-group-list .result-app-list .app-col .list-item .list-item-content .title .title-name{max-width:100%;flex-shrink:1;font-size:13px;line-height:14px}.drag-sider-content .sider-result .result-group-list .result-app-list .app-col .list-item .list-item-content .isAddColor{color:#007ace}.drag-sider-content .sider-result .result-group-list .result-app-list .app-col .list-item .list-item-content .iconlocation{position:absolute;top:-5px;right:-1px;font-size:16px}.drag-sider-content .sider-result .result-group-list .result-app-list .app-col .list-item .list-item-content .unSelect{color:transparent}.drag-sider-content .sider-result .result-group-list .result-app-list .app-col .list-item .list-item-content:hover{border:1px dashed #c2c2c2}.drag-sider-content .sider-result .result-group-list .result-app-list .app-col .list-item .list-item-content:hover .unSelect{color:#ccc}",""])},1239:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=A(n(75)),o=A(n(76)),r=A(n(26)),i=A(n(5)),s=A(n(8)),l=A(n(6)),p=A(n(7)),u=n(1),d=A(u),c=(n(10),A(n(68))),f=A(n(9)),g=n(38),h=n(1045),m=n(406),v=n(1085),b=A(n(1240)),y=A(n(1241)),k=A(n(1242)),x=(A(n(1243)),A(n(1244))),w=A(n(59)),C=n(183),D=A(n(23)),E=A(n(1245)),_=A(n(1248));n(1190);var S=n(256);function A(e){return e&&e.__esModule?e:{default:e}}var I=D.default.base.NCDiv,G=D.default.PubSub,L=function(e){function t(){var e,n,a,o;(0,i.default)(this,t);for(var s=arguments.length,p=Array(s),u=0;u<s;u++)p[u]=arguments[u];return n=a=(0,l.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(p))),a.state={bgStyle:{},gridLayoutDroppable:!0},a.onCardListDropInGroupItem=function(e,t){var n=a.props.groups;n=c.default.cloneDeep(n);var o=t.index,r=c.default.cloneDeep(e.cardList);r=(0,v.calcDraggingItemsPos)(c.default.uniqBy(r,"cardid"),{x:0,y:99}),n[o].apps=c.default.concat(n[o].apps,r),n[o].apps=c.default.uniqBy(n[o].apps,"cardid"),a.props.updateGroupList(n),a.props.setUpdateLayout(!0)},a.addItem2Group=function(e,t){var n=c.default.cloneDeep(a.props.groups),o=n.findIndex((function(e){return e.pk_app_group===t}));e&&-1!==o&&(n[o].apps=n[o].apps.concat(e),a.props.updateGroupList(n))},a.upGroupItem=function(e){var t=a.props.groups;if(t=c.default.cloneDeep(t),0!==e){var n=t[e-1];t[e-1]=t[e],t[e]=n,a.props.updateGroupList(t)}},a.downGroupItem=function(e){var t=a.props.groups;if(e!==(t=c.default.cloneDeep(t)).length-1){var n=t[e+1];t[e+1]=t[e],t[e]=n,a.props.updateGroupList(t)}},a.deleteGroupItem=function(e){var t=a.props.groups;t=c.default.cloneDeep(t),c.default.remove(t,(function(t){return t.pk_app_group===e})),a.props.updateGroupList(t),a.props.onCheckDeduplication(t)},a.addFirstGroupItem=function(){var e=a.props.groups;e=c.default.cloneDeep(e);var t={pk_app_group:"newGroupItem"+(new Date).getTime(),groupname:""+a.props.json["DesktopSetting-000002"],type:"group",apps:[]};e.push(t),a.props.updateCurrEditID(t.pk_app_group),a.props.updateGroupList(e)},a.addGroupItem=function(e){var t=a.props.groups,n=a.props.json["DesktopSetting-000002"];t=c.default.cloneDeep(t);var o=e,r={pk_app_group:"newGroupItem"+(new Date).getTime(),groupname:a.props.json["DesktopSetting-000002"]+"("+(0,v.getNewGroupItemNum)(n,t)+")",type:"group",apps:[]};t.splice(o+1,0,r),a.asyncUpdateGroupList(t).then((function(){setTimeout((function(){C.scroller.scrollTo(""+r.pk_app_group,{offset:-1!=e?-20:-15,spy:!0,smooth:!0,duration:250,containerId:"ncWorkbenchHomeEditPage"})}),300)})),a.props.updateCurrEditID(r.pk_app_group)},a.moveGroupItem=function(e,t){var n=a.props.groups,o=(n=c.default.cloneDeep(n))[e];n.splice(e,1),n.splice(t,0,o),a.props.updateGroupList(n)},a.changeGroupName=function(e,t){var n=a.props.groups;(n=c.default.cloneDeep(n))[e].groupname=t,a.props.updateGroupList(n),a.props.updateCurrEditID("")},a.initFirstGroup=function(e){setTimeout((function(){e.editable&&0===e.groups.length&&a.addFirstGroupItem()}))},a.handleLayoutDrop=function(e,t){return function(t,n){var o=a.props.draggingItems,r=o.from===v.DragTypes.SIDE_CARD;return n&&a.props.isDroppable&&(o.data=a.validateRepeatCards(e),a.props.setDraggingItems(o),G.publish("onGridLayoutDropEnd",{layout:t,draggingItems:o})),a.props.dragOverGroupItem&&a.props.setDragOverGroup(null),[o.data,r]}},a.handleGroupDragOver=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;a.props.dragOverGroupItem!==e&&a.props.setDragOverGroup(e)},a.validateRepeatCards=function(e){var t=a.props,n=t.draggingItems,o=t.json,r=(0,v.getRepeatItems)(e.apps,n.data,"appcode");if(r.filter((function(e){return!e.isNotRepeat&&!(0,v.checkApp)(e).isExternalLink})).length){var i=(0,v.getUniqueItems)(e.apps,n.data,"appcode"),s=r.map((function(e){return e.name}));return(0,w.default)({status:"warning",msg:"“"+e.groupname+"”"+o["DesktopSetting-000057"]+s.join(",")+","+o["DesktopSetting-000058"]}),i}return n.data},a.getRepeatCards=function(e,t){var n=[];return e.forEach((function(e){t.forEach((function(t){e.appcode===t.appcode&&n.push(t)}))})),n},a.renderAddBtn=function(e){return a.props.editable?d.default.createElement("div",{key:e,className:(0,f.default)("group-item-add",{first:-1===e}),onClick:function(){return a.addGroupItem(e)}},"+"):null},a.setBackgroundStyle=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=(0,S.getBackgroundStyle)(e,t);a.setState({bgStyle:n})},a.getGroupItemStyle=function(e){var t={},n=document.querySelector("#ncWorkbenchHomePage"),o=n&&n.querySelector(".group-item-scroll-wrap.last-item");if(e&&n&&o&&!a.props.editable){var r=window.innerHeight-n.getBoundingClientRect().top,i=o.clientHeight;t.marginBottom=r-Math.min(i,r)+1}return t},a.renderGroups=function(){var e=a.props,t=e.groups,n=e.editable,o=e.dragOverGroupItem,r=function(e){var t=e.group,r=e.index,i=e.groupArr,s=e.size,l=r===i.length-1,p=d.default.createElement(b.default,{key:t.pk_app_group,id:t.pk_app_group,cards:t.apps,groupname:t.groupname,index:r,length:i.length,changeGroupName:a.changeGroupName,deleteGroupItem:a.deleteGroupItem,downGroupItem:a.downGroupItem,upGroupItem:a.upGroupItem,onCardsMove:a.onCardListDropInGroupItem,siderComponent:a.props.siderComponent}),u=d.default.createElement(_.default,{key:t.pk_app_group+n,apps:t.apps,groupId:t.pk_app_group,groupItem:t,groupIndex:r,margin:a.props.margin,col:v.GRID_COLS,size:s,isDroppable:a.state.gridLayoutDroppable,onDrop:a.handleLayoutDrop(t,r),onAddGroupItem:a.addItem2Group,onGridDragOver:a.handleGroupDragOver});return d.default.createElement(C.Element,{name:t.pk_app_group,className:(0,f.default)("group-item-scroll-wrap",{editable:n,active:n&&o&&t.pk_app_group===o.pk_app_group,"last-item":l}),style:i.length>1?a.getGroupItemStyle(l):{},onMouseEnter:function(){return a.handleGroupDragOver(t)}},d.default.createElement(y.default,{key:t.pk_app_group,id:t.pk_app_group,header:p,content:u,group:t,index:r,moveGroupItem:a.moveGroupItem}),a.renderAddBtn(r))};return d.default.createElement(h.SizeMe,null,(function(e){var n=e.size;return d.default.createElement("div",{className:"nc-workbench-home-content",onMouseLeave:function(){return a.handleGroupDragOver(null)}},a.renderAddBtn(-1),t.map((function(e,t,a){return r({group:e,index:t,groupArr:a,size:n})})),d.default.createElement(k.default,{previewCom:function(e){return d.default.createElement(r,{key:e.pk_app_group+"_draggingitem",group:e,index:0,groupArr:t,size:n})}}))}))},a.renderGridCols=function(){for(var e=[],t=0;t<v.GRID_COLS;t++){var n=d.default.createElement("div",{className:"grid-layout-col",style:{marginRight:a.props.margin}});e.push(n)}return a.props.editable&&d.default.createElement("div",{className:"grid-layout-col-container"},e)},o=n,(0,l.default)(a,o)}var n;return(0,p.default)(t,e),(0,s.default)(t,[{key:"componentWillReceiveProps",value:function(e){1==e.editable&&this.props.editable!==e.editable&&(this.initFirstGroup(e),this.props.setSaveComplete(!1),e.groups.length&&setTimeout((function(){C.scroller.scrollTo(e.groups[0].pk_app_group,{offset:-40,containerId:"ncWorkbenchHomeEditPage"})}))),c.default.eq(e.backgroundState,this.props.backgroundState)&&e.themeColor===this.props.themeColor||this.setBackgroundStyle(e.backgroundState,e.themeColor)}},{key:"asyncUpdateGroupList",value:(n=(0,o.default)(a.default.mark((function e(t){var n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.updateGroupList(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"componentDidMount",value:function(){var e=this;this.initFirstGroup(this.props);var t=this.props,n=t.backgroundState,a=t.themeColor;this.setBackgroundStyle(n,a),this.pubsubDrop=G.subscribe("setGridDroppable",(function(t,n){e.setState({gridLayoutDroppable:n})}))}},{key:"componentWillUnmount",value:function(){G.unsubscribe(this.pubsubDrop)}},{key:"render",value:function(){var e=this.props,t=e.editable,n=e.relateidObj,a=e.json,o=e.groups;return d.default.createElement(I,{className:(0,f.default)("nc-desktop-setting-content",{edit:t}),areaCode:I.config.Area,fieldid:"right"},d.default.createElement("div",{className:"workbench-background-wrapper"},d.default.createElement("div",{className:"workbench-background-content",style:this.state.bgStyle})),this.renderGridCols(),d.default.createElement("div",{id:"ncWorkbenchHomeEditPage",className:"nc-workbench-desktop-container",style:t?{top:o.length?40:0}:null},d.default.createElement(E.default,{onEnterEditable:this.props.onEnterEditable,renderGroups:this.renderGroups,emptyInfo:{contentText:a["DesktopSetting-000062"],btnText:a["DesktopSetting-000001"],onBtnClick:this.addFirstGroupItem}})),d.default.createElement(x.default,{relateidObj:n,origQueryWorkbenchData:this.props.origQueryWorkbenchData,disableDeduplicate:this.props.disableDeduplicate,duplicateInEditing:this.props.duplicateInEditing,onCheckDeduplication:this.props.onCheckDeduplication}))}}]),t}(u.Component);t.default=(0,g.connect)((function(e){return{groups:e.gridLayoutData.groups,shadowCard:e.gridLayoutData.shadowCard,json:e.gridLayoutData.json,editable:e.gridLayoutData.editable,draggingItems:e.gridLayoutData.draggingItems,margin:e.gridLayoutData.margin,isDroppable:e.gridLayoutData.isDroppable,dragOverGroupItem:e.gridLayoutData.dragOverGroupItem,backgroundState:e.appData.backgroundState,themeColor:e.appData.themeColor}}),{updateGroupList:m.updateGroupList,updateShadowCard:m.updateShadowCard,updateCurrEditID:m.updateCurrEditID,setDraggingItems:m.setDraggingItems,setSaveComplete:m.setSaveComplete,setUpdateLayout:m.setUpdateLayout,setDragOverGroup:m.setDragOverGroup})(L)},1240:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=b(n(75)),o=b(n(76)),r=b(n(26)),i=b(n(5)),s=b(n(8)),l=b(n(6)),p=b(n(7)),u=b(n(119));n(178);var d=n(1),c=b(d),f=n(38),g=n(406),h=b(n(59)),m=b(n(23)),v=n(20);function b(e){return e&&e.__esModule?e:{default:e}}var y=m.default.base,k=y.NCDiv,x=y.NCPopconfirm,w=y.NCTooltip,C=(u.default.Search,function(e){function t(e){(0,i.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.upGroupItem=function(){n.props.upGroupItem(n.props.index)},n.downGroupItem=function(){n.props.downGroupItem(n.props.index)},n.deleteGroupItem=function(){n.props.deleteGroupItem(n.props.id)},n.getGroupName=function(e){var t=e.target.value;t.length>50&&(t.substring(0,50),t=t.substring(0,50),setTimeout((function(){n.refs.editInputDom.blur()}),0),(0,h.default)({status:"typeError",msg:n.props.json["DesktopSetting-000041"]})),""===t?n.setState({popTitle:n.props.json["DesktopSetting-000017"]}):n.setState({popTitle:n.props.json["DesktopSetting-000016"]}),n.setState({groupName:t,inputValue:t})},n.getBlurPosition=function(e){document.getElementById("groupDragID").setAttribute("draggable",!1)},n.editGroupItemName=function(){n.asyncUpdateCurrEditID(n.props.id).then((function(){n.refs.editInputDom.focus(),n.refs.editInputDom&&n.refs.editInputDom.input&&n.refs.editInputDom.input.select()}))},n.changeGroupName=function(e){e.preventDefault();var t=n.props.index,a=n.state.groupName;""===a?n.setState({popTitle:n.props.json["DesktopSetting-000017"]}):(n.setState({popTitle:n.props.json["DesktopSetting-000016"]}),n.props.changeGroupName(t,a))},n.cancelGroupName=function(){n.props.updateCurrEditID("")},n.handleMoveCard=function(){n.props.onCardsMove({cardList:n.props.selectedCards},{index:n.props.index}),n.props.siderComponent.resetSelectedCards()},n.state={groupName:e.groupname,popTitle:n.props.json["DesktopSetting-000016"],inputValue:e.groupname},n}var n;return(0,p.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){this.props.currEditID===this.props.id&&this.editGroupItemName()}},{key:"asyncUpdateCurrEditID",value:(n=(0,o.default)(a.default.mark((function e(t){var n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.updateCurrEditID(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"shouldComponentUpdate",value:function(e,t){this.props,this.state;return this.props.groupname!==e.groupname||(this.props.currEditID!==e.currEditID||(this.props.index!==e.index||(this.state.popTitle!==t.popTitle||(this.props.length!==e.length||(this.props.cards!==e.cards||this.state.inputValue!==t.inputValue)))))}},{key:"render",value:function(){var e=this.props,t=e.groupname,n=e.id,a=e.index,o=e.length,r=e.currEditID,i=this.state.inputValue,s=this.props.cards.length>0,l=void 0,p=(0,v.getAutoFlag)();return l=r===n?c.default.createElement(k,{className:"group-item-title-container-no-edit",fieldid:"title",areaCode:k.config.Area},c.default.createElement("div",{className:"title-left"},c.default.createElement(w,{trigger:["hover"],overlay:this.state.popTitle,placement:"bottomLeft",delayShow:300},c.default.createElement("div",{fieldid:"groupName"},c.default.createElement(u.default,{id:"groupNameID",ref:"editInputDom",size:"small",placeholder:this.props.json["DesktopSetting-000018"],defaultValue:t,onPressEnter:this.changeGroupName,onBlur:this.changeGroupName,onChange:this.getGroupName,style:{width:200,height:26},value:i,onClick:this.getBlurPosition,draggable:!1}))))):c.default.createElement(k,{className:"group-item-title-container-no-edit",fieldid:"title",areaCode:k.config.Area},c.default.createElement("div",{className:"title-left"},c.default.createElement("span",{className:"group-item-title",onClick:this.editGroupItemName},t),c.default.createElement("div",{className:"group-item-title-edit"},c.default.createElement("i",{title:this.props.json["DesktopSetting-000019"],className:"iconfont icon-bianji",onClick:this.editGroupItemName,style:{fontSize:"19px"}}))),c.default.createElement("div",{className:"title-right"},p&&c.default.createElement("div",{className:"group-item-title-edit"},c.default.createElement("i",{title:"批量添加",className:"iconfont icon-xiayiye",onClick:this.handleMoveCard})),c.default.createElement("div",{className:0===a?"group-item-title-not-edit":"group-item-title-edit"},c.default.createElement("i",{title:this.props.json["DesktopSetting-000020"],className:"iconfont icon-sy",onClick:this.upGroupItem})),c.default.createElement("div",{className:a===o-1?"group-item-title-not-edit":"group-item-title-edit"},c.default.createElement("i",{title:this.props.json["DesktopSetting-000021"],className:"iconfont icon-xy",onClick:this.downGroupItem})),c.default.createElement("div",{className:"group-item-title-edit"},s?c.default.createElement(x,{content:this.props.json["DesktopSetting-000022"],onClose:this.deleteGroupItem,placement:"topRight"},c.default.createElement("i",{title:this.props.json["DesktopSetting-000023"],className:"iconfont icon-shenpibohui",style:{fontSize:16}})):c.default.createElement("i",{title:this.props.json["DesktopSetting-000023"],className:"iconfont icon-shenpibohui",style:{fontSize:16},onClick:this.deleteGroupItem})))),c.default.createElement("div",{className:"group-item-container"},l)}}]),t}(d.Component));t.default=(0,f.connect)((function(e){return{currEditID:e.gridLayoutData.currEditID,json:e.gridLayoutData.json,selectedCards:e.gridLayoutData.selectedCards}}),{updateCurrEditID:g.updateCurrEditID})(C)},1241:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=b(n(26)),r=b(n(5)),i=b(n(8)),s=b(n(6)),l=b(n(7)),p=n(1),u=b(p),d=n(10),c=n(38),f=n(406),g=n(1037),h=n(1039),m=b(n(23)),v=n(1085);function b(e){return e&&e.__esModule?e:{default:e}}var y=m.default.base.NCDiv,k={beginDrag:function(e){return(0,v.setGridDroppable)(!1),{id:e.group.pk_app_group,group:e.group,index:e.index,type:"group"}},canDrag:function(e){return e.editable&&e.groupCanDrag&&""===e.currEditID},endDrag:function(e){(0,v.setGridDroppable)(!0),e.setGroupDragable(!0)}},x={hover:function(e,t,n){if("group"===t.getItem().type){var a=t.getItem().index,o=e.index;if(a===o)return;var r=(0,d.findDOMNode)(n).getBoundingClientRect(),i=(r.bottom-r.top)/2,s=t.getClientOffset().y-r.top;if(a<o&&s<i)return;if(a>o&&s>i)return;e.moveGroupItem(a,o),t.getItem().index=o}},drop:function(e,t){var n=t.getItem();"group"===n.type&&e.moveGroupItem(n.index,e.index)}},w=(0,g.DropTarget)("item",x,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))(a=(0,g.DragSource)("item",k,(function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}}))(a=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){this.props.connectDragPreview((0,h.getEmptyImage)(),{captureDraggingState:!0})}},{key:"render",value:function(){var e=this.props,t=e.isDragging,n=e.connectDragSource,a=e.connectDropTarget,o=e.id,r=e.currEditID,i=e.editable,s=e.group,l=e.index,p=t?0:1,d=r===o?"groupDragID":"";return u.default.createElement(y,{fieldid:s.groupname,areaCode:y.config.Group},n(a(u.default.createElement("div",{className:"nc-workbench-app-container",style:{opacity:p},id:d},i?this.props.header:u.default.createElement("div",{className:"title",style:0===l?{display:"none"}:{}},s.groupname),this.props.content))))}}]),t}(p.Component))||a)||a;t.default=(0,c.connect)((function(e){return{currEditID:e.gridLayoutData.currEditID,editable:e.gridLayoutData.editable,groupCanDrag:e.gridLayoutData.groupCanDrag}}),{setGroupDragable:f.setGroupDragable,setDragOverGroup:f.setDragOverGroup})(w)},1242:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=c(n(26)),o=c(n(5)),r=c(n(8)),i=c(n(6)),s=c(n(7)),l=n(1),p=c(l),u=n(1037),d=n(1085);function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){var e,n,r,s;(0,o.default)(this,t);for(var l=arguments.length,p=Array(l),u=0;u<l;u++)p[u]=arguments[u];return n=r=(0,i.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(p))),r.getItemStyles=function(){var e=r.props,t=e.initialOffset,n=e.currentOffset;if(!t||!n)return{display:"none"};var a=n.x,o=n.y;a-=t.x,o-=t.y;var i="translate("+(a+=t.x)+"px, "+(o+=t.y)+"px)";return{transform:i,WebkitTransform:i}},s=n,(0,i.default)(r,s)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"renderItem",value:function(e,t){switch(e){case d.DragTypes.GROUP_ITEM:return t.group?this.props.previewCom(t.group):null;default:return null}}},{key:"render",value:function(){var e=this.props,t=e.item,n=e.itemType;return e.isDragging&&n===d.DragTypes.GROUP_ITEM?navigator.userAgent.indexOf("MSIE")>-1||navigator.userAgent.indexOf("Trident")>-1||navigator.userAgent.indexOf("Edge")>-1?null:p.default.createElement("div",{className:"group-item-layer"},p.default.createElement("div",{style:this.getItemStyles()},this.renderItem(n,t))):null}}]),t}(l.Component);f=(0,u.DragLayer)((function(e){return{item:e.getItem(),itemType:e.getItemType(),initialOffset:e.getInitialSourceClientOffset(),currentOffset:e.getSourceClientOffset(),clientOffset:e.getClientOffset(),isDragging:e.isDragging()}}))(f),t.default=f},1243:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=g(n(26)),r=g(n(5)),i=g(n(8)),s=g(n(6)),l=g(n(7)),p=n(1),u=g(p);n(1190);var d=n(1037),c=n(38),f=n(183);function g(e){return e&&e.__esModule?e:{default:e}}var h=g(n(23)).default.base.NCDiv,m=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.state={},n}return(0,l.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.groups;return t.editable&&0!==n.length?u.default.createElement(h,{className:"content-anchor",areaCode:h.config.TABS},n.map((function(t,n){return u.default.createElement(v,{onCardListDropInGroupItem:e.props.onCardListDropInGroupItem,key:t.pk_app_group,id:t.pk_app_group,index:n,name:t.groupname})}))):null}}]),t}(p.Component);t.default=(0,c.connect)((function(e){return{groups:e.gridLayoutData.groups,editable:e.gridLayoutData.editable}}),{})(m);var v=(0,d.DropTarget)("item",{drop:function(e,t,n){var a=t.getItem(),o=e;"cardlist"===a.type&&e.onCardListDropInGroupItem(a,o)},canDrop:function(e,t){return"cardlist"===t.getItem().type}},(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.state={},n}return(0,l.default)(t,e),(0,i.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.name!==e.name||(this.props.index!==e.index||this.props.isOver!==e.isOver)}},{key:"render",value:function(){var e=this.props,t=e.connectDropTarget,n=e.isOver,a=e.name,o=e.id;return t(u.default.createElement("span",{className:"anchor",style:{background:n?"rgb(204, 204, 204)":""}},u.default.createElement(f.Link,{activeClass:"active",to:o,offset:-40,spy:!0,smooth:!0,duration:250,containerId:"ncWorkbenchHomeEditPage"},a,u.default.createElement("span",null))))}}]),t}(p.Component))||a},1244:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=D(n(2)),o=D(n(118)),r=D(n(69)),i=D(n(26)),s=D(n(5)),l=D(n(8)),p=D(n(6)),u=D(n(7)),d=D(n(1077));n(1054);var c=n(1),f=D(c),g=D(n(68)),h=D(n(32)),m=n(38),v=n(406),b=n(1085),y=D(n(59)),k=D(n(403)),x=n(85),w=n(120),C=D(n(23));function D(e){return e&&e.__esModule?e:{default:e}}var E=d.default.Group,_=C.default.base,S=_.NCDiv,A=_.NCButton,I=_.NCTooltip,G=C.default.PubSub,L=function(e){function t(e){(0,s.default)(this,t);var n=(0,p.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.deleteTargetCards=function(e,t){var a=n.props,o=a.groups,r=a.appGroupMap;for(var i in o=g.default.cloneDeep(o),(0,b.removeTargetCardsInGroup)(o,e,t),r){var s=r[i];g.default.remove(s,(function(e){return e.isChecked}))}n.props.updateGroupList(o),n.props.setAppGroupData(r),n.props.onCheckDeduplication(o)},n.genMoveRadioData=function(){var e=n.props,t=e.groups,a=e.appGroupMap,o=g.default.cloneDeep(t),i=(0,r.default)(a);return o.forEach((function(e){e.compactApps=[],e.apps&&e.apps.forEach((function(t){i.includes(t.cardid)&&e.compactApps.push(t)}))})),o},n.getGroupItemNameRadio=function(){var e=n.genMoveRadioData(),t=function(e){return f.default.createElement(d.default,{className:"modal-radio",key:e.pk_app_group,value:e.pk_app_group},e.groupname)};return f.default.createElement(E,{className:"modal-radio-group",value:n.state.selectedValue,onChange:n.onChangeRadio.bind(n)},e.map((function(e,n){return e.compactApps&&e.compactApps.length?f.default.createElement(f.default.Fragment,null,t(e),e.compactApps.map((function(e){return f.default.createElement(d.default,{className:"modal-radio second",key:e.cardid,value:e.cardid},e.name)}))):t(e)})))},n.onChangeRadio=function(e){n.setState({selectedValue:e.target.value})},n.showModalVisible=function(){n.setModalVisible(!0)},n.showModalHidden=function(){n.setModalVisible(!1)},n.setModalVisible=function(e){n.setState({modalVisible:e,selectedValue:0})},n.moveApps2Group=function(){var e=g.default.cloneDeep(n.props.groups),t=n.moveCompactApp("group"),a=(0,o.default)(t,1)[0],r=n.state.selectedValue;if(0!==r){var i=[],s=-1;return e.forEach((function(e,t){e.pk_app_group===r&&(s=t);var n=g.default.remove(e.apps,(function(e){return e.isChecked}));a&&(n=n.concat(a)),i=i.concat(n)})),i=(0,b.calcDraggingItemsPos)(g.default.uniqBy(i,"cardid"),{x:0,y:99}),e[s].apps=e[s].apps.concat(i),e[s].apps=g.default.uniqBy(e[s].apps,"cardid"),n.props.updateGroupList(e),e}},n.moveCompactApp=function(e){var t=n.props.appGroupMap;if(0===(0,r.default)(t).length)return[];delete(t=g.default.cloneDeep(t)).updateAll;var a=[];for(var o in t){var i=t[o],s=(0,b.findDataByCompactApp)(n.props.groups,o);if("group"===e)if(s&&s.app&&!s.app.isChecked){var l=g.default.remove(i,(function(e){return e.isChecked}));a=a.concat(l)}else Array.isArray(i)&&i.forEach((function(e){e.isChecked=!1}));else{var p=g.default.remove(i,(function(e){return e.isChecked}));a=a.concat(p)}}return n.props.setAppGroupData(t),[a,t]},n.moveApps2CompactApp=function(){var e=n.state.selectedValue,t=n.props.groups,a=(0,b.findDataByCompactApp)(t,e),r=a.group,i=a.groupIndex,s=n.moveCompactApp("compactApp"),l=(0,o.default)(s,2),p=l[0],u=l[1],d=[],c=[];t.forEach((function(t){var n=g.default.remove(t.apps,(function(n){return!!n.isChecked&&((0,b.checkApp)(n).isOnlyWidget?r.pk_app_group!==t.pk_app_group&&(c=c.concat(n),!0):e!==n.cardid)}));p&&(n=n.concat(p)),d=d.concat(n)})),d=d.filter((function(e){return(0,b.checkApp)(e).isAppOrLink}));var f=u[e].concat(d);f=g.default.uniqBy(f,"cardid"),u[e]=f,n.props.setAppGroupData(u),t[i].apps=t[i].apps.concat(c),t[i].apps=g.default.uniqBy(t[i].apps,"cardid"),n.props.updateGroupList(t)},n.clearAppChecked=function(){var e=g.default.cloneDeep(n.props.groups),t=g.default.cloneDeep(n.props.appGroupMap);if(e.forEach((function(e){(0,b.setPropertyValueForCardsInCards)(e.apps,"isChecked",!1)})),(0,r.default)(t).length)for(var a in t)Array.isArray(t[a])&&(0,b.setPropertyValueForCardsInCards)(t[a],"isChecked",!1);n.props.setAppGroupData(t),n.props.updateGroupList(e)},n.onOkMoveDialog=function(){var e=n.state.selectedValue;e&&(n.props.groups.find((function(t){return t.pk_app_group===e}))?n.moveApps2Group():n.moveApps2CompactApp(),n.props.setUpdateLayout(!0),setTimeout((function(){n.props.setUpdateLayout(!1),n.clearAppChecked(),G.publish("updateAppGroupCache"),n.showModalHidden()}),0))},n.cancleSave=function(){"userID"===n.props.relateidObj.type?(n.props.updateHomePage((function(){n.props.toggleEditStatus(!1)})),n.props.setExternalLinks(null)):(self.opener=null,self.close())},n.getMoveCardButton=function(e,t,a){var o=n.props,r=o.groups,i=o.appGroupMap,s=(0,b.hasCheckedCardInGroups)(r),l=(0,b.hasCheckedCardInCompactApp)(i),p=s||l;return f.default.createElement(A,{disabled:!p,onClick:a,fieldid:t,className:"footer-button"},e)},n.getExpiredCardButton=function(e,t){var a=n.props.groups,o=(0,b.hasExpiredCardInGroups)(a);return f.default.createElement(I,{overlay:n.props.json["DesktopSetting-000003"]},f.default.createElement(A,{fieldid:"clear",disabled:!o,onClick:t,className:"footer-button"},e))},n.genSaveData=function(){var e=[],t=n.props.appGroupMap;return g.default.forEach(n.props.groups,(function(n,o){var r={groupname:n.groupname,apps:[],position:o};-1===n.pk_app_group.indexOf("newGroupItem")&&(r.pk_app_group=n.pk_app_group),g.default.forEach(n.apps,(function(e){if(e.cardid&&-1!==e.cardid.indexOf("_")){var n=e.cardid.split("_");e.cardid=n[0]}var o={};(0,b.checkApp)(e).isCompactApp&&(o={children:t[e.cardid],parttype:"0",name:e.name}),(0,b.checkApp)(e).isExternalLink&&(o.parttype="1"),r.apps.push((0,a.default)({appcode:e.appcode,cardid:e.cardid,gridx:e.gridx,gridy:e.gridy,width:e.width+"",height:e.height+"",pk_group_app:e.pk_group_app,is_cloud_app:e.is_cloud_app,image_src:e.image_src,name:e.name},o))})),e.push(r)})),e},n.saveGroupItemAndCard=function(e){var t=n.genSaveData(),a={isuser:n.props.relateidObj.code,data:t},o=n.props.location&&n.props.location.search;if(o&&-1!==o.indexOf("pk_responsibility")){n.props.relateidObj.code="0",a.isuser="0";var r=o.substring(o.indexOf("pk_responsibility")),i=r.substring(r.indexOf("=")+1);a.relateid=i}else o&&-1!==o.indexOf("is_group=true")?(n.props.relateidObj.code="2",a.isuser="2"):"0"===n.props.relateidObj.code&&(a.relateid=n.props.relateidObj.data);window.onbeforeunload=null,(0,h.default)({url:"/nccloud/platform/appregister/setapp.do",info:{name:n.props.json["DesktopSetting-000004"],action:n.props.json["DesktopSetting-000005"]},loading:!0,data:a,success:function(t){var a=t.data,o=a.data,r=a.success;r?e?n.props.updateHomePage():(setTimeout((function(){"userID"===n.props.relateidObj.type?n.props.updateHomePage((function(){n.props.toggleEditStatus(!1)})):(self.opener=null,self.close()),n.props.setExternalLinks(null)}),1e3),n.props.setSaveComplete(!0),(0,y.default)({status:"success",msg:"string"==typeof o?o:o.msg})):(0,y.default)({status:"error",msg:"string"==typeof o?o:o.msg})}})},n.updateDesktopData=function(e){var t={};e.forEach((function(e){e.apps.forEach((function(e){(0,b.checkApp)(e).isCompactApp&&(t[e.cardid]=e.children,e.children=[]),e.externallink&&(0,b.checkApp)(e).isExternalLink&&n.props.setExternalLinks(e.externallink)}))})),n.props.setAppGroupData(t),n.props.updateGroupList(e)},n.toBeDefault=function(){(0,h.default)({url:"/nccloud/platform/appregister/querydefaultworkbench.do",info:{name:n.props.json["DesktopSetting-000004"],action:n.props.json["DesktopSetting-000006"]},loading:!0,success:function(e){var t=e.data,a=t.data,o=t.success;if(o&&a&&a[0]){var r=a[0].groups||[];n.updateDesktopData(r)}}})},n.showDefaultConfirm=function(){(0,w.ControlTip)({status:"warning",title:n.props.json["DesktopSetting-000006"],msg:n.props.json["DesktopSetting-000008"],onOk:function(){n.toBeDefault()}})},n.showCancelConfirm=function(){(0,w.ControlTip)({status:"warning",title:n.props.json["DesktopSetting-000009"],msg:n.props.json["DesktopSetting-000010"],onOk:function(){n.cancleSave()}})},n.ajaxDeduplicateCards=function(){var e=n.props,t=e.appGroupMap,a=e.saveExternalLinkData,o=g.default.cloneDeep(n.props.groups);console.log("saveExternalLinkData",n.props.saveExternalLinkData),o.forEach((function(e){e.apps.forEach((function(e){(0,b.checkApp)(e).isCompactApp&&(e.children=t[e.cardid]),(0,b.checkApp)(e).isExternalLink&&a[e.cardid]&&(e.externallink=a[e.cardid])}))})),(0,h.default)({url:"/nccloud/platform/appregister/disworkbench.do",info:{name:n.props.json["DesktopSetting-000004"],action:n.props.json["DesktopSetting-000047"]},data:o,loading:!0,success:function(e){var t=e.data,a=t.data,o=t.success;o&&a&&n.updateDesktopData(a)}})},n.deduplicateCards=function(){(0,w.ControlTip)({status:"warning",title:n.props.json["DesktopSetting-000049"],msg:n.props.json["DesktopSetting-000050"],onOk:function(){n.ajaxDeduplicateCards()}})},n.clearAll=function(){(0,w.ControlTip)({status:"warning",title:n.props.json["DesktopSetting-000045"],msg:n.props.json["DesktopSetting-000046"],onOk:function(){n.props.updateGroupList([]),n.props.setAppGroupData({}),n.props.onCheckDeduplication([])}})},n.state={modalVisible:!1,selectedValue:0},n}return(0,u.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.pubsub=G.subscribe("saveDesktopOutside",(function(){e.saveGroupItemAndCard(!0)}))}},{key:"componentWillUnmount",value:function(){G.unsubscribe(this.pubsub)}},{key:"render",value:function(){var e=this,t=this.props,n=t.groups,a=t.initialGroups;if(!t.editable)return null;var o=this.getGroupItemNameRadio(n),r="userID"===this.props.relateidObj.type?"block":"none",i=g.default.isEqual(n,a)&&g.default.isEqual(this.props.appGroupMap,this.props.defaultAppGroupData);return f.default.createElement(S,{className:"nc-workbench-home-footer",fieldid:"bottom-area",areaCode:S.config.BOTTOM},f.default.createElement("div",{className:"footer-left button-app-wrapper group-btns"},this.getMoveCardButton(this.props.json["DesktopSetting-000013"],"move",this.showModalVisible)),f.default.createElement("div",{className:"footer-left button-app-wrapper group-btns"},f.default.createElement(A,{fieldid:"reset",style:{display:r},onClick:this.showDefaultConfirm,className:"footer-button"},this.props.json["DesktopSetting-000006"]),f.default.createElement(A,{fieldid:"deduplicate",disabled:0===n.length,onClick:this.deduplicateCards,className:"footer-button"},this.props.json["DesktopSetting-000047"]),f.default.createElement(A,{fieldid:"clearAll",disabled:0===n.length,onClick:this.clearAll,className:"footer-button"},this.props.json["DesktopSetting-000044"]),this.getExpiredCardButton(this.props.json["DesktopSetting-000011"],(function(){e.deleteTargetCards("haspower",!1)}))),f.default.createElement("div",{className:"footer-right button-app-wrapper"},f.default.createElement(A,{fieldid:"save",colors:"primary",onClick:function(){return e.saveGroupItemAndCard()},className:"footer-button"},this.props.json["DesktopSetting-000005"]),i?f.default.createElement(A,{onClick:this.cancleSave,fieldid:"cancel",className:"footer-button"},this.props.json["DesktopSetting-000009"]):f.default.createElement(A,{onClick:this.showCancelConfirm,fieldid:"cancel",className:"footer-button"},this.props.json["DesktopSetting-000009"])),f.default.createElement(k.default,{closable:!1,title:this.props.json["DesktopSetting-000014"],mask:!1,wrapClassName:"desk-setting-vertical-center-modal",visible:this.state.modalVisible,onOk:this.onOkMoveDialog,onCancel:this.showModalHidden},o))}}]),t}(c.Component);t.default=(0,m.connect)((function(e){return{groups:e.gridLayoutData.groups,initialGroups:e.gridLayoutData.initialGroups,json:e.gridLayoutData.json,editable:e.gridLayoutData.editable,updateHomePage:e.gridLayoutData.updateHomePage,appGroupMap:e.gridLayoutData.appGroupMap,defaultAppGroupData:e.gridLayoutData.defaultAppGroupData,saveExternalLinkData:e.gridLayoutData.saveExternalLinkData}}),{updateGroupList:v.updateGroupList,toggleEditStatus:v.toggleEditStatus,setAppGroupData:v.setAppGroupData,setSaveComplete:v.setSaveComplete,setUpdateLayout:v.setUpdateLayout,setExternalLinks:v.setExternalLinks})((0,x.withRouter)(L))},1245:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=E(n(26)),o=E(n(5)),r=E(n(8)),i=E(n(6)),s=E(n(7)),l=n(1),p=E(l),u=n(38),d=E(n(0)),c=n(85),f=n(433),g=E(n(32)),h=E(n(9)),m=E(n(68)),v=n(406),b=n(20),y=n(252),k=E(n(1246)),x=E(n(23)),w=E(n(437)),C=n(31),D=n(1085);function E(e){return e&&e.__esModule?e:{default:e}}var _=x.default.ajax,S=x.default.PubSub,A=function(e){function t(e){(0,o.default)(this,t);var n=(0,i.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.updateHomePage=function(e){(0,g.default)({url:"/nccloud/platform/appregister/queryworkbench.do",info:{name:(0,b.langCheck)("home-000000",!0,n.state.json),action:(0,b.langCheck)("home-000001",!0,n.state.json)},data:{relateid:"",isuser:"1"},loading:!0,success:function(t){var a=t.data,o=a.data,r=a.success;a.error;if(n.setState({showPage:!0}),r&&o&&o.length>0){if(0===o[0].groups.length)n.setState({showEmpty:!0},(function(){n.props.setEmpty(!0)}));else{n.setState({showEmpty:!1,noCloudCache:o[0].no_cloud_cache},(function(){n.props.setEmpty(!1)}));var i={};m.default.forEach(o[0].groups,(function(e){e.type="group",m.default.forEach(e.apps,(function(e){e.isShadow=!1,e.isChecked=!1,e.gridx=Number(e.gridx),e.gridy=Number(e.gridy),e.height=Number(e.height),e.width=Number(e.width),(0,D.checkApp)(e).isCompactApp&&(i[e.cardid]=e.children,e.children=[]),e.appparams&&!isNaN(e.appparams.refresh_time)&&(window.widgetRefreshTimeMap[e.appcode]=60*e.appparams.refresh_time)}))})),n.props.setDefaultAppGroupData(m.default.cloneDeep(i)),n.props.setAppGroupData(i)}n.setState({groups:o[0].groups}),n.props.updateGroupList(o[0].groups),n.props.initGroups(o[0].groups),n.props.setHelpHint(!!o[0].ishint),n.props.setRespWorkbench(o[0].isRespWorkbench)}else r&&o&&0===o.length?(n.setState({showEmpty:!0},(function(){n.props.setEmpty(!0)})),n.setState({groups:[]}),n.props.updateGroupList([])):n.setState({showEmpty:!0},(function(){n.props.setEmpty(!0)}));e&&e()}})},n.onScrollEvent=function(){if(document.getElementsByClassName("n-tabs")[0]){var e=document.getElementsByClassName("n-tabs")[0].getElementsByClassName("active")&&document.getElementsByClassName("n-tabs")[0].getElementsByClassName("active")[0],t=document.getElementsByClassName("tabs-page")[0].clientWidth||1e3;e&&e.offsetLeft&&(+e.offsetLeft>0&&+e.offsetLeft>=t?window.nextPageGroup&&window.nextPageGroup():+e.offsetLeft<0&&window.previousPageGroup&&window.previousPageGroup()),n.headerClassList=document.querySelector(".nccwb-header-info").classList,n.homeContentScroll.scrollTop>20?n.headerClassList.contains("header-shadow")||n.headerClassList.add("header-shadow"):n.headerClassList.contains("header-shadow")&&n.headerClassList.remove("header-shadow")}},n.handleChangeEditable=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.props.toggleEditStatus(!0),n.props.onEnterEditable(e),S.publish("onChangeDesktopEditable",!0),n.state.noCloudCache&&n.updateHomePage()},n.getIntellivAutoRefreshFlag=function(){null==(0,C.getStore)("intellivAutoRefresh")&&_({url:"/nccloud/platform/intellivautorefresh/switch.do",sysAppcode:10228888,async:!1,success:function(e){var t=e.data;e.success&&(0,C.setStore)("intellivAutoRefresh",t)}})},n.urlObj=(0,b.GetQuery)(n.props.location.search),n.defualtAppGroupMap={},n.state={layout:{margin:[10,10],containerPadding:[0,0],rowHeight:175,calWidth:175},groups:[],showEmpty:!1,json:{},loadable:!1,showDragModal:!1,showPage:!1,noCloudCache:!1},n}return(0,s.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e=this;console.log("%c workbench was built at: 2022/7/20 上午10:21:47 ","color:#03A9F4"),this.urlObj.editable||this.urlObj.pk_responsibility||this.updateHomePage();(0,y.getMulti)({moduleId:"home",domainName:"workbench",callback:function(t){(0,b.getWindow)().document.title=(0,b.langCheck)("home-title",!0,t),e.setState({json:t})}}),this.props.setUpdateHomePageFun(this.updateHomePage),void 0===window.widgetRefreshTimeMap&&(window.widgetRefreshTimeMap={}),this.getIntellivAutoRefreshFlag()}},{key:"componentWillUnmount",value:function(){this.headerClassList=null}},{key:"render",value:function(){var e=this,t=this.state.showEmpty,n=this.props,a=n.editable,o=n.groups,r="fixed"===((0,C.getStore)("nccCardlAndDesktop")||{}).desktopWidth;if(a){if(0===o.length)return p.default.createElement(k.default,this.props.emptyInfo)}else if(t)return p.default.createElement("div",{className:"nc-workbench-home-page"},p.default.createElement(k.default,{contentText:(0,b.langCheck)("home-000004",!0,this.state.json),btnText:(0,b.langCheck)("home-000005",!0,this.state.json),onBtnClick:function(){return e.handleChangeEditable(!0)}}));return p.default.createElement(f.TransitionIn,{in:this.state.showPage},p.default.createElement("div",{className:(0,h.default)("nc-workbench-home-page",{"fixed-width":r&&!a,editable:a}),ref:function(t){return e.homeContentScroll=t},onScrollCapture:function(){return e.onScrollEvent()}},o.length>0&&p.default.createElement("div",{fieldid:"top-info",className:(0,h.default)("nccwb-header-info",{editable:a}),style:"true"===this.urlObj.hideNav?{top:8}:{}},p.default.createElement(w.default,{key:"tabslink"+a,editable:a}),!a&&p.default.createElement("div",{className:"tabs-right"},p.default.createElement("div",{className:"tabs-right-item",onClick:function(){return e.handleChangeEditable()}},p.default.createElement("i",{className:"iconfont icon-zmbj"}),(0,b.langCheck)("home-000014",!0,this.state.json)))),p.default.createElement("div",{className:"nc-workbench-home-container",id:"ncWorkbenchHomePage"},this.props.allowPaint&&this.props.renderGroups())))}}]),t}(l.Component);A.propTypes={updateGroupList:d.default.func.isRequired,setUpdateHomePageFun:d.default.func.isRequired},t.default=(0,u.connect)((function(e){return{allowPaint:e.ifrData.allowPaint,groups:e.gridLayoutData.groups,editable:e.gridLayoutData.editable,margin:e.gridLayoutData.margin}}),{updateGroupList:v.updateGroupList,setUpdateHomePageFun:v.setUpdateHomePageFun,setEmpty:v.setEmpty,toggleEditStatus:v.toggleEditStatus,initGroups:v.initGroups,setAppGroupData:v.setAppGroupData,setHelpHint:v.setHelpHint,setDefaultAppGroupData:v.setDefaultAppGroupData,setRespWorkbench:v.setRespWorkbench})((0,c.withRouter)(A))},1246:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(1)),o=r(n(1247));function r(e){return e&&e.__esModule?e:{default:e}}var i=r(n(23)).default.base.NCButton;t.default=function(e){return a.default.createElement("div",{className:"nc-workbench-home-empty"},a.default.createElement("div",{className:"empty-container"},a.default.createElement("div",{className:"empty-img",style:{width:"260px",height:"120px",background:"url("+o.default+") no-repeat 0px 0px",backgroundSize:"contain"}}),a.default.createElement("div",{className:"empty-content"},e.contentText),a.default.createElement("div",{className:"empty-btn"},a.default.createElement(i,{className:"empty-button",fieldid:"addApp",onClick:e.onBtnClick},e.btnText))))}},1247:function(e,t,n){e.exports=n.p+"images/emptycontent.png"},1248:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=y(n(29)),o=y(n(97)),r=y(n(2)),i=y(n(118)),s=n(1),l=y(s),p=n(68),u=n(1249),d=n(38),c=y(n(9)),f=n(406),g=y(n(23)),h=n(1255),m=n(1256),v=n(1085),b=y(n(1257));function y(e){return e&&e.__esModule?e:{default:e}}var k=g.default.base.NCPopconfirm,x=g.default.PubSub,w=u.Responsive;t.default=(0,d.connect)((function(e){return{editable:e.gridLayoutData.editable,groups:e.gridLayoutData.groups,json:e.gridLayoutData.json,appGroupMap:e.gridLayoutData.appGroupMap,isUpdateLayout:e.gridLayoutData.isUpdateLayout,siderCollapsed:e.gridLayoutData.siderCollapsed}}),{setLayouts:f.setLayouts,setAppGroupData:f.setAppGroupData,setDroppedAppGroupItem:f.setDroppedAppGroupItem,setGroupDragable:f.setGroupDragable,updateGroupList:f.updateGroupList,setDraggingItems:f.setDraggingItems,setUpdateLayout:f.setUpdateLayout})((function(e){var t=e.apps,n=e.size,u=e.margin,d=e.col,f=e.editable,g=e.groupId,y=[4,f?10:2],C=(0,s.useRef)(),D=(0,s.useRef)().current,E=new m.GridLayoutAction({layouts:e.apps,groupIndex:e.groupIndex,setLayouts:e.setLayouts}),S=(0,h.generateLayout)(t,d).lg,A=(0,s.useState)(84),I=(0,i.default)(A,2),G=I[0],L=I[1],P=(0,s.useState)(!1),N=(0,i.default)(P,2),j=N[0],O=N[1],R=(0,s.useState)(!1),M=(0,i.default)(R,2),T=M[0],z=M[1],B=(0,s.useState)(!1),W=(0,i.default)(B,2),H=W[0],U=W[1],q=(0,s.useState)(!1),F=(0,i.default)(q,2),V=F[0],K=F[1],Y=(0,s.useState)(!1),Q=(0,i.default)(Y,2),X=Q[0],J=Q[1];(0,s.useEffect)((function(){De()}),[]),(0,s.useEffect)((function(){Ce(e.siderCollapsed)}),[e.siderCollapsed]),(0,s.useEffect)((function(){j&&O(!1)}),[j]);var Z=(0,s.useCallback)((function(){return Math.ceil((n.width-2*y[0]-u*(d-1))/d)}),[n.width]),$=function(e){if(f&&(0,v.checkApp)(e).isWidget&&!(0,v.checkApp)(e).isCompactApp)return l.default.createElement("div",{className:"widget-mask"})},ee=function(t,n){var a=function(){(0,v.checkApp)(t).isCompactApp&&e.setAppGroupData(t.cardid,null),re(n)};return l.default.createElement(b.default,{key:t.cardid,item:t,isChecked:t.isChecked,editable:f,isAddComplete:j,isScale:T,onDelete:a,onCheck:function(e){return te(e,n)},onAddWidgetComplete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e&&(O(!1),(0,v.checkApp)(t).isExternalLink&&e&&E.updateAppProperties(t.cardid,{data:{cardid:e.pk_group_app,pk_group_app:e.pk_group_app}}))},renderDeleteBtn:function(){if((0,v.checkApp)(t).isCompactApp){var n=e.appGroupMap[t.cardid];if(n&&n.length)return l.default.createElement(k,{content:e.json["DesktopSetting-000060"],onClose:a,placement:"top"},l.default.createElement("i",{className:"iconfont icon-shenpibohui opr-item",style:{marginRight:0}}))}}()})},te=function(e,n){var a=(0,p.cloneDeep)(t),o=a[n];o.isChecked=e,(0,v.checkApp)(o).isCompactApp&&ne(o.cardid,e),E.updateLayout(a)},ne=function(t,n){var a=e.appGroupMap[t].map((function(e){return e.isChecked=n,e}));e.setAppGroupData(t,a)},ae=function(n,a){var o=(0,v.calcDraggingItemsPos)(n,a);oe(o,a,t),setTimeout((function(){e.setDraggingItems(null)}))},oe=function(e,t,n){var a=(0,v.processGroupItems)(e,t,n);J(!0),E.updateLayout(a)},re=function(e){E.remove(e)},ie=function(t,n){var a=t.id,o=E.findById(a),r=function(){o.pk_app_group=n.id,o.gridx=0,o.gridy=99,e.onAddGroupItem(o,n.id),E.removeById(a)};we(o)?pe(t,n).then((function(t){if(de(n),t){var i=fe(n.id,t.id);(0,v.checkApp)(i).isCompactApp?ke(a,t.id):we(o)&&ve(i).then((function(t){se(n.id,i.cardid,t),e.setDroppedAppGroupItem(t.cardid,[i,o]),E.removeById(a)}))}else r()})):r()},se=function(t,n,a){var o=(0,p.cloneDeep)(e.groups);o=o.map((function(e){return e.pk_app_group===t&&(e.apps=e.apps.map((function(e){return e.cardid===n&&(e=a),e}))),e})),e.updateGroupList(o)},le=function(e){var t=document.querySelectorAll(".grid-layout-main"),n=[].concat((0,a.default)(t)).filter((function(e){return e.id!==g}));return ce(e,n)},pe=function(e,t){return new o.default((function(n,a){var o=ge(t);if(D=ce(e,o)){var r=fe(t.id,D.id);we(r)||(0,v.checkApp)(r).isCompactApp?n(D):a()}else n()}))},ue=function(e){xe(e).then((function(e){e?(de(e.parentNode),e&&e.classList.add("compose-hover")):me()}))},de=function(e){ge(e).forEach((function(e){return e.classList.remove("compose-hover")}))},ce=function(e,t){return(0,h.getAllCollisions)(t,e)[0]},fe=function(t,n){var a=e.groups.find((function(e){return e.pk_app_group===t}));if(a)return a.apps.find((function(e){return e.cardid===n}))},ge=function(e){return[].concat(e?(0,a.default)(e.childNodes):(0,a.default)(C.current.childNodes))},he=function(e){var t=ge();D=ce(e,t);var n=le(e);n?pe(e,n).then((function(e){if(e){var t=fe(n.id,e.id);ue(t)}else de(n)})):ue()},me=function(){de()},ve=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g,a=be(e.json["DesktopSetting-000061"],"isCompactApp");return new o.default((function(o){var r=(0,v.genRandomKey)(),i={appcode:v.PUB_WIDGET_APPCODES.commonUsedApp,cardid:r,width:v.COMPACT_APP_DEFAULT_SIZE.width,height:v.COMPACT_APP_DEFAULT_SIZE.height,name:a,pk_app_group:n,apptype:"2",isShadow:!1,isChecked:!1,children:[],parttype:"0",isNotRepeat:!0,gridx:t.gridx,gridy:t.gridy};e.setAppGroupData(r,[]),o(i)}))},be=function(t,n){var a=e.groups.map((function(e){return e.apps})),o=_.flatten(a).filter((function(e){return(0,v.checkApp)(e)[n]})),r=(0,v.genNameNum)({nameNation:t,data:o,condition:function(e,n){return e.name===""+t+n}});return 0===o.length?t:""+t+r},ye=function(t,n){var a=E.findById(t),o=E.findById(n);(0,v.checkApp)(o).isCompactApp?ke(t,n):(E.removeById(t),ve(o).then((function(t){E.updateAppProperties(o.cardid,{data:t,replace:!0}),e.setDroppedAppGroupItem(t.cardid,[o,a])})))},ke=function(t,n){var a=E.findById(t);e.setDroppedAppGroupItem(n,[a],(function(){E.removeById(t)}))},xe=function(e){return new o.default((function(t,n){if(D){var a=e||E.findById(D.id);we(a)||(0,v.checkApp)(a).isCompactApp?(!V&&(0,v.checkApp)(a).isCompactApp&&(K(!0),x.publish("onRemoveGridLayoutPlaceholder")),t(D)):n()}t()}))},we=function(e){return(0,v.checkApp)(e).isAppOrLink},Ce=function(e){var t=(0,v.getScale)().narrow;z(!e),L(e?84:84*t)},De=function(){void 0===window.workbenchGridItemSize&&(window.workbenchGridItemSize={width:Z(),height:84})},Ee=function(t){"function"==typeof e.onGridDragOver&&e.onGridDragOver(t)},_e=function(t){var n=le(t);if(n){var a=e.groups.find((function(e){return e.pk_app_group===n.id}));a&&Ee(a)}else Ee(e.groupItem)};return l.default.createElement("div",{className:"grid-layout-container grid"},l.default.createElement(w,{key:X?g+"-new":g,id:g,className:"grid-layout-main",width:n.width,layouts:S,breakpoints:{lg:1200},cols:{lg:d},isDraggable:f,isResizable:f,isDroppable:f&&e.isDroppable,rowHeight:G,removePlaceholder:V,margin:[u,u],containerPadding:y,innerRef:C,draggableHandle:".gird-item-content",draggableCancel:".nodrag",onLayoutChange:function(t,n){t.length&&(e.isUpdateLayout||H)&&(E.update(t),U(!1),J(!1),setTimeout((function(){e.isUpdateLayout&&e.setUpdateLayout(!1)}))),t.find((function(e){return"__dropping-elem__"===e.i}))&&Ee(e.groupItem)},onDrag:function(e,t,n,a,o,r){var i=E.findById(n.i);_e(r),we(i)&&he(r)},onDrop:function(t,n,a){var o=e.onDrop?e.onDrop(t,!0):[],s=(0,i.default)(o,2),l=s[0],p=s[1];if(0!==l.length&&n){var u=l.map((function(t,a){var o=(0,r.default)({},t,{pk_app_group:g});if((0,v.checkApp)(o).isCompactApp){var i=(0,v.genRandomKey)("1");o.cardid=i,o.name=be(e.json["DesktopSetting-000061"],"isCompactApp"),o.parttype="0",e.setAppGroupData(i,[])}return(0,v.checkApp)(o).isExternalLink&&(o=(0,v.createEmptyExternalLink)(o,{cardid:p?(0,v.genRandomKey)("2_new"):o.cardid,name:be(e.json["DesktopSetting-000064"],"isExternalLink")})),(0,r.default)({},o,{gridx:n.x+a,gridy:Math.max(n.y-1,0)})}));p&&O(!0),ae(u,n),U(!0),e.setGroupDragable(!0)}},onResizeStart:function(){e.setGroupDragable(!1)},onResize:function(e,t,n,a,r,i){var s=i.getBoundingClientRect(),l=document.querySelector("#ncWorkbenchHomeEditPage"),p=document.querySelector(".nc-workbench-home-footer").getBoundingClientRect();o.default.resolve().then((function(){var e=void 0;r.clientY>p.top?e=l.scrollTop+(s.bottom-p.top)+50:r.clientY<100&&(e=l.scrollTop-50),l.scrollTo({left:0,top:e,behavior:"smooth"})}))},onResizeStop:function(t,n,a,o,r,i){E.update(t,a),e.setGroupDragable(!0)},onDragStart:function(t,n,a,o,r,i){e.setGroupDragable(!1)},onDragStop:function(t,n,a,o,r,i){K(!1);var s=le(i);me(),E.update(t),s?ie(i,s):xe().then((function(e){e&&ye(a.i,e.id)})),e.setGroupDragable(!0),Ee(null)}},S.map((function(e,n){var a=t[n];return l.default.createElement("div",{key:a.cardid,className:(0,c.default)("gird-item-content",{editable:f}),"data-grid":e},ee(a,n),$(a))}))))}))},1249:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WidthProvider=t.Responsive=void 0;var a=i(n(1199)),o=i(n(1252)),r=i(n(1254));function i(e){return e&&e.__esModule?e:{default:e}}t.default=a.default,t.Responsive=o.default,t.WidthProvider=r.default},1250:function(e,t,n){"use strict";var a,o=n(69),r=(a=o)&&a.__esModule?a:{default:a};n(1055);var i=n(0),s=n(1191).default,l=(0,r.default)(s);function p(e){return[i.number,i.bool,i.string,i.func].includes(s[e])?"(a."+e+" === b."+e+")":"isEqualImpl(a."+e+", b."+e+")"}l.splice(l.indexOf("children"),1),e.exports=function(){return new Function("\n  function fastRGLPropsEqual(a, b, isEqualImpl) {\n    if (a === b) return true;\n    return (\n      "+l.map(p).join(" && ")+"\n    );\n  }\n  fastRGLPropsEqual;\n")}},1251:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o,r=y(n(2)),i=y(n(26)),s=y(n(5)),l=y(n(8)),p=y(n(6)),u=y(n(7)),d=y(n(1)),c=y(n(0)),f=n(185),g=n(1056),h=n(1094),m=n(1200),v=n(1191),b=y(n(9));function y(e){return e&&e.__esModule?e:{default:e}}var k=(o=a=function(e){function t(){var e,n,a,o;(0,s.default)(this,t);for(var r=arguments.length,l=Array(r),u=0;u<r;u++)l[u]=arguments[u];return n=a=(0,p.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(l))),a.state={resizing:null,dragging:null,className:""},a.elementRef=d.default.createRef(),a.onDragStart=function(e,t){var n=t.node,o=a.props,r=o.onDragStart,i=o.transformScale;if(r){var s={top:0,left:0},l=n.offsetParent;if(l){var p=l.getBoundingClientRect(),u=n.getBoundingClientRect(),d=u.left/i,c=p.left/i,f=u.top/i,g=p.top/i;s.left=d-c+l.scrollLeft,s.top=f-g+l.scrollTop,a.setState({dragging:s});var h=(0,m.calcXY)(a.getPositionParams(),s.top,s.left,a.props.w,a.props.h),v=h.x,b=h.y;return r.call(a,a.props.i,v,b,{e:e,node:n,newPosition:s})}}},a.onDrag=function(e,t){var n=t.node,o=t.deltaX,r=t.deltaY,i=a.props.onDrag;if(i){if(!a.state.dragging)throw new Error("onDrag called before onDragStart.");var s=a.state.dragging.top+r,l=a.state.dragging.left+o,p=a.props,u=p.isBounded,d=p.i,c=p.w,f=p.h,g=p.containerWidth,h=a.getPositionParams();if(u){var v=n.offsetParent;if(v){var b=a.props,y=b.margin,k=b.rowHeight,x=v.clientHeight-(0,m.calcGridItemWHPx)(f,k,y[1]);s=(0,m.clamp)(s,0,x);var w=(0,m.calcGridColWidth)(h),C=g-(0,m.calcGridItemWHPx)(c,w,y[0]);l=(0,m.clamp)(l,0,C)}}var D={top:s,left:l};a.setState({dragging:D});var E=(0,m.calcXY)(h,s,l,c,f),_=E.x,S=E.y;return i.call(a,d,_,S,{e:e,node:n,newPosition:D})}},a.onDragStop=function(e,t){var n=t.node,o=a.props.onDragStop;if(o){if(!a.state.dragging)throw new Error("onDragEnd called before onDragStart.");var r=a.props,i=r.w,s=r.h,l=r.i,p=a.state.dragging,u=p.left,d=p.top,c={top:d,left:u};a.setState({dragging:null});var f=(0,m.calcXY)(a.getPositionParams(),d,u,i,s),g=f.x,h=f.y;return o.call(a,l,g,h,{e:e,node:n,newPosition:c})}},a.onResizeStop=function(e,t){a.onResizeHandler(e,t,"onResizeStop")},a.onResizeStart=function(e,t){a.onResizeHandler(e,t,"onResizeStart")},a.onResize=function(e,t){a.onResizeHandler(e,t,"onResize")},o=n,(0,p.default)(a,o)}return(0,u.default)(t,e),(0,l.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){if(this.props.children!==e.children)return!0;if(this.props.droppingPosition!==e.droppingPosition)return!0;var n=(0,m.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),a=(0,m.calcGridItemPosition)(this.getPositionParams(e),e.x,e.y,e.w,e.h,t);return!(0,h.fastPositionEqual)(n,a)||this.props.useCSSTransforms!==e.useCSSTransforms}},{key:"componentDidMount",value:function(){this.moveDroppingItem({})}},{key:"componentDidUpdate",value:function(e){this.moveDroppingItem(e)}},{key:"moveDroppingItem",value:function(e){var t=this.props.droppingPosition;if(t){var n=this.elementRef.current;if(n){var a=e.droppingPosition||{left:0,top:0},o=this.state.dragging,r=o&&t.left!==a.left||t.top!==a.top;if(o){if(r){var i=t.left-o.left,s=t.top-o.top;this.onDrag(t.e,{node:n,deltaX:i,deltaY:s})}}else this.onDragStart(t.e,{node:n,deltaX:t.left,deltaY:t.top})}}}},{key:"getPositionParams",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return{cols:e.cols,containerPadding:e.containerPadding,containerWidth:e.containerWidth,margin:e.margin,maxRows:e.maxRows,rowHeight:e.rowHeight}}},{key:"createStyle",value:function(e){var t=this.props,n=t.usePercentages,a=t.containerWidth,o=void 0;return t.useCSSTransforms?o=(0,h.setTransform)(e):(o=(0,h.setTopLeft)(e),n&&(o.left=(0,h.perc)(e.left/a),o.width=(0,h.perc)(e.width/a))),o}},{key:"mixinDraggable",value:function(e,t){return d.default.createElement(f.DraggableCore,{disabled:!t,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale,nodeRef:this.elementRef},e)}},{key:"mixinResizable",value:function(e,t,n){var a=this.props,o=a.cols,r=a.x,i=a.minW,s=a.minH,l=a.maxW,p=a.maxH,u=a.transformScale,c=a.resizeHandles,f=a.resizeHandle,h=this.getPositionParams(),v=(0,m.calcGridItemPosition)(h,0,0,o-r,0).width,b=(0,m.calcGridItemPosition)(h,0,0,i,s),y=(0,m.calcGridItemPosition)(h,0,0,l,p),k=[b.width,b.height],x=[Math.min(y.width,v),Math.min(y.height,1/0)];return d.default.createElement(g.Resizable,{draggableOpts:{disabled:!n,nodeRef:this.elementRef},className:n?void 0:"react-resizable-hide",width:t.width,height:t.height,minConstraints:k,maxConstraints:x,onResizeStop:this.onResizeStop,onResizeStart:this.onResizeStart,onResize:this.onResize,transformScale:u,resizeHandles:c,handle:f},e)}},{key:"onResizeHandler",value:function(e,t,n){var a=t.node,o=t.size,r=this.props[n];if(r){var i=this.props,s=i.cols,l=i.x,p=i.y,u=i.i,d=i.maxH,c=i.minH,f=this.props,g=f.minW,h=f.maxW,v=(0,m.calcWH)(this.getPositionParams(),o.width,o.height,l,p),b=v.w,y=v.h;g=Math.max(g,1),h=Math.min(h,s-l),b=(0,m.clamp)(b,g,h),y=(0,m.clamp)(y,c,d),this.setState({resizing:"onResizeStop"===n?null:o}),r.call(this,u,b,y,{e:e,node:a,size:o})}}},{key:"render",value:function(){var e=this.props,t=e.x,n=e.y,a=e.w,o=e.h,i=e.isDraggable,s=e.isResizable,l=e.droppingPosition,p=e.useCSSTransforms,u=(0,m.calcGridItemPosition)(this.getPositionParams(),t,n,a,o,this.state),c=d.default.Children.only(this.props.children),f=d.default.cloneElement(c,{ref:this.elementRef,id:this.props.i,className:(0,b.default)("react-grid-item",c.props.className,this.props.className,{static:this.props.static,resizing:Boolean(this.state.resizing),"react-draggable":i,"react-draggable-dragging":Boolean(this.state.dragging),dropping:Boolean(l),cssTransforms:p}),style:(0,r.default)({},this.props.style,c.props.style,this.createStyle(u))});return f=this.mixinResizable(f,u,s),f=this.mixinDraggable(f,i)}}]),t}(d.default.Component),a.propTypes={children:c.default.element,cols:c.default.number.isRequired,containerWidth:c.default.number.isRequired,rowHeight:c.default.number.isRequired,margin:c.default.array.isRequired,maxRows:c.default.number.isRequired,containerPadding:c.default.array.isRequired,x:c.default.number.isRequired,y:c.default.number.isRequired,w:c.default.number.isRequired,h:c.default.number.isRequired,minW:function(e,t){var n=e[t];return"number"!=typeof n?new Error("minWidth not Number"):n>e.w||n>e.maxW?new Error("minWidth larger than item width/maxWidth"):void 0},maxW:function(e,t){var n=e[t];return"number"!=typeof n?new Error("maxWidth not Number"):n<e.w||n<e.minW?new Error("maxWidth smaller than item width/minWidth"):void 0},minH:function(e,t){var n=e[t];return"number"!=typeof n?new Error("minHeight not Number"):n>e.h||n>e.maxH?new Error("minHeight larger than item height/maxHeight"):void 0},maxH:function(e,t){var n=e[t];return"number"!=typeof n?new Error("maxHeight not Number"):n<e.h||n<e.minH?new Error("maxHeight smaller than item height/minHeight"):void 0},i:c.default.string.isRequired,resizeHandles:v.resizeHandlesType,resizeHandle:v.resizeHandleType,onDragStop:c.default.func,onDragStart:c.default.func,onDrag:c.default.func,onResizeStop:c.default.func,onResizeStart:c.default.func,onResize:c.default.func,isDraggable:c.default.bool.isRequired,isResizable:c.default.bool.isRequired,isBounded:c.default.bool.isRequired,static:c.default.bool,useCSSTransforms:c.default.bool.isRequired,transformScale:c.default.number,className:c.default.string,handle:c.default.string,cancel:c.default.string,droppingPosition:c.default.shape({e:c.default.object.isRequired,left:c.default.number.isRequired,top:c.default.number.isRequired})},a.defaultProps={className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1},o);t.default=k},1252:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o,r=k(n(69)),i=k(n(22)),s=k(n(3)),l=k(n(2)),p=k(n(26)),u=k(n(5)),d=k(n(8)),c=k(n(6)),f=k(n(7)),g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),h=k(n(0)),m=k(n(1041)),v=n(1094),b=n(1253),y=k(n(1199));function k(e){return e&&e.__esModule?e:{default:e}}var x=function(e){return Object.prototype.toString.call(e)};function w(e,t){return null==e?null:Array.isArray(e)?e:e[t]}var C=(o=a=function(e){function t(){var e,n,a,o;(0,u.default)(this,t);for(var r=arguments.length,i=Array(r),d=0;d<r;d++)i[d]=arguments[d];return n=a=(0,c.default)(this,(e=t.__proto__||(0,p.default)(t)).call.apply(e,[this].concat(i))),a.state=a.generateInitialState(),a.onLayoutChange=function(e){a.props.onLayoutChange(e,(0,l.default)({},a.props.layouts,(0,s.default)({},a.state.breakpoint,e)))},o=n,(0,c.default)(a,o)}return(0,f.default)(t,e),(0,d.default)(t,[{key:"generateInitialState",value:function(){var e=this.props,t=e.width,n=e.breakpoints,a=e.layouts,o=e.cols,r=(0,b.getBreakpointFromWidth)(n,t),i=(0,b.getColsFromBreakpoint)(r,o),s=!1===this.props.verticalCompact?null:this.props.compactType;return{layout:(0,b.findOrGenerateResponsiveLayout)(a,n,r,r,i,s),breakpoint:r,cols:i}}},{key:"componentDidUpdate",value:function(e){this.props.width==e.width&&this.props.breakpoint===e.breakpoint&&(0,m.default)(this.props.breakpoints,e.breakpoints)&&(0,m.default)(this.props.cols,e.cols)||this.onWidthChange(e)}},{key:"onWidthChange",value:function(e){var t=this.props,n=t.breakpoints,a=t.cols,o=t.layouts,r=t.compactType,i=this.props.breakpoint||(0,b.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),s=this.state.breakpoint,p=(0,b.getColsFromBreakpoint)(i,a),u=(0,l.default)({},o);if(s!==i||e.breakpoints!==n||e.cols!==a){s in u||(u[s]=(0,v.cloneLayout)(this.state.layout));var d=(0,b.findOrGenerateResponsiveLayout)(u,n,i,s,p,r);d=(0,v.synchronizeLayoutWithChildren)(d,this.props.children,p,r),u[i]=d,this.props.onLayoutChange(d,u),this.props.onBreakpointChange(i,p),this.setState({breakpoint:i,layout:d,cols:p})}var c=w(this.props.margin,i),f=w(this.props.containerPadding,i);this.props.onWidthChange(this.props.width,c,p,f)}},{key:"render",value:function(){var e=this.props,t=(e.breakpoint,e.breakpoints,e.cols,e.layouts,e.margin),n=e.containerPadding,a=(e.onBreakpointChange,e.onLayoutChange,e.onWidthChange,(0,i.default)(e,["breakpoint","breakpoints","cols","layouts","margin","containerPadding","onBreakpointChange","onLayoutChange","onWidthChange"]));return g.createElement(y.default,(0,l.default)({},a,{margin:w(t,this.state.breakpoint),containerPadding:w(n,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(!(0,m.default)(e.layouts,t.layouts)){var n=t.breakpoint,a=t.cols;return{layout:(0,b.findOrGenerateResponsiveLayout)(e.layouts,e.breakpoints,n,n,a,e.compactType),layouts:e.layouts}}return null}}]),t}(g.Component),a.propTypes={breakpoint:h.default.string,breakpoints:h.default.object,cols:h.default.object,margin:h.default.oneOfType([h.default.array,h.default.object]),containerPadding:h.default.oneOfType([h.default.array,h.default.object]),layouts:function(e,t){if("[object Object]"!==x(e[t]))throw new Error("Layout property must be an object. Received: "+x(e[t]));(0,r.default)(e[t]).forEach((function(t){if(!(t in e.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,v.validateLayout)(e.layouts[t],"layouts."+t)}))},width:h.default.number.isRequired,onBreakpointChange:h.default.func,onLayoutChange:h.default.func,onWidthChange:h.default.func},a.defaultProps={breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},layouts:{},margin:[10,10],onBreakpointChange:v.noop,onLayoutChange:v.noop,onWidthChange:v.noop},o);t.default=C},1253:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(69),r=(a=o)&&a.__esModule?a:{default:a};t.getBreakpointFromWidth=function(e,t){for(var n=s(e),a=n[0],o=1,r=n.length;o<r;o++){var i=n[o];t>e[i]&&(a=i)}return a},t.getColsFromBreakpoint=function(e,t){if(!t[e])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+e+" is missing!");return t[e]},t.findOrGenerateResponsiveLayout=function(e,t,n,a,o,r){if(e[n])return(0,i.cloneLayout)(e[n]);for(var l=e[a],p=s(t),u=p.slice(p.indexOf(n)),d=0,c=u.length;d<c;d++){var f=u[d];if(e[f]){l=e[f];break}}return l=(0,i.cloneLayout)(l||[]),(0,i.compact)((0,i.correctBounds)(l,{cols:o}),r,o)},t.sortBreakpoints=s;var i=n(1094);function s(e){return(0,r.default)(e).sort((function(t,n){return e[t]-e[n]}))}},1254:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=f(n(2)),o=f(n(22)),r=f(n(26)),i=f(n(5)),s=f(n(8)),l=f(n(6)),p=f(n(7));t.default=function(e){var t,n;return n=t=function(t){function n(){var e,t,a,o;(0,i.default)(this,n);for(var s=arguments.length,p=Array(s),d=0;d<s;d++)p[d]=arguments[d];return t=a=(0,l.default)(this,(e=n.__proto__||(0,r.default)(n)).call.apply(e,[this].concat(p))),a.state={width:1280},a.elementRef=u.createRef(),a.mounted=!1,a.onWindowResize=function(){if(a.mounted){var e=a.elementRef.current;e instanceof HTMLElement&&e.offsetWidth&&a.setState({width:e.offsetWidth})}},o=t,(0,l.default)(a,o)}return(0,p.default)(n,t),(0,s.default)(n,[{key:"componentDidMount",value:function(){this.mounted=!0,window.addEventListener("resize",this.onWindowResize),this.onWindowResize()}},{key:"componentWillUnmount",value:function(){this.mounted=!1,window.removeEventListener("resize",this.onWindowResize)}},{key:"render",value:function(){var t=this.props,n=t.measureBeforeMount,r=(0,o.default)(t,["measureBeforeMount"]);return n&&!this.mounted?u.createElement("div",{className:(0,c.default)(this.props.className,"react-grid-layout"),style:this.props.style,ref:this.elementRef}):u.createElement(e,(0,a.default)({innerRef:this.elementRef},r,this.state))}}]),n}(u.Component),t.defaultProps={measureBeforeMount:!1},t.propTypes={measureBeforeMount:d.default.bool},n};var u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),d=f(n(0)),c=f(n(9));function f(e){return e&&e.__esModule?e:{default:e}}},1255:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateLayout=function(e,t){return{lg:e.map((function(e,n){var o=function(e,t){var n=a.APP_DEFAULT_SIZE.width,o=t*n%e,r=Math.floor(t/(e/n))*n;return{x:o,y:r}}(t,n),r=o.x,i=o.y;return{x:void 0!==e.gridx?+e.gridx:r,y:void 0!==e.gridy?+e.gridy:i,w:+e.width,h:+e.height,i:e.cardid}}))}},t.collidesDom=o,t.getScaleRect=r,t.getAllCollisions=function(e,t){return e.filter((function(e){return t.id!==e.id&&o(e,t)}))};var a=n(1085);function o(e,t){var n=r(e,1),a=r(t,1);return!(n.left>a.right||n.top>a.bottom||n.right<a.left||n.bottom<a.top)}function r(e,t){var n=e.getBoundingClientRect(),a=n.width*(1-t)/2,o=n.height*(1-t)/2,r=n.x+a,i=n.y+o,s=n.width*t,l=n.height*t;return{x:r,y:i,width:s,height:l,top:i,left:r,right:r+s,bottom:i+l}}},1256:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GridLayoutAction=void 0;var a=s(n(2)),o=s(n(5)),r=s(n(8)),i=s(n(1201));function s(e){return e&&e.__esModule?e:{default:e}}t.GridLayoutAction=function(){function e(t){(0,o.default)(this,e),this.layouts=new i.default(t.layouts),this.groupIndex=t.groupIndex,this.setLayouts=t.setLayouts}return(0,r.default)(e,[{key:"add",value:function(e,t){var n=this.layouts.add(e);void 0!==t&&(n=this.layouts.insert(t,e)),this.updateLayout(n)}},{key:"remove",value:function(e){var t=this.layouts.remove(e);this.updateLayout(t)}},{key:"removeById",value:function(e){for(var t=this,n=Array.isArray(e)?e:[e],a=this.layouts.getArray(),o=function(e){var o=a.findIndex((function(t){return t.cardid===n[e]}));-1!==o&&(a=t.layouts.remove(o))},r=0;r<n.length;r++)o(r);this.updateLayout(a)}},{key:"updateLayout",value:function(e){this.setLayouts(this.groupIndex,e)}},{key:"update",value:function(e,t){var n=this.layouts.getArray();n=n.map((function(n){var o=e.find((function(e){return n.cardid===e.i}))||{};void 0!==t&&t.i===n.cardid&&(o=(0,a.default)({},t));var r={gridx:o.x,gridy:o.y,width:o.w,height:o.h};return(0,a.default)({},n,r)})),this.updateLayout(n)}},{key:"findById",value:function(e){return this.layouts.getArray().find((function(t){return t.cardid===e}))}},{key:"updateAppProperties",value:function(e,t){var n=t.data,o=t.replace,r=void 0!==o&&o,i=this.layouts.getArray(),s=i.findIndex((function(t){return t.cardid===e}));-1!==s&&(i[s]=r?n:(0,a.default)({},i[s],n)),this.updateLayout(i)}}]),e}()},1257:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=c(n(411)),o=c(n(2)),r=c(n(1)),i=c(n(9)),s=c(n(1185)),l=c(n(1260)),p=c(n(1266)),u=n(1192),d=n(1085);function c(e){return e&&e.__esModule?e:{default:e}}function f(e){var t=e.item;e.editable;return function(){var n=(0,d.getScale)(),u=n.zoom,c=n.narrow,f=e.isScale?{width:100*u+"%",height:100*u+"%",transform:"scale("+c+")"}:{},g=(0,o.default)({opacity:!1===t.haspower?.6:1},f);switch(Number(t.apptype)){case 1:return r.default.createElement(s.default,(0,o.default)({key:t.cardid,appData:t,style:g},e));case 2:return(0,a.default)(d.PUB_WIDGET_APPCODES).includes(t.appcode)?r.default.createElement("div",{className:(0,i.default)("grid-item",{scale:e.isScale}),style:g},r.default.createElement(p.default,(0,o.default)({key:t.cardid,appOption:t},e))):r.default.createElement(l.default,(0,o.default)({key:t.cardid,appOption:t,style:g},e))}}()}f=(0,u.useOprArea)((function(e){return(0,o.default)({isShow:e.editable},e)}),f),t.default=f},1258:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=d(n(2)),o=d(n(26)),r=d(n(5)),i=d(n(8)),s=d(n(6)),l=d(n(7));t.default=function(e,t){return function(n){function d(){var e,t,n,a;(0,r.default)(this,d);for(var i=arguments.length,l=Array(i),f=0;f<i;f++)l[f]=arguments[f];return t=n=(0,s.default)(this,(e=d.__proto__||(0,o.default)(d)).call.apply(e,[this].concat(l))),n.state={customArea:null},n.renderOperateArea=function(e){var t=e.isChecked,a=e.onCheck,o=e.onDelete,r=e.isScale;return p.default.createElement("div",{className:(0,u.default)("opr-area nodrag",{scale:r})},n.state.customArea,p.default.createElement(c,{className:"opr-item",checked:t,onChange:a}),e.renderDeleteBtn||p.default.createElement("i",{className:"iconfont icon-shenpibohui opr-item",onClick:o,style:{marginRight:0}}))},n.renderCustomArea=function(e){n.setState({customArea:e})},a=t,(0,s.default)(n,a)}return(0,l.default)(d,n),(0,i.default)(d,[{key:"render",value:function(){var n=e(this.props);return n.isShow?p.default.createElement(p.default.Fragment,null,p.default.createElement(t,(0,a.default)({renderEditCustomArea:this.renderCustomArea},this.props)),this.renderOperateArea(n)):p.default.createElement(t,this.props)}}]),d}(p.default.Component)};var p=d(n(1)),u=d(n(9));function d(e){return e&&e.__esModule?e:{default:e}}var c=d(n(23)).default.base.NCCheckbox},1259:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=d(n(2)),o=d(n(26)),r=d(n(5)),i=d(n(8)),s=d(n(6)),l=d(n(7));t.default=function(e){return function(t){return function(n){function d(){var e,t,n,a;(0,r.default)(this,d);for(var i=arguments.length,l=Array(i),c=0;c<i;c++)l[c]=arguments[c];return t=n=(0,s.default)(this,(e=d.__proto__||(0,o.default)(d)).call.apply(e,[this].concat(l))),n.renderArea=function(e){var t=e.appData,n=!!t.fastlaunchparam;return n?p.default.createElement(u.QuickAddIcon,{visible:n,appData:t,icon:"icon-xinzengyemian",containerClassName:"quick-launch-area"}):null},a=t,(0,s.default)(n,a)}return(0,l.default)(d,n),(0,i.default)(d,[{key:"render",value:function(){var n=e(this.props);return n.isShow?p.default.createElement(p.default.Fragment,null,p.default.createElement(t,(0,a.default)({renderEditCustomArea:this.renderCustomArea},this.props)),this.renderArea(n)):p.default.createElement(t,this.props)}}]),d}(p.default.Component)}};var p=d(n(1)),u=n(261);function d(e){return e&&e.__esModule?e:{default:e}}},1260:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(n(1)),o=l(n(9)),r=l(n(1261)),i=l(n(1262)),s=l(n(1263));function l(e){return e&&e.__esModule?e:{default:e}}var p=function(e){var t=e.cardid,n=e.name,o=e.target_path,i=e.pk_app_group,l=e.appcode,p=o&&o.split("?")[0],u={name:n,groupId:i,cardId:t,src:o,appcode:l,width:e.width,height:e.height};return new RegExp(/js$/).test(p)?a.default.createElement(s.default,u):a.default.createElement(r.default,u)};t.default=function(e){var t=e.appOption,n=e.style,r=e.isScale,s=t.cardid,l=t.ownlicense_load,u=t.license_check_msg,d=t.uselicense_load,c=l?p(t):a.default.createElement(i.default,{msg:u});return d||(c=p(t)),a.default.createElement("div",{className:(0,o.default)("grid-item",{scale:r}),key:s,style:n},c)}},1261:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=u(n(26)),o=u(n(5)),r=u(n(8)),i=u(n(6)),s=u(n(7)),l=n(1),p=u(l);function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){(0,o.default)(this,t);var n=(0,i.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.createWidgetDom=function(){var e=n.props,t=e.name,a=e.cardId,o=e.groupId,r=e.src,i=e.appcode,s=e.width,l=e.height,p=document.createElement("iframe"),u=r+"?appcode="+i+(void 0!==s&&void 0!==l?"&widgetWidth="+s+"&widgetHeight="+l:"");p.setAttribute("fieldid",t+"_app-item"),p.setAttribute("cid",a),p.style.width="100%",p.style.height="100%",p.frameBorder="0",p.scrolling="no",document.getElementById(o+"_"+a).appendChild(p);var d=p.contentWindow.document;d.open().write("<body onload=\"window.location.href='"+u+"';\">"),d.close()},n}return(0,s.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.cardId,n=e.groupId;document.getElementById(n+"_"+t).hasChildNodes()||this.createWidgetDom()}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.cardId,n=e.groupId;document.getElementById(n+"_"+t).hasChildNodes()||this.createWidgetDom()}},{key:"render",value:function(){var e=this.props,t=e.cardId,n=e.groupId;return p.default.createElement("div",{style:{width:"100%",height:"100%",overflow:"hidden"},id:n+"_"+t,className:"app-item"})}}]),t}(l.PureComponent);t.default=d},1262:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.msg,n=t&&t.split(";"),a=n&&n[1]&&n[1].length>0?React.createElement("div",{className:"msg_content"},React.createElement("p",null,n[1]),React.createElement("p",null,n[2])):null;return React.createElement("div",{className:"license-msg"},React.createElement("div",{className:"license-msg_container"},React.createElement("i",{className:"iconfont icon-zhuyi1"}),React.createElement("div",{className:"license-msg_content"},React.createElement("div",{className:"msg_title"},n&&n[0]),a)))}},1263:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=f(n(26)),o=f(n(5)),r=f(n(8)),i=f(n(6)),s=f(n(7)),l=n(1),p=n(38),u=f(n(1264)),d=f(n(181)),c=f(n(1265));function f(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(e){(0,o.default)(this,t);var n=(0,i.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.state={widget:null},n}return(0,s.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e=this;(0,u.default)(this.props.src,(function(t){e.setState({widget:window[t].default})}))}},{key:"render",value:function(){var e=this.state.widget,t=this.props,n=t.appcode,a=t.width,o=t.height,r=this.props.themeColor||window.nccColor,i="function"==typeof e?React.createElement(e,{appcode:n,widgetWidth:a,widgetHeight:o,themeColor:r}):React.createElement(d.default,{style:{width:"100%",height:"100%"}}),s=this.props,l=s.cardId,p=s.groupId,u=s.name;return React.createElement(c.default,null,React.createElement("div",{style:{overflow:"auto"},id:p+"_"+l,className:"app-item",fieldid:u+"_app-item"},i))}}]),t}(l.PureComponent);t.default=(0,p.connect)((function(e){return{themeColor:e.appData.themeColor}}))(g)},1264:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n=e.match(/resources(\S*).js/)[1];if(!n)return!1;if(n=n.substr(1),window[n])t(n);else{var a=document.createElement("script");a.src=e,a.type="text/javascript",document.body.appendChild(a),a.onload=function(){return t(n)},a.onerror=a.onerror}}},1265:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=p(n(26)),o=p(n(5)),r=p(n(8)),i=p(n(6)),s=p(n(7)),l=p(n(1));function p(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){var e,n,r,s;(0,o.default)(this,t);for(var l=arguments.length,p=Array(l),u=0;u<l;u++)p[u]=arguments[u];return n=r=(0,i.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(p))),r.state={error:!1},s=n,(0,i.default)(r,s)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){return this.state.error?l.default.createElement("div",null,this.state.error.toString()):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}}]),t}(l.default.Component);t.default=u},1266:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=u(n(3)),o=u(n(2)),r=u(n(1)),i=u(n(1267)),s=u(n(1193)),l=u(n(1280)),p=n(1085);function u(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t,n=e.appOption;return(t={},(0,a.default)(t,p.PUB_WIDGET_APPCODES.noviceGuide,r.default.createElement(i.default,null)),(0,a.default)(t,p.PUB_WIDGET_APPCODES.commonUsedApp,r.default.createElement(l.default,(0,o.default)({key:n.cardid,id:n.cardid},e))),(0,a.default)(t,p.PUB_WIDGET_APPCODES.externalLinks,r.default.createElement(s.default,(0,o.default)({defaultName:n.name,id:n.cardid},e))),t)[n.appcode]}},1267:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=h(n(26)),o=h(n(5)),r=h(n(8)),i=h(n(6)),s=h(n(7)),l=n(1),p=h(l),u=h(n(1076));n(1058);var d=n(10),c=h(n(1268)),f=h(n(1269)),g=n(20);function h(e){return e&&e.__esModule?e:{default:e}}n(263),n(1270);var m=function(e){function t(e){(0,o.default)(this,t);var n=(0,i.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.endedDureation=function(e){e.target.duration>45&&n.setState({showText:!0,showPlayIcon:!1}),n.removeButtonTitle()},n.pauseDureation=function(e){e.target.paused&&n.setState({showPlayIcon:!0,showText:!1}),n.removeButtonTitle()},n.playDureation=function(){n.setState({showText:!1,showPlayIcon:!1}),n.removeButtonTitle()},n.fullscreenChange=function(){n.removeButtonTitle()},n.volumeChange=function(){n.removeButtonTitle()},n.removeButtonTitle=function(){setTimeout((function(){var e=document.querySelector(".novice-guide-video-box .vjs-play-control"),t=document.querySelector(".novice-guide-video-box .vjs-mute-control"),n=document.querySelector(".novice-guide-video-box .vjs-fullscreen-control");e.removeAttribute("title"),t.removeAttribute("title"),n.removeAttribute("title")}),100)},n.videoPlay=function(){var e=window.document;n.node=e.createElement("div"),e.body.appendChild(n.node),n.setState({showVideo:!0},(function(){n.handlePlayVideo()}))},n.handlePlayVideo=function(){var e=n.refVideo.current,t=n;(0,u.default)(e,n.videoJsOptions,(function(){this.on("fullscreenchange",t.fullscreenChange),e.addEventListener("ended",t.endedDureation),e.addEventListener("pause",t.pauseDureation),e.addEventListener("play",t.playDureation),e.addEventListener("fullscreenchange",t.fullscreenChange),e.addEventListener("volumechange",t.volumeChange),e.play()}))},n.handleCloseVideo=function(){var e=n.refVideo.current;e.removeEventListener("ended",n.endedDureation),e.removeEventListener("pause",n.pauseDureation),e.removeEventListener("play",n.playDureation),e.removeEventListener("fullscreenchange",n.fullscreenChange),e.removeEventListener("volumechange",n.volumeChange),window.document.body.removeChild(n.node),n.setState({showVideo:!1})},n.refVideo=p.default.createRef(),n.videoJsOptions={language:"zh-CN",controls:!0,preload:"auto",errorDisplay:!0,fluid:!1,userActions:{hotkeys:!0}},n.state={showVideo:!1,showPlayIcon:!1},n}return(0,s.default)(t,e),(0,r.default)(t,[{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this.state,t=e.showVideo,n=e.showText,a=e.showPlayIcon;window.nccColor;return p.default.createElement(p.default.Fragment,null,p.default.createElement("div",{fieldid:"novice_guide",className:"novice-guide-box"},p.default.createElement("span",{className:"title"},(0,g.langCheck)("0000PUB-000440")),p.default.createElement("img",{className:"novide-guide-img",src:c.default,alt:""}),p.default.createElement("div",{className:"novice-content",onClick:g.startIntro},p.default.createElement("div",{className:"novice-box-left"},p.default.createElement("i",{class:"icon iconfont icon-yindao"}),p.default.createElement("span",null,(0,g.langCheck)("0000PUB-000438"))),p.default.createElement("i",{class:"icon iconfont icon-jiantouyou"})),p.default.createElement("div",{className:"novice-content",onClick:this.videoPlay},p.default.createElement("div",{className:"novice-box-left"},p.default.createElement("i",{class:"icon iconfont icon-peizhi"}),p.default.createElement("span",null,(0,g.langCheck)("0000PUB-000439"))),p.default.createElement("i",{class:"icon iconfont icon-jiantouyou"}))),t&&(0,d.createPortal)(p.default.createElement("div",{className:"novice-guide-video-box"},p.default.createElement("div",{"data-vjs-player":!0},p.default.createElement("video",{ref:this.refVideo,controlsList:"nodownload",className:"video-js",disablePictureInPicture:!0},p.default.createElement("source",{src:"/nccloud/resources/workbench-help.mp4",type:"video/mp4"})),!n&&p.default.createElement("img",{className:"video-close",src:f.default,alt:"",onClick:this.handleCloseVideo}),n&&p.default.createElement("div",{className:"look-again-bg"},p.default.createElement("div",{className:"btn play-box",onClick:this.handlePlayVideo},p.default.createElement("i",{className:"icon iconfont icon-zhongbo"}),p.default.createElement("p",null,(0,g.langCheck)("0000PUB-000471"))),p.default.createElement("div",{className:"btn close-box",onClick:this.handleCloseVideo},p.default.createElement("i",{className:"icon iconfont icon-guanbi1"}),p.default.createElement("p",null,(0,g.langCheck)("0000PUB-000472")))),a&&p.default.createElement("i",{className:"icon iconfont icon-kaishi1",onClick:this.handlePlayVideo}))),this.node))}}]),t}(l.Component);t.default=m},1268:function(e,t,n){e.exports=n.p+"images/novideGuide.png"},1269:function(e,t,n){e.exports=n.p+"images/video-close.png"},1270:function(e,t,n){var a=n(1271);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(17)(a,o);a.locals&&(e.exports=a.locals)},1271:function(e,t,n){(e.exports=n(16)(!1)).push([e.i,".novice-guide-box{width:100%;height:100%;overflow:auto;display:flex;flex-direction:column;background:#fff;border-radius:8px}.novice-guide-box .title{padding:16px;line-height:20px;color:#2b2c42;font-size:14px}.novice-guide-box .novide-guide-img{width:63px;height:40px;margin:10px 0 -8px 28px;z-index:1}.novice-guide-box .novice-content{display:flex;align-items:center;justify-content:space-between;margin:0 14px;max-width:618px;min-height:42px;height:23%;max-height:120px;cursor:pointer}.novice-guide-box .novice-content:first-of-type{border-radius:6px 6px 0 0;background-color:#f6f9ff}.novice-guide-box .novice-content:last-of-type{background-color:#f1f4fc;border-radius:0 0 6px 6px}.novice-guide-box .novice-content .novice-box-left{margin-left:10px;display:flex;align-items:center}.novice-guide-box .novice-content .novice-box-left .icon-peizhi,.novice-guide-box .novice-content .novice-box-left .icon-yindao{font-size:16px;margin-right:10px;min-width:15px}.novice-guide-box .novice-content .icon-jiantouyou{margin-right:10px;color:#a6aeb9;font-size:20px}.novice-guide-video-box{width:100%;height:100%;position:fixed;background-color:#ccc;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);z-index:100}.novice-guide-video-box video{width:100%;height:100%;position:relative}.novice-guide-video-box .video-close{position:absolute;right:15px;top:20px;cursor:pointer;width:40px;height:40px}.novice-guide-video-box .look-again-bg{width:100%;height:100%;position:absolute;left:0;top:0;background:rgba(0,0,0,.65)}.novice-guide-video-box .look-again-bg .btn{width:112px;height:36px;display:flex;align-items:center;justify-content:center;position:absolute;top:50%;left:50%;margin-top:-19px;background:hsla(0,0%,100%,.3);cursor:pointer;border-radius:3px}.novice-guide-video-box .look-again-bg .btn .iconfont{font-size:12px}.novice-guide-video-box .look-again-bg .btn p{font-size:14px;margin-left:8px;line-height:20px;font-weight:600;color:#fff}.novice-guide-video-box .look-again-bg .play-box{margin-left:-122px}.novice-guide-video-box .look-again-bg .close-box{margin-left:10px}.novice-guide-video-box .icon-kaishi1{position:absolute;left:50%;top:45%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);font-size:50px!important;color:#333;cursor:pointer;z-index:1}.vjs-big-play-button{display:none!important}.video-js{width:100%;height:100%}.video-js .vjs-tech{position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.video-js .vjs-current-time{display:block!important;padding:0!important}.video-js .vjs-time-control{display:block!important}.video-js .vjs-duration{display:block!important;padding:0!important}.video-js .vjs-picture-in-picture-control{display:none!important}",""])},1272:function(e,t,n){e.exports=n.p+"images/externallinkicon1.svg"},1273:function(e,t,n){e.exports=n.p+"images/externallinkicon2.svg"},1274:function(e,t,n){e.exports=n.p+"images/externallinkicon3.svg"},1275:function(e,t,n){e.exports=n.p+"images/externallinkicon4.svg"},1276:function(e,t,n){e.exports=n.p+"images/externallinkicon5.svg"},1277:function(e,t,n){e.exports=n.p+"images/externalLinkBg.png"},1278:function(e,t,n){var a=n(1279);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(17)(a,o);a.locals&&(e.exports=a.locals)},1279:function(e,t,n){(e.exports=n(16)(!1)).push([e.i,'.external-modal .external-link-box{white-space:nowrap}.external-modal .external-link-box .ipt-box{margin:14px 33px 20px;display:flex;align-items:center}.external-modal .external-link-box .ipt-box:nth-last-child(2){margin-top:0}.external-modal .external-link-box .ipt-box .title{display:inline-block;text-align:right;min-width:45px}.external-modal .external-link-box .ipt-box .title:before{content:"* ";color:red}.external-modal .external-link-box .ipt-box .base-form-control-wrapper{flex:1;margin-left:10px}.external-modal .external-link-box .icon-list-box{margin:0 33px 4px;display:flex}.external-modal .external-link-box .icon-list-box .title{display:block;text-align:right;min-width:45px;height:100%}.external-modal .external-link-box .icon-list-box .icon-list-box-right{margin-left:10px;flex:1;display:flex;align-items:center;justify-content:space-between}.external-modal .external-link-box .icon-list-box .icon-list-box-right .icon-item{width:36px;height:36px;display:flex;align-items:center;justify-content:center;cursor:pointer;position:relative;border-radius:3px}.external-modal .external-link-box .icon-list-box .icon-list-box-right .icon-item:hover{background-color:#f5f7fe}.external-modal .external-link-box .icon-list-box .icon-list-box-right .icon-item:focus-visible{outline:none}.external-modal .external-link-box .icon-list-box .icon-list-box-right .icon-item .external-img{width:32px;height:32px}.external-modal .external-link-box .icon-list-box .icon-list-box-right .icon-item .select-icon{width:16px;position:absolute;right:-1px;top:-1px}.external-modal .external-link-box .icon-list-box .icon-list-box-right .isSelect{border:1px solid #ff2121}.external-content-box{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;border-radius:8px;position:relative;overflow:auto;cursor:pointer}.external-content-box .title-box1{width:100%;display:flex;align-items:center;justify-content:space-between;padding:16px}.external-content-box .external-bg{position:absolute;width:105px;height:121px;right:0;bottom:0}.external-content-box .title-box2{width:100%;display:flex;padding:16px;align-items:center;justify-content:space-between}.external-content-box .app-name{color:#2b2c42;font-size:14px}.external-content-box .external-img{width:40px;height:40px;border-radius:3px;position:absolute;right:16px;bottom:14px}',""])},1280:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=C(n(2)),r=C(n(26)),i=C(n(5)),s=C(n(8)),l=C(n(6)),p=C(n(7)),u=C(n(1)),d=n(1037),c=n(38),f=n(1045),g=n(406),h=C(n(59)),m=C(n(1281)),v=C(n(1286)),b=C(n(1287)),y=n(1085),k=C(n(1288)),x=n(68),w=C(n(9));function C(e){return e&&e.__esModule?e:{default:e}}var D=C(n(23)).default.PubSub,E={canDrop:function(e,t){var n=t.getItem();return e.id!==n.appGroupId},drop:function(e,t,n){var a=!0,o=t.getItem(),r=t.isOver({shallow:!0});if(!t.didDrop()){if(r)n.dragFromLeftComplete(o),a=n.addApps({from:o.type,data:o.cardList}).length>0,D.publish("onRemoveGridLayoutPlaceholder");return{type:y.DragTypes.APP_GROUP,moved:a,appGroupId:e.id}}}},_=(0,d.DropTarget)([y.DragTypes.APP_GROUP_ITEM,y.DragTypes.SIDE_CARD],E,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),isOverCurrent:t.isOver({shallow:!0}),canDrop:t.canDrop()}}))(a=function(e){function t(e){(0,i.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.deleteAppGroupItem=function(e){var t=n.props,a=t.id,o=t.draggingAppGroupItem,r=e.data;e.from===y.DragTypes.APP_GROUP_ITEM&&a===o.appGroupId&&r.length&&n.appGroupAction.remove(o.index)},n.validateRepeatItems=function(e){var t=e.filter((function(e){return(0,y.checkApp)(e).isApp||(0,y.checkApp)(e).isExternalLink})),a=n.props,o=a.json,r=a.appGroupMap,i=a.id,s=a.item,l=r[i],p=(0,y.getRepeatItems)(l,t,"appcode");if(p.filter((function(e){return!e.isNotRepeat&&!(0,y.checkApp)(e).isExternalLink})).length){var u=(0,y.getUniqueItems)(l,t,"appcode"),d=p.map((function(e){return e.name}));return(0,h.default)({status:"warning",msg:"“"+s.name+"”"+o["DesktopSetting-000057"]+d.join(",")+","+o["DesktopSetting-000058"]}),u}return t},n.addApps=function(e,t,a){var r=n.validateRepeatItems(e.data);return r=r.map((function(t){return(0,y.checkApp)(t).isExternalLink&&e.from===y.DragTypes.SIDE_CARD&&(t=(0,y.createEmptyExternalLink)(t,{name:n.genExlinkName()})),(0,o.default)({},t,y.APP_DEFAULT_SIZE)})),n.appGroupAction.add(r,t),a&&r.length&&a(),r},n.updateApps=function(e){n.appGroupAction.updateCurrentAppGroup(e),n.props.editable||D.publish("saveDesktopOutside")},n.handleAddGroupApp=function(){n.toggleAddModalShow(!0)},n.toggleAddModalShow=function(e){var t=n.state.isShowAddModal;t="boolean"==typeof e?e:!t,n.setState({isShowAddModal:t}),(0,y.setGridDroppable)(!t)},n.handleCheckboxChange=function(e,t){n.appGroupAction.check(e,t),t||n.updateGroupAppPropertyData("isChecked",!1)},n.handleRemoveItem=function(e,t){e.stopPropagation(),n.appGroupAction.remove(t)},n.handleNameChange=function(e,t){t?n.props.setGroupDragable(!1):(n.updateGroupAppPropertyData("name",e),n.props.setGroupDragable(!0))},n.updateGroupAppPropertyData=function(e,t){var a=(0,x.cloneDeep)(n.props.groups),r=(0,y.findDataByCompactApp)(a,n.props.id),i=r.group,s=r.groupIndex,l=r.appIndex;i.apps[l]&&("string"==typeof e?i.apps[l][e]=t:i.apps[l]=(0,o.default)({},i.apps[l],e)),a[s]=i,n.props.updateGroupList(a)},n.genExlinkName=function(){var e=n.props,t=e.appGroupMap,a=e.id,o=e.json["DesktopSetting-000064"],r=(0,y.genNameNum)({nameNation:o,data:t[a],condition:function(e,t){return e.name===""+o+t}});return""+o+r},n.dragFromLeftComplete=function(e){e.type===y.DragTypes.SIDE_CARD&&n.setState({dropCompleteFlag:!0}),n.props.setGroupDragable(!0)},n.clearDragCompleteFlag=function(){n.setState({dropCompleteFlag:!1})},n.handleAddWidgetComplete=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t&&(n.setState({dropCompleteFlag:!1}),(0,y.checkApp)(e).isExternalLink&&t&&n.appGroupAction.updateAppProperties(e.cardid,{cardid:t.pk_group_app,pk_group_app:t.pk_group_app}))},n.genAppGroupData=function(e){var t=n.props,a=t.appGroupMap,o=t.id,r=t.siderCollapsed,i=a[o],s=(0,x.cloneDeep)(i)||[],l=98,p=n.contentRef&&n.contentRef.querySelector(".app-group-item");if(!r&&p&&(l=p.getBoundingClientRect().width),e&&e.width){var u=e.width-32,d=Math.max(Math.floor(u/l),1),c=d*Math.ceil(s.length/d);if(c!==s.length){var f=new Array(c-s.length).fill(null);s=s.concat(f)}}return s},n.renderCustomArea=function(){n.props.renderEditCustomArea&&n.props.renderEditCustomArea(n.renderAddBtn())},n.renderTitle=function(){var e=n.props,t=e.editable,a=e.item;return u.default.createElement("div",{className:"app-group-header"},t?u.default.createElement(b.default,{className:"nodrag",maxlength:50,defaultValue:a.name,style:{height:22},emptyPopContent:n.props.json["DesktopSetting-000078"],onChangeEdit:n.handleNameChange}):[a.name,n.renderAddBtn()])},n.renderApps=function(e){var t=n.props.id,a={width:98},o=n.genAppGroupData(e)||[];return u.default.createElement("div",{ref:function(e){return n.contentRef=e},className:"app-group-item-content",style:{padding:"0 16px"}},o.map((function(e,o){return null!==e?u.default.createElement("div",{className:(0,w.default)("app-group-item nodrag",{unauthorized:!1===e.haspower}),title:"null"===e.name?null:e.name,style:a},u.default.createElement(v.default,{key:e.cardid,item:e,appGroupId:t,index:o,isChecked:e.isChecked,editable:n.props.editable,openApp:n.props.openApp,appGroupAction:n.appGroupAction,addApps:n.addApps,validateRepeatItems:n.validateRepeatItems,isAddComplete:n.state.dropCompleteFlag,dropCompleteFlag:n.state.dropCompleteFlag,dragFromLeftComplete:n.dragFromLeftComplete,onCheck:function(e){return n.handleCheckboxChange(o,e)},onDelete:function(e){return n.handleRemoveItem(e,o)},onAddWidgetComplete:n.handleAddWidgetComplete.bind(n,e)})):u.default.createElement("div",{className:"empty-app-group-item",style:a})})))},n.renderAddBtn=function(){return u.default.createElement("span",{className:"icon-wrap",onClick:n.handleAddGroupApp},u.default.createElement("i",{className:"iconfont icon-ncc-sq"}))},n.getHoverStyle=function(){var e=n.props,t=e.isOver,a=e.draggingItems,o=a.from,r=a.data;if(t){if(o===y.DragTypes.SIDE_CARD){var i=r.every((function(e){return(0,y.checkApp)(e).isWidget})),s=r.some((function(e){return(0,y.checkApp)(e).isExternalLink}));if(i&&!s)return{backgroundColor:"#f0f0f0"}}return{border:"1px solid red"}}},n.appGroupAction=new k.default({appGroupMap:e.appGroupMap,id:e.id,updateAppGroup:e.setAppGroupData}),n.state={isShowAddModal:!1,siderCollapsing:!1},n}return(0,p.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.dropPubsub=D.subscribe("onGridLayoutDropEnd",(function(t,n){e.deleteAppGroupItem(n.draggingItems)})),this.cachePubsub=D.subscribe("updateAppGroupCache",(function(t,n){e.appGroupAction.updateCurrentAppGroup(e.props.appGroupMap[e.props.id])})),this.collapsedPubsub=D.subscribe("onToggleSider",(function(t,n){n.collapsed;e.setState({siderCollapsing:!0}),setTimeout((function(){e.setState({siderCollapsing:!1})}),400)})),this.props.editable&&this.renderCustomArea()}},{key:"componentDidUpdate",value:function(e){!e.isOver&&this.props.isOver&&((0,y.setGridDroppable)(!1),D.publish("onRemoveGridLayoutPlaceholder")),e.isOver&&!this.props.isOver&&(0,y.setGridDroppable)(!0),e.isOverCurrent&&this.props.isOverCurrent}},{key:"componentWillReceiveProps",value:function(e){var t=e.appGroupMap,n=e.droppedAppGroupItem,a=e.id;n.id&&n.id===a&&(this.addApps({from:"group",data:n.data},void 0,n.callback),this.props.setDroppedAppGroupItem(null)),e.editable&&this.renderCustomArea(),e.appGroupMap.updateAll&&(this.appGroupAction.updateCurrentAppGroup(t[a]),this.props.setAppGroupData((0,o.default)({},t,{updateAll:!1})))}},{key:"componentWillUnmount",value:function(){D.unsubscribe(this.dropPubsub),D.unsubscribe(this.cachePubsub),D.unsubscribe(this.collapsedPubsub)}},{key:"render",value:function(){var e=this,t=this.props,n=t.connectDropTarget,a=t.appGroupMap,o=t.id,r=this.getHoverStyle();return n(u.default.createElement("div",{className:"app-group-content",style:r},this.renderTitle(),u.default.createElement("div",{className:"app-group-item-content-wrapper"},u.default.createElement(f.SizeMe,null,(function(t){var n=t.size;return u.default.createElement("div",{className:"app-group-item-container",style:{height:"100%",overflow:e.state.siderCollapsing?"hidden":"auto"}},e.renderApps(n))}))),this.state.isShowAddModal&&u.default.createElement(m.default,{json:this.props.json,title:this.props.item.name,defaultData:a[o],onOk:this.updateApps,onCancel:this.toggleAddModalShow})))}}]),t}(u.default.Component))||a;t.default=(0,c.connect)((function(e){return{appGroupMap:e.gridLayoutData.appGroupMap,draggingAppGroupItem:e.gridLayoutData.draggingAppGroupItem,json:e.gridLayoutData.json,droppedAppGroupItem:e.gridLayoutData.droppedAppGroupItem,groups:e.gridLayoutData.groups,isUpdateAppGroupCache:e.gridLayoutData.isUpdateAppGroupCache,draggingItems:e.gridLayoutData.draggingItems,siderCollapsed:e.gridLayoutData.siderCollapsed}}),{setAppGroupData:g.setAppGroupData,setDroppedAppGroupItem:g.setDroppedAppGroupItem,updateGroupList:g.updateGroupList,setGroupDragable:g.setGroupDragable})(_)},1281:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=D(n(2)),o=D(n(29)),r=D(n(26)),i=D(n(5)),s=D(n(8)),l=D(n(6)),p=D(n(7)),u=n(1),d=D(u),c=n(38),f=D(n(403)),g=n(68),h=D(n(1282)),m=D(n(59)),v=D(n(1284)),b=D(n(23)),y=D(n(1093)),k=n(20),x=D(n(1202)),w=n(406),C=n(1085);function D(e){return e&&e.__esModule?e:{default:e}}var E=b.default.base.NCButton,_=function(e){function t(e){(0,i.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.handleOk=function(){n.props.onOk(n.state.cardList),n.props.onCancel()},n.myFooter=function(e){var t=e.OkBtn,a=e.CancelBtn;return d.default.createElement(u.Fragment,null,t,d.default.createElement(E,{key:"submit",onClick:function(){return n.setState({showExternalLinks:!0})},fieldid:"externalLink"},(0,k.langCheck)("0000PUB-000387")),a)},n.addCardList=function(e,t){var a,r=(0,g.cloneDeep)(n.state.cardList),i=(0,g.cloneDeep)(e),s=n.props,l=s.json,p=s.title,u=(0,C.getRepeatItems)(r,e,"cardid"),d=u.map((function(e){return e.appcode}));if(u.length){var c="";u.forEach((function(e){c+=e.name+","})),i=e.filter((function(e){return!d.includes(e.appcode)})),(0,m.default)({status:"warning",msg:"“"+p+"”"+l["DesktopSetting-000057"]+c+l["DesktopSetting-000058"]})}void 0!==t?(a=r).splice.apply(a,[t,0].concat((0,o.default)(i))):r=r.concat(i);n.setState({cardList:r})},n.setList=function(e){n.setState({cardList:e})},n.arrayUnique=function(e){if(e){for(var t=[],n={},a=0;a<e.length;a++)n[e[a].cardid]||(t.push(e[a]),n[e[a].cardid]=!0);return t}},n.handleExternalOk=function(e){var t=(0,a.default)({},e,{parttype:"1"});n.addCardList([t]),n.props.setExternalLinks(t)},n.state={cardList:[],showExternalLinks:!1},n}return(0,p.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.defaultData;e&&this.setState({cardList:e})}},{key:"render",value:function(){var e=this,t=this.state,n=t.cardList,a=t.showExternalLinks,o=this.props,r=o.title,i=o.json;return d.default.createElement(d.default.Fragment,null,d.default.createElement(f.default,{maskClosable:!1,destroyOnClose:!0,title:r,width:1e3,height:547,wrapClassName:"compact-app-modal",className:"app-drag-modal",visible:!0,footer:this.myFooter,onOk:this.handleOk,onCancel:this.props.onCancel},d.default.createElement("div",{className:"compact-app-container"},d.default.createElement(h.default,{json:i,cardList:n}),d.default.createElement(v.default,{addCardList:this.addCardList,cardList:n,json:i,setList:this.setList}))),a&&d.default.createElement(x.default,{onOk:this.handleExternalOk,setShowAddLink:function(){e.setState({showExternalLinks:!1})}}))}}]),t}(d.default.Component);_=(0,c.connect)((function(e){return{}}),{setExternalLinks:w.setExternalLinks})(_),t.default=(0,y.default)(_)},1282:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=y(n(2)),o=y(n(26)),r=y(n(5)),i=y(n(8)),s=y(n(6)),l=y(n(7)),p=n(1),u=y(p),d=y(n(59)),c=n(20),f=n(85),g=y(n(32)),h=y(n(1283)),m=y(n(1198)),v=y(n(68)),b=n(1085);function y(e){return e&&e.__esModule?e:{default:e}}var k=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.onSearch=function(e){if(""!==e){var t=(0,a.default)({search_content:e,apptype:"1"},n.responsibilityParams);(0,g.default)({url:"/nccloud/platform/appregister/searchmenuitem.do",info:{name:n.props.json["DesktopSetting-000004"],action:n.props.json["DesktopSetting-000029"]},data:t,loading:!0,success:function(e){var t=e.data,a=t.data,o=t.success;o&&a&&a.children&&a.children.length?(a.children.forEach((function(e){e.checked=!1})),n.setState({appGroupArr:[a],isAllShow:!0})):a&&a.children&&0===a.children.length?n.setState({appGroupArr:[],isAllShow:!0}):(0,d.default)({status:"error",msg:a})}})}},n.cascadeOnChange=function(e,t){var o=e;if(!o||0!==o.length||1!==o.length){var r=(0,a.default)({own_module:o[e.length-1],apptype:"1"},n.responsibilityParams);if(t&&t.length){var i=t[e.length-1];r=(0,a.default)({},r,{is_cloud_app:i.is_cloud_app})}var s=n.props.location&&n.props.location.search;r=(0,a.default)({},r,(0,b.getQueryCloud)(s)),(0,g.default)({url:"/nccloud/platform/appregister/queryapplazy.do",info:{name:n.props.json["DesktopSetting-000004"],action:n.props.json["DesktopSetting-000030"]},data:r,success:function(t){var a=t.data,o=a.data,r=a.success;r&&o&&o.length?n.setState({appGroupArr:o,isAllShow:!0,domainModuleSelect:e}):o&&0===o.length?n.setState({appGroupArr:[],isAllShow:!0,domainModuleSelect:e}):(0,d.default)({status:"error",msg:o})}})}},n.getDomainArr=function(){var e=n.responsibilityParams,t=n.props.location&&n.props.location.search;e=(0,a.default)({},e,(0,b.getQueryCloud)(t)),(0,g.default)({url:"/nccloud/platform/appregister/queryapplazy.do",info:{name:n.props.json["DesktopSetting-000004"],action:n.props.json["DesktopSetting-000027"]},data:e,loading:!0,success:function(e){if(e){var t=e.data,a=t.data,o=t.success;if(o&&a&&a.length){var r=[a[0].value,a[0].children[0].value];n.cascadeOnChange(r),n.setState({domainArr:a,domainModuleSelect:r})}else 0===a.length?(0,d.default)({status:"warning",msg:n.props.json["DesktopSetting-000028"]}):(0,d.default)({status:"error",msg:a})}}})},n.resetSelectedCards=function(){var e=v.default.cloneDeep(n.state.appGroupArr);e.forEach((function(e){e.children.forEach((function(t){t.checked&&(t.checked=!1),e.checkedAll=!1,e.indeterminate=!1}))})),n.setState({appGroupArr:e})},n.onCheckChange=function(e,t){var a=e.target.checked,o=n.state.appGroupArr,r=o[t];r.checkedAll=a,r.indeterminate=!1,r.children.forEach((function(e){e.checked=a})),(0,b.getCardList)(o),n.setState({appGroupArr:o})},n.onChangeChecked=function(e,t,a){var o=v.default.cloneDeep(n.state.appGroupArr),r=o[t];r.children[a].checked=e;var i=0;r.children.forEach((function(e){e.checked&&i++})),r.checkedAll=i===r.children.length,r.indeterminate=i<r.children.length,n.setState({appGroupArr:o})},n.handleCheckAllChange=function(e){n.setState({appGroupArr:e})},n.handleGroupShow=function(e,t){var a=v.default.cloneDeep(n.state.appGroupArr);a[e]&&(a[e].isShow=t,n.setState({appGroupArr:a}))},n.renderSideCard=function(e,t,a){return u.default.createElement(h.default,{key:e.value,id:e.value,width:e.width,height:e.height,index:t,parentIndex:a,name:e.label,appGroupArr:n.state.appGroupArr,onChangeChecked:n.onChangeChecked,checked:e.checked,resetSelectedCards:n.resetSelectedCards,cardList:n.props.cardList})},n.urlRequestObj=(0,c.GetQuery)(n.props.location.search),n.relateidObj=(0,b.getRelateidObj)(n.urlRequestObj.pk_responsibility,n.urlRequestObj.is_group),n.responsibilityParams=(0,b.getResponParams)(n.relateidObj,n.props.location.search),n.state={domainArr:[]},n}return(0,l.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){this.getDomainArr()}},{key:"render",value:function(){var e=this.state,t=e.appGroupArr,n=e.domainArr,a=e.domainModuleSelect;return u.default.createElement("div",{className:"box-l"},u.default.createElement(m.default,{json:this.props.json,contentData:t,defaultCascaderValue:a,cascaderOptions:n,onSearch:this.onSearch,onCascaderChange:this.cascadeOnChange,onCheckAllChange:this.handleCheckAllChange,onChangeChecked:this.onCheckChange,onGroupShowChange:this.handleGroupShow,resetSelectedCards:this.resetSelectedCards,renderSideCard:this.renderSideCard}))}}]),t}(p.Component);t.default=(0,f.withRouter)(k)},1283:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=f(n(26)),o=f(n(5)),r=f(n(8)),i=f(n(6)),s=f(n(7)),l=n(1),p=f(l),u=n(38),d=n(1037),c=n(1085);function f(e){return e&&e.__esModule?e:{default:e}}var g={beginDrag:function(e,t,n){return{type:"cardList",cardList:(0,c.getCardList)(e.appGroupArr,e.id)}},endDrag:function(e,t,n){t.didDrop()&&e.resetSelectedCards()}};var h=function(e){function t(){var e,n,r,s;(0,o.default)(this,t);for(var l=arguments.length,u=Array(l),d=0;d<l;d++)u[d]=arguments[d];return n=r=(0,i.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(u))),r.clickSideCard=function(){var e=r.props,t=e.index,n=e.parentIndex,a=e.checked;(0,e.onChangeChecked)(!a,n,t)},r.cardTitleIsChecked=function(e){return e?{border:"black"==window.nccColor?"1px dashed #0153CC":"1px dashed #d4d4d4"}:"black"==window.nccColor?{border:"1px solid transparent"}:null},r.cardIconIsChecked=function(){var e=r.props,t=e.json;return e.checked?p.default.createElement("i",{title:t["DesktopSetting-000039"],className:"iconfont icon-peizhi_tianjia iconlocation",style:{color:"#0153CC"}}):p.default.createElement("i",{title:t["DesktopSetting-000040"],className:"iconfont icon-peizhi_tianjia iconlocation unSelect"})},r.getCardName=function(e){var t=r.props.searchValue;if(e.includes(t)){var n=e.indexOf(t),a=e.substr(0,n),o=e.substr(n+t.length);return p.default.createElement("span",null,a,p.default.createElement("span",{style:{color:"#f50"}},t),o)}return e},s=n,(0,i.default)(r,s)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.checked,a=e.connectDragSource,o=e.cardList,r=e.id,i=this.getCardName(t),s=(0,c.hasCheckedCardInAppGroup)(o,r);return a(p.default.createElement("div",{className:"list-item-content",onClick:this.clickSideCard,style:this.cardTitleIsChecked(n)},p.default.createElement("div",{className:n?"title titleChecked":"title"},p.default.createElement("span",{className:"title-name",style:s?{color:"#007ace"}:{}},i)),this.cardIconIsChecked()))}}]),t}(l.Component),m=(0,d.DragSource)("item",g,(function(e,t){return{connectDragSource:e.dragSource()}}))(h);t.default=(0,u.connect)((function(e){return{json:e.gridLayoutData.json}}))(m)},1284:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=h(n(51)),r=h(n(26)),i=h(n(5)),s=h(n(8)),l=h(n(6)),p=h(n(7)),u=n(1),d=h(u),c=n(1037),f=n(68),g=h(n(1285));function h(e){return e&&e.__esModule?e:{default:e}}var m=(0,c.DropTarget)("item",{drop:function(e,t,n){var a=t.getItem();t.isOver({shallow:!0})&&"cardList"===a.type&&e.addCardList(a.cardList)}},(function(e,t){return{connectDropTarget:e.dropTarget()}}))(a=function(e){function t(){var e,n,a,s;(0,i.default)(this,t);for(var p=arguments.length,u=Array(p),c=0;c<p;c++)u[c]=arguments[c];return n=a=(0,l.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(u))),a.deleteSelf=function(e){var t=a.props.cardList,n=JSON.parse((0,o.default)(t));n.splice(e,1),a.props.setList(n)},a.moveItem=function(e,t){var n=(0,f.cloneDeep)(a.props.cardList),o=n[e];n.splice(e,1),n.splice(t,0,o),a.props.setList(n)},a.renderItem=function(e,t){return d.default.createElement("div",{className:"card-item "+(!1===e.haspower?"unauthorized":"")},d.default.createElement(g.default,{key:e.cardid,item:e,index:t,moveItem:a.moveItem,addCardList:a.props.addCardList}),d.default.createElement("div",{className:"opr-area"},d.default.createElement("i",{className:"iconfont icon-qingkong card-delete",onClick:function(){a.deleteSelf(t)}})))},a.initGroupItem=function(e){return e.map(a.renderItem)},s=n,(0,l.default)(a,s)}return(0,p.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props,t=e.connectDropTarget,n=e.cardList;return t(d.default.createElement("div",{className:"box-r"},0===n.length?d.default.createElement("div",{className:"empty-content"},this.props.json["DesktopSetting-000063"]):d.default.createElement("div",{className:"card-item-content"},this.initGroupItem(n))))}}]),t}(u.Component))||a;t.default=m},1285:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=f(n(26)),o=f(n(5)),r=f(n(8)),i=f(n(6)),s=f(n(7)),l=f(n(1)),p=n(1037),u=f(n(1193)),d=n(1185),c=n(1085);function f(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props,t=e.item,n=e.isDragging,a=e.isOver,o=n?{opacity:0}:{};return(0,e.connectDragSource)((0,e.connectDropTarget)(l.default.createElement("div",{style:o},(0,c.checkApp)(t).isExternalLink?l.default.createElement(u.default,{isDefaultStyle:!1,id:t.cardid,editable:!0}):l.default.createElement(l.default.Fragment,null,l.default.createElement("div",{className:"app-icon-container"},l.default.createElement("div",{className:"app-icon-content"},l.default.createElement(d.AppForIcon,{src:t.image_src}))),l.default.createElement("div",{className:"app-name"},t.name)),a&&l.default.createElement("div",{className:"app-item-placeholder"}))))}}]),t}(l.default.Component);g=(0,p.DragSource)("compactapp",{beginDrag:function(e,t,n){var a=e.item;return{id:a.cardid,index:e.index,cardList:[a]}}},(function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(g),g=(0,p.DropTarget)(["compactapp","item"],{drop:function(e,t,n){var a=t.getItem(),o=a.index,r=e.index;if("cardList"===a.type)e.addCardList(a.cardList,r);else{if(o===r)return;e.moveItem(o,r)}}},(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),isOverCurrent:t.isOver({shallow:!0}),canDrop:t.canDrop()}}))(g),t.default=g},1286:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=b(n(2)),o=b(n(51)),r=b(n(26)),i=b(n(5)),s=b(n(8)),l=b(n(6)),p=b(n(7)),u=b(n(1)),d=n(1037),c=n(38),f=n(406),g=n(1085),h=n(1192),m=n(1185),v=b(n(1193));function b(e){return e&&e.__esModule?e:{default:e}}var y=b(n(23)).default.PubSub,k={beginDrag:function(e,t,n){var a=e.item,o={type:g.DragTypes.APP_GROUP_ITEM,id:a.cardid,appGroupId:e.appGroupId,index:e.index,cardList:[a]};return(0,g.setGridDroppable)(!1),a.appcode&&e.setDraggingItems({from:g.DragTypes.APP_GROUP_ITEM,data:[a]}),e.setDraggingAppGroupItem(o),o},canDrag:function(e){return e.editable},endDrag:function(e,t,n){if(t.didDrop()){(0,g.setGridDroppable)(!0);var a=t.getItem(),o=t.getDropResult();o.moved&&o.appGroupId!==a.appGroupId&&e.appGroupAction.remove(a.index)}}},x={canDrop:function(e,t){var n=t.getItem();return!(n.appGroupId===e.appGroupId&&n.index===e.index)},drop:function(e,t,n){var a=e.appGroupAction,o=!0,r=t.getItem();r.appGroupId===e.appGroupId?a.move(r.index,e.index):(e.dragFromLeftComplete(r),o=e.addApps({from:r.type,data:r.cardList},e.index).length>0);return y.publish("onRemoveGridLayoutPlaceholder"),{type:g.DragTypes.APP_GROUP_ITEM,moved:o,appGroupId:e.appGroupId}}},w=function(e){function t(){var e,n,s,p;(0,i.default)(this,t);for(var d=arguments.length,c=Array(d),f=0;f<d;f++)c[f]=arguments[f];return n=s=(0,l.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(c))),s.state={dropCompleteFlag:!1},s.handleItemClick=s.props.editable?function(){}:function(){var e=JSON.parse((0,o.default)(s.props.item));e.code&&(e.menuitemcode=e.code),window.openNew(e)},s.handleAddWidgetComplete=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=s.props.item;e&&(s.setState(!1),(0,g.checkApp)(t).isExternalLink&&e&&s.props.appGroupAction.updateAppProperties(t.cardid,{cardid:e.pk_group_app,pk_group_app:e.pk_group_app}))},s.renderItem=function(){var e=s.props,t=e.editable,n=e.item;return(0,g.checkApp)(n).isExternalLink?u.default.createElement(v.default,(0,a.default)({defaultName:n.name,isDefaultStyle:!1,editable:t,id:n.cardid,isAddComplete:s.props.dropCompleteFlag,onAddWidgetComplete:s.handleAddWidgetComplete},s.props)):u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{className:"app-icon-container"},u.default.createElement("div",{className:"app-icon-content"},u.default.createElement(m.AppForIcon,{src:n.image_src}))),u.default.createElement("div",{className:"app-name"},n.name))},p=n,(0,l.default)(s,p)}return(0,p.default)(t,e),(0,s.default)(t,[{key:"componentWillReceiveProps",value:function(e){e.dropCompleteFlag&&this.setState({dropCompleteFlag:!0})}},{key:"render",value:function(){var e=this.props,t=e.item;return(0,e.connectDragSource)((0,e.connectDropTarget)(u.default.createElement("div",{className:this.props.isDragging?"dragging":"",onClick:(0,g.checkApp)(t).isExternalLink?function(){}:this.handleItemClick},this.props.isOver&&u.default.createElement("div",{className:"app-item-placeholder"}),this.renderItem())))}}]),t}(u.default.Component);w=(0,d.DragSource)(g.DragTypes.APP_GROUP_ITEM,k,(function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(w),w=(0,d.DropTarget)([g.DragTypes.APP_GROUP_ITEM,g.DragTypes.SIDE_CARD],x,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),isOverCurrent:t.isOver({shallow:!0}),canDrop:t.canDrop()}}))(w),w=(0,h.useOprArea)((function(e){return(0,a.default)({isShow:e.editable},e)}),w),w=(0,h.withQuickLaunchArea)((function(e){return{isShow:!e.editable,appData:e.item}}))(w),t.default=(0,c.connect)((function(e){return{}}),{setDraggingItems:f.setDraggingItems,setDraggingAppGroupItem:f.setDraggingAppGroupItem})(w)},1287:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=p(n(119)),o=p(n(2)),r=p(n(118));t.default=function(e){var t=e.defaultValue,n=e.onChangeEdit,p=e.onChange,d=(0,i.useState)(!1),c=(0,r.default)(d,2),f=c[0],g=c[1],h=(0,i.useState)(t),m=(0,r.default)(h,2),v=m[0],b=m[1],y=(0,i.useState)(""),k=(0,r.default)(y,2),x=k[0],w=k[1],C=(0,i.useRef)();(0,i.useEffect)((function(){b(t)}),[t]),(0,i.useEffect)((function(){f&&(C.current.focus(),C.current&&C.current.input&&C.current.input.select())}),[f]);var D=function(e){""!==v&&(g(e),n&&n(v,e))},E=function(t){var n=t.target.value;b(n),w(""===n?e.emptyPopContent:""),p&&p(n)};return f?(_=s.default.createElement("div",{fieldid:"groupName"},s.default.createElement(a.default,(0,o.default)({ref:C,size:"small",draggable:!1,value:v,onPressEnter:function(){return D(!1)},onBlur:function(){return D(!1)},onChange:E},e))),s.default.createElement(u,{placement:"bottomLeft",overlay:x},_)):s.default.createElement("div",{className:(0,l.default)("name-edit-content",e.className),onClick:function(){return D(!0)}},s.default.createElement("span",{className:"name-edit-name"},v),s.default.createElement("i",{className:"iconfont icon-bianji",style:{fontSize:16}}));var _},n(178);var i=n(1),s=p(i),l=p(n(9));function p(e){return e&&e.__esModule?e:{default:e}}var u=p(n(23)).default.base.NCTooltip},1288:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=l(n(2)),o=l(n(51)),r=l(n(5)),i=l(n(8)),s=l(n(1201));function l(e){return e&&e.__esModule?e:{default:e}}var p=function(){function e(t){(0,r.default)(this,e);var n=t.appGroupMap,a=t.id,o=t.updateAppGroup;this.key=a,this.appGroups=new s.default(n[a]),this.updateAppGroup=o}return(0,i.default)(e,[{key:"add",value:function(e,t){var n=this.appGroups.add(e);void 0!==t&&(n=this.appGroups.insert(t,e)),this.updateCurrentAppGroup(n)}},{key:"remove",value:function(e){var t=this.appGroups.remove(e);this.updateCurrentAppGroup(t)}},{key:"removeByKey",value:function(e,t){var n=this.appGroups.getArray();n=n.filter((function(n){return n[e]!==t})),this.updateCurrentAppGroup(JSON.parse((0,o.default)(n)))}},{key:"move",value:function(e,t){var n=this.appGroups.move(e,t);this.updateCurrentAppGroup(n)}},{key:"check",value:function(e,t){var n=this.appGroups.getArray();n[e]&&(n[e].isChecked=t),this.updateCurrentAppGroup(n)}},{key:"updateCurrentAppGroup",value:function(e){this.appGroups.update(e),this.updateAppGroup(this.key,e)}},{key:"updateAppProperties",value:function(e,t){var n=this.appGroups.getArray(),o=n.findIndex((function(t){return t.cardid===e}));-1!==o&&(n[o]=(0,a.default)({},n[o],t)),this.updateCurrentAppGroup(n)}}]),e}();t.default=p},1289:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=f(n(26)),o=f(n(5)),r=f(n(8)),i=f(n(6)),s=f(n(7)),l=n(1),p=f(l),u=n(1037),d=f(n(1290)),c=n(1085);function f(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(e){(0,o.default)(this,t);var n=(0,i.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.getItemStyles=function(){var e=n.props.clientOffset;if(!e)return{display:"none"};var t="translate("+e.x+"px, "+e.y+"px)";return{transform:t,WebkitTransform:t}},n.state={layerStyle:{display:"none"}},n}return(0,s.default)(t,e),(0,r.default)(t,[{key:"renderItem",value:function(e,t){switch(e){case c.DragTypes.SIDE_CARD:return t.cardList?p.default.createElement(d.default,{item:t.cardList[0],cardListLength:t.cardList.length}):null;default:return null}}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.requestedFrame)}},{key:"getMyItemStyles",value:function(){requestAnimationFrame(this.getItemStyles)}},{key:"shouldComponentUpdate",value:function(e,t){this.props,this.state;return!(!this.props.item||"cardlist"!==this.props.item.type||this.props.isDragging===e.isDragging)||!!(this.props.item&&"cardlist"===this.props.item.type&&this.props.currentOffset!==e.currentOffset&&e.currentOffset&&Math.pow(Math.pow(this.props.clientOffset.x-e.clientOffset.x,2)+Math.pow(this.props.clientOffset.y-e.clientOffset.y,2),.5)>1.5)}},{key:"render",value:function(){var e=this.props,t=e.item,n=e.itemType;return e.isDragging&&"cardlist"===t.type?navigator.userAgent.indexOf("MSIE")>-1||navigator.userAgent.indexOf("Trident")>-1||navigator.userAgent.indexOf("Edge")>-1?null:p.default.createElement("div",{className:"desk-setting-layer grid"},p.default.createElement("div",{style:this.getItemStyles()},this.renderItem(n,t))):null}}]),t}(l.Component);g=(0,u.DragLayer)((function(e){return{item:e.getItem(),itemType:e.getItemType(),currentOffset:e.getSourceClientOffset(),clientOffset:e.getClientOffset(),isDragging:e.isDragging()}}))(g),t.default=g},1290:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=f(n(2)),o=f(n(26)),r=f(n(5)),i=f(n(8)),s=f(n(6)),l=f(n(7)),p=n(1),u=f(p),d=f(n(9)),c=f(n(1185));f(n(1205));function f(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(e){(0,r.default)(this,t);var i=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return i.renderDragPreview=function(e,t,n){var o=i.props,r=o.item,s=o.cardListLength,l="1"===r.apptype?(0,a.default)({left:5*t+"px",top:5*t+"px"},window.workbenchGridItemSize):{left:5*t+"px",top:5*t+"px"},p=!n&&u.default.createElement(u.default.Fragment,null,1!==s&&u.default.createElement("span",{className:"layer-card-span"},"＋",s),i.renderDragPreviewItem(r));return u.default.createElement("div",{key:e,className:(0,d.default)("layer-card",{bcBlack:window.nccColor&&"black"===window.nccColor,scale:"1"===r.apptype}),style:l},p)},i.renderDragPreviewItem=function(e){if("1"===e.apptype)return u.default.createElement(c.default,{key:e.cardid,appData:e,isPreview:!0});if("2"===e.apptype){var t=e.image_src||"/othericon",a="";try{a=n(1291)("./widgetimg"+t+"Preview.png")}catch(e){a=n(1206)}return u.default.createElement("div",{className:"widget-preview"},u.default.createElement("div",{className:"widget-preview-name"},e.name),u.default.createElement("div",{className:"widget-preview-content",style:{backgroundImage:"url("+a+")"}}))}},i}return(0,l.default)(t,e),(0,i.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.cardListLength!==e.cardListLength}},{key:"render",value:function(){for(var e=this.props,t=e.cardListLength,n=(e.item,[]),a=0;a<t;a++)if(a===t-1){var o=a>=3?3:a,r=this.renderDragPreview(a,o);n.push(r)}else if(a<3){var i=this.renderDragPreview(a,a,!0);n.push(i)}return u.default.createElement("div",{className:"desk-setting-layer-card-list"},n)}}]),t}(p.Component);t.default=g},1291:function(e,t,n){var a={"./widgetimg/appsPreview.png":1292,"./widgetimg/calendarPreview.png":1293,"./widgetimg/chart01Preview.png":1205,"./widgetimg/chart02Preview.png":1294,"./widgetimg/chart03Preview.png":1295,"./widgetimg/chart04Preview.png":1296,"./widgetimg/chart05Preview.png":1297,"./widgetimg/guidePreview.png":1298,"./widgetimg/linkPreview.png":1299,"./widgetimg/messagePreview.png":1300,"./widgetimg/othericonPreview.png":1206};function o(e){var t=r(e);return n(t)}function r(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}o.keys=function(){return Object.keys(a)},o.resolve=r,e.exports=o,o.id=1291},1292:function(e,t,n){e.exports=n.p+"images/appsPreview.png"},1293:function(e,t,n){e.exports=n.p+"images/calendarPreview.png"},1294:function(e,t,n){e.exports=n.p+"images/chart02Preview.png"},1295:function(e,t,n){e.exports=n.p+"images/chart03Preview.png"},1296:function(e,t,n){e.exports=n.p+"images/chart04Preview.png"},1297:function(e,t,n){e.exports=n.p+"images/chart05Preview.png"},1298:function(e,t,n){e.exports=n.p+"images/guidePreview.png"},1299:function(e,t,n){e.exports=n.p+"images/linkPreview.png"},1300:function(e,t,n){e.exports=n.p+"images/messagePreview.png"}}]);
//# sourceMappingURL=NewHome.7db8fc94.js.map
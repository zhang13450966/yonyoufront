{"version":3,"file":"hpf/hpfc/m0z10301/card/index.e84c7e2b.js","mappings":"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","sources":["webpack://page/webpack/universalModuleDefinition","webpack://page/./src/hpf/hpfc/m0z10301/constant/index.js","webpack://page/./src/hpf/hpfc/m0z10301/list/events/listOperator.js","webpack://page/external umd \"nc-lightapp-front\"","webpack://page/external umd {\"root\":\"React\",\"var\":\"React\",\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\"}","webpack://page/webpack/bootstrap","webpack://page/webpack/runtime/compat get default export","webpack://page/webpack/runtime/define property getters","webpack://page/webpack/runtime/hasOwnProperty shorthand","webpack://page/webpack/runtime/make namespace object","webpack://page/./src/hpf/hpfc/m0z10301/card/events/buttonVisibilityControl.js","webpack://page/./src/hpf/hpfc/m0z10301/card/events/bodyButtonClick.js","webpack://page/./src/hpf/hpfc/m0z10301/card/events/afterHeadEvent.js","webpack://page/./src/hpf/hpfc/m0z10301/card/events/cardOperator.js","webpack://page/./src/hpf/hpfc/m0z10301/card/events/initTemplate.js","webpack://page/./src/hpf/hpfc/m0z10301/card/events/buttonClick.js","webpack://page/./src/hpf/hpfc/m0z10301/card/events/beforeHeadEvent.js","webpack://page/./src/hpf/hpfc/m0z10301/card/events/beforeTableEvent.js","webpack://page/./src/hpf/hpfc/m0z10301/card/events/afterTableEvent.js","webpack://page/./src/hpf/hpfc/m0z10301/card/events/bodySelectedEvent.js","webpack://page/./src/hpf/hpfc/m0z10301/card/index.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"nc-lightapp-front\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"nc-lightapp-front\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"hpf/hpfc/m0z10301/card/index\"] = factory(require(\"react\"), require(\"nc-lightapp-front\"));\n\telse\n\t\troot[\"hpf/hpfc/m0z10301/card/index\"] = factory(root[\"React\"], root[\"nc-lightapp-front\"]);\n})(self, (__WEBPACK_EXTERNAL_MODULE__6487__, __WEBPACK_EXTERNAL_MODULE__5118__) => {\nreturn ","/**\r\n* @description: 常量\r\n*/\r\n\r\n//应用编码\r\nexport const APPCODE = 'M0Z10301';\r\n\r\n//单据类型\r\nexport const BILL_TYPE_CODE = 'SUMRULE';\r\n\r\n/**\r\n* @description: 多语\r\n* @param moduleId: 多语资源名\r\n* @param domainName: 工程名\r\n*/\r\nexport const MULTILANG = {\r\n    moduleId: 'M0Z10301',\r\n    domainName: 'hpf'\r\n};\r\n\r\n/**\r\n * 列表\r\n */\r\nexport const LIST = {\r\n    page_title: 'M0Z10301-000011', //页面标题 /* 国际化处理： 投融资费用*/\r\n\r\n    page_code: 'M0Z10301_LIST', //页面编码\r\n\r\n    search_id: 'list_query', //查询区 \r\n    table_id: 'list_head', //表格区 \r\n\r\n    head_btn_code: 'list_head', //表头按钮区 \r\n    body_btn_code: 'list_inner', //表体表格按钮区\r\n};\r\n\r\n/**\r\n * 卡片\r\n */\r\nexport const CARD = {\r\n    page_title: 'M0Z10301-000011', //页面标题 /* 国际化处理： 投融资费用*/\r\n\r\n    page_code: 'M0Z10301_CARD', //页面编码\r\n\r\n    form_id: 'card_head', //表头表单区\r\n    table_code: 'card_body', //表体表格区\r\n    table_edit_code: 'card_body_edit', //表体表格编辑态侧拉区\r\n    table_browse_code: 'card_body_browse', //表体表格浏览态下拉区\r\n\r\n    head_btn_code: 'card_head', //表头按钮区\r\n    shoulder_btn_code: 'tabs_head', //表体肩部按钮区\r\n    body_btn_code: 'tabs_body' //表体表格按钮区\r\n};\r\n\r\n//领域名.模块名.节点名.自定义名\r\n//缓存标示\r\nexport const DATASOURCE = 'tm.fmc.cost.datasource';\r\n\r\n//查询区域缓存 \r\nexport const SEARCH_CACHE = {\r\n    key: 'tm.fmc.cost.SEARCH_CACHE', //查询区域缓存Key\r\n    dataSource: DATASOURCE //查询区域缓存数据的名称空间\r\n};\r\n\r\n//卡片缓存 \r\nexport const CARD_CACHE = {\r\n    key: 'tm.fmc.cost.CARD_CACHE', //卡片区域缓存Key\r\n    dataSource: DATASOURCE //卡片区域缓存数据的名称空间\r\n};\r\n\r\n//请求基础路径\r\nexport const base_path = '/nccloud/hpf/hpfc/';\r\n\r\n//url\r\nexport const REQUEST_URL = {\r\n    save: `/nccloud/hpf/hpfc/savesumruleVO.do`, //保存\r\n    delete: `/nccloud/hpf/hpfc/deletesumruleVO.do`, //删除\r\n    queryCard: `/nccloud/hpf/hpfc/querycardsumruleVO.do`, //卡片查询\r\n    queryList: `/nccloud/hpf/hpfc/querypagesumruleVO.do`, //列表查询\r\n    queryListByPks: `/nccloud/hpf/hpfc/querypagebypksumruleVO.do`, //列表分页查询\r\n    commit: `/nccloud/hpf/hpfc/commitsumruleVO.do`, //提交\r\n    unCommit: `/nccloud/hpf/hpfc/uncommitsumruleVO.do`, //收回\r\n\r\n    setInitDataBefore: '/nccloud/hpf/hpfc/setinitdatabefore.do', //初始化数据前校验\r\n    setInitData: '/nccloud/hpf/hpfc/setinitdata.do', //初始化数据\r\n\r\n    toCard: '/card',\r\n    toList: '/list',\r\n\r\n    queryColumn: '/nccloud/hpf/hpfc/queryColumn.do', //查询元数据字段\r\n\r\n    print: '/nccloud/hpf/hpfc/HpfsumrulePrintAction.do' //主表打印\r\n};\r\n\r\nexport const LIST_BUTTON = {\r\n    create: 'AddBtn',\r\n    delete: 'DelBtn',\r\n    commit: 'CommitBtn',\r\n    unCommit: 'UnCommitBtn',\r\n    linkGroup: 'JointBtn',\r\n    attachment: 'AttachmentBtn',\r\n    approvalLink: 'DetailBtn',\r\n    billTrack: 'TrackBtn',\r\n    print: 'Print',\r\n    output: 'Output',\r\n    refresh: 'RefreshBtn',\r\n\r\n    setInitData: 'InitData',\r\n\r\n    bodyUpdate: 'edit',\r\n    bodyDelete: 'delete',\r\n    bodyCommit: 'commit',\r\n    bodyUnCommit: 'unCommit',\r\n    copy: 'copy'\r\n};\r\n\r\n//列表默认禁用按钮\r\nexport const LIST_DISABLED_BUTTON = [LIST_BUTTON.delete, LIST_BUTTON.commit, LIST_BUTTON.unCommit, LIST_BUTTON.linkGroup, LIST_BUTTON.approvalLink, LIST_BUTTON.billTrack,\r\nLIST_BUTTON.attachment, LIST_BUTTON.print, LIST_BUTTON.output, LIST_BUTTON.bodyUpdate];\r\n\r\nexport const CARD_BUTTON = {\r\n    save: 'SaveBtn',\r\n    saveAdd: 'SaveAddBtn',\r\n    saveCommit: 'SaveCommitBtn',\r\n    cancel: 'CancelBtn',\r\n    create: 'CreateBtn',\r\n    update: 'UpdateBtn',\r\n    delete: 'DeleteBtn',\r\n    copy: 'CopyBtn',\r\n    commit: 'CommitBtn',\r\n    unCommit: 'UnCommitBtn',\r\n    attachment: 'AttachmentBtn',\r\n    approvalLink: 'DetailBtn',\r\n    billTrack: 'TrackBtn',\r\n    print: 'Print',\r\n    output: 'Output',\r\n    refresh: 'RefreshBtn',\r\n    back: 'Back',\r\n\r\n    addRow: 'addRow',\r\n    deleteRow: 'deleteRow',\r\n    copyRows: 'copyRows',\r\n    pasteTail: 'pasteTail',\r\n    pasteCancel: 'pasteCancel',\r\n\r\n    expand: 'expand',\r\n    insertRow: 'insertRow',\r\n    delRow: 'delRow',\r\n    copyRow: 'copyRow',\r\n    fold: 'fold',\r\n    unfold: 'unfold',\r\n    pasteHere: 'pasteHere'\r\n};\r\n\r\n//卡片默认禁用按钮\r\nexport const CARD_DISABLED_BUTTON = [CARD_BUTTON.deleteRow, CARD_BUTTON.copyRows];\r\n//卡片新增禁用按钮\r\nexport const CARD_ADD_DISABLED_BUTTON = [CARD_BUTTON.addRow, CARD_BUTTON.save, CARD_BUTTON.saveAdd, CARD_BUTTON.saveCommit];\r\n\r\n//字段名\r\nexport const FIELD = {\r\n    org: 'pk_org', //组织\r\n    //orgV: 'pk_org_v',                                              //组织多版本\r\n    billStatus: 'approvestatus', //单据状态字段（用以按钮控制）\r\n    ts: 'ts', //时间戳\r\n    idissys: 'idissys',\r\n    idissysbilltype: 'idissysbilltype',\r\n};\r\n\r\n//主属性字段名\r\nexport const PRIMARY_KEY = {\r\n    head_id: 'pk_sumrule', //表头主键字段名\r\n    body_id: 'pk_sumrule_h', //表体主键字段名\r\n    bill_no: 'billno', //单据编号字段名\r\n    id: 'id' //单据前端缓存标识\r\n};\r\n\r\n//状态\r\nexport const STATUS = {\r\n    status: 'status', //状态\r\n\r\n    edit: 'edit', //编辑态\r\n    browse: 'browse', //浏览态\r\n    add: 'add', //新增态\r\n\r\n    info: 'info', //帮助\r\n    warning: 'warning', //警告\r\n    success: 'success', //成功\r\n    danger: 'danger', //出错\r\n\r\n    NOSTATE: '-1', //自由 态\r\n    NOPASS: '0', //未通过 态\r\n    PASSING: '1', //通过 态\r\n    GOINGON: '2', //进行中 态\r\n    COMMIT: '3' //提交 态\r\n};\r\n//预制字段不可编辑\r\nexport const COLS_EDITABLE = {\r\n    //收入单据（项目成本）-中间库住院权责/中间库门诊收入\r\n    sr_xm: [\r\n        'vchargetypecode',\r\n        'vchargetypename',\r\n        'vexedeptcode',\r\n        'vexedeptname',\r\n        'vapplydeptcode',\r\n        'vapplydeptname',\r\n        'vapplydoctorcode',\r\n        'vapplydoctorname',\r\n        'dinprice',\r\n        'valuationnmny',\r\n    ]\r\n};\r\n\r\nexport const editcfg = new Map([\r\n    //收入单据（项目成本）   'fieldcode', 'fieldname', 'ifchange', 'ifgroup' 字段禁止编辑\r\n    ['CP04', ['vchargetypecode', 'vchargetypename', 'vexedeptcode', 'vexedeptname', 'vapplydeptcode', 'vapplydeptname', 'vapplydoctorcode', 'vapplydoctorname', 'dinprice', 'valuationnmny']],\r\n    //人员工资明细  'ifchange' 字段禁止编辑\r\n    ['0001ZZZZD01EE175077C', ['vdeptcode', 'vdeptname', 'vfundsourcecode', 'vfundsourcename']],\r\n    ['0002ZZZZD01EE175077C', ['vdeptcode', 'vdeptname', 'vfundsourcecode', 'vfundsourcename']],\r\n    //设备折旧明细\r\n    ['0001ZZZZF7A86CABE5A7', ['vdeptcode', 'vdeptname', 'vequipcode', 'vequipname', 'vfundsourcecode', 'vfundsourcename']],\r\n    //材料出库明细\r\n    ['0001ZZZZE193F6699639', ['vdeptcode', 'vdeptname', 'vfundsourcecode', 'vfundsourcename']],\r\n    ['0002ZZZZE193F6699639', ['vdeptcode', 'vdeptname', 'vfundsourcecode', 'vfundsourcename']],\r\n    //DRG/病种住院权责收入\t\t\t\t\r\n    ['DG11', ['acceptrefund', 'billscode', 'billstype', 'dbusdate','diagnosiscode', 'diagnosisname', 'dinprice', 'executedeptcodeone','executedeptcodethree', 'executedeptcodetwo', 'executedeptnamefour', 'executedeptnameone','executedeptnamethree', 'executedeptnametwo', 'executedoctorcodeone', 'executedoctorcodethree','executedoctorcodetwo', 'executedoctornamefour', 'executedoctornameone', 'executedoctornamethree','executedoctornametwo', 'fetrange', 'medicaltype', 'nmny','nquantity', 'pawpaynmny', 'pk_mid_clinic_income', 'syscode','transtype', 'valuationnmny', 'vapplydeptcode', 'vapplydeptname','vapplydoctorcode', 'vapplydoctorname', 'vchargercode', 'vchargername','vchargetypecode', 'vchargetypename', 'vcustcode', 'vcustname','vexedeptcode', 'vexedeptname', 'vincomeclass', 'vincometypecode', 'vincometypename','vnote', 'vpatientcode','vpatientname', 'vpayorgtypecode','vpayorgtypename', 'vpaywaycode','vpaywayname', 'vtranswayname','vbrcbcode', 'vbrcbname','jzcode', 'hospitalnumber']],\r\n    //DRG分组明细\r\n    ['DG10', ['cydeptcode', 'cydeptname','period', 'patientcode','patientname','age', 'sex','bano','zyno', 'zycnt','zyday', 'ybtype','rydate', 'cydate','cystatus', 'ndccode','ndcname', 'drgcode','drgname', 'rw','zyallmny', 'majorzd','minorzd1', 'majorzd2','minorzd3', 'minorzd4','majorss', 'majorss1','majorss2', 'majorss3','majorss4']],\r\n    //病案首页\r\n    ['DG31', ['admittedcode', 'admittedname', 'outdeptcode', 'outdeptname','admissiondate', 'age', 'dischargedate', 'dischargenmy', 'hospitaldays','hospitalnumber','infectcode', 'infectname','instypecode', 'instypename', 'leavestatuscode','leavestatusname','maindiagnosecode', 'maindiagnosename','mainsurgerycode', 'mainsurgeryname','medicalno', 'minordiagnose1code','minordiagnose1name','minordiagnose2code', 'minordiagnose2name','minordiagnose3code','minordiagnose3name', 'minordiagnose4code','minordiagnose4name', 'minorsurgery1code','minorsurgery1name', 'minorsurgery2code','minorsurgery2name', 'minorsurgery3code','minorsurgery3name','minorsurgery4code', 'minorsurgery4name','patienttype', 'period','pk_mid_medicrec_page', 'rescuenum','residentdoctorcode', 'residentdoctorname','sex', 'singlediseasecode','singlediseasename', 'successnum','syscode', 'vpatientcode','vpatientname']],\r\n]);\r\n","import { ajax, cardCache, toast, promptBox, print } from 'nc-lightapp-front';\nimport {\n    REQUEST_URL,\n    SEARCH_CACHE,\n    CARD,\n    LIST,\n    PRIMARY_KEY,\n    LIST_BUTTON,\n    STATUS,\n    BILL_TYPE_CODE,\n    FIELD,\n    LIST_DISABLED_BUTTON\n} from '../../constant';\n\n//列表新增\nexport function listCreate(props) {\n    props.pushTo(REQUEST_URL.toCard, {\n        status: STATUS.add,\n        pagecode: CARD.page_code\n    });\n}\n\n//列表刷新\nexport function listRefresh(props) {\n    let { getDefData } = cardCache;\n    let queryInfo = getDefData(SEARCH_CACHE.key, SEARCH_CACHE.dataSource);\n    listSearch(props, queryInfo);\n}\n\n//列表修改\nexport function listEdit(props, pk) {\n    props.pushTo(REQUEST_URL.toCard, {\n        status: STATUS.edit,\n        id: pk,\n        pagecode: CARD.page_code\n    });\n}\n\n//列表复制\nexport function listCopy(props, pk) {\n    props.pushTo(REQUEST_URL.toCard, {\n        status: STATUS.edit,\n        id: pk,\n        pagecode: CARD.page_code,\n        isCopy: true\n    });\n}\n\n\n//列表提交\nexport function listCommit(props, data) {\n    if (!data) {\n        let select = checkSelected(props, false);\n        if (!select.valid) {\n            return;\n        }\n        if (select.valid) {\n            let selectDatas = select.selectDatas;\n            let pks = selectDatas && selectDatas.map(item => item.data.values[PRIMARY_KEY.head_id].value);\n            let pkMapTs = new Map();\n            selectDatas && selectDatas.map(item => {\n                let pk = item.data.values[PRIMARY_KEY.head_id].value;\n                let ts = item.data.values[FIELD.ts] && item.data.values[FIELD.ts].value;\n                //主键与tsMap\n                if (pk && ts) {\n                    pkMapTs.set(pk, ts);\n                }\n            });\n            data = { pks, pkMapTs };\n        }\n    }\n    ajax({\n        url: REQUEST_URL.commit,\n        data,\n        success: (res) => {\n            if (res.success) { //成功\n                if (res.data && res.data.workflow && (res.data.workflow == 'approveflow' || res.data.workflow == 'workflow')) {\n                    this.setState({\n                        compositeData: res.data,\n                        compositeDisplay: true,\n                        curPk: data.pks\n                    });\n                    PromptMessage.call(this, res);\n                } else {\n                    PromptMessage.call(this, res);\n                    listRefresh(props);\n                }\n            } else { //失败\n                PromptMessage.call(this, res);\n                //toast({ color: STATUS.warning, content: props.json['M0Z10301-000015'] });/* 国际化处理： 提交失败*/\n            }\n        }\n    });\n}\n\n//列表收回\nexport function listUnCommit(props, data) {\n    if (!data) {\n        let select = checkSelected(props, false);\n        if (select.valid) {\n            let selectDatas = select.selectDatas;\n            let pks = selectDatas && selectDatas.map(item => item.data.values[PRIMARY_KEY.head_id].value);\n            let pkMapTs = new Map();\n            selectDatas && selectDatas.map(item => {\n                let pk = item.data.values[PRIMARY_KEY.head_id].value;\n                let ts = item.data.values[FIELD.ts] && item.data.values[FIELD.ts].value;\n                //主键与tsMap\n                if (pk && ts) {\n                    pkMapTs.set(pk, ts);\n                }\n            });\n            data = { pks, pkMapTs };\n        }\n    }\n    ajax({\n        url: REQUEST_URL.unCommit,\n        data,\n        success: (res) => {\n            if (res.success) { //成功\n                listRefresh(props);\n            } else { //失败\n                toast({ color: STATUS.warning, content: props.json['M0Z10301-000017'] });/* 国际化处理： 收回失败*/\n            }\n        }\n    });\n}\n\n\n/**\n * 是否选中数据\n *\n * @param {*} isCheckOne 是否选中一条数据\n * @returns 返回是否校验成功\n */\nexport function checkSelected(props, isCheckOne) {\n    let valid = true;\n    let selectDatas = props.table && props.table.getCheckedRows(LIST.table_id);\n    if (isCheckOne && selectDatas.length > 1) {\n        toast({\n            color: STATUS.warning, content: props.json['M0Z10301-000012']/* 国际化处理： 请选中一行表体数据!*/\n        });\n        valid = false;\n    } else if (selectDatas.length == 0) {\n        toast({\n            color: STATUS.warning, content: props.json['M0Z10301-000013']/* 国际化处理： 请选择表体数据操作!*/\n        });\n        valid = false;\n    }\n    return { valid, selectDatas };\n}\n\n//列表附件\nexport function listAttachment(props) {\n    let select = checkSelected(props, true);\n    if (select.valid) {\n        let selectDatas = select.selectDatas;\n        let billId = selectDatas[0] && selectDatas[0].data.values[PRIMARY_KEY.head_id].value;\n        let billNo = selectDatas[0] && selectDatas[0].data.values[PRIMARY_KEY.bill_no].value;\n        this.setState({\n            showUploader: !this.state.showUploader,\n            billInfo: { billId, billNo }\n        });\n    }\n}\n\n//列表单据追溯\nexport function listBillTrack(props) {\n    //单据追溯示例\n    let select = checkSelected(props, true);\n    if (select.valid) {\n        let selectDatas = select.selectDatas;\n        let billId = selectDatas[0] && selectDatas[0].data.values[PRIMARY_KEY.head_id].value;\n        this.setState({\n            showBillTrack: true,\n            billTrackBillId: billId,\n            billTrackBillType: BILL_TYPE_CODE\n        });\n    }\n}\n\n//列表审批详情\nexport function listLinkApprove(props) {\n    let select = checkSelected(props, true);\n    if (select.valid) {\n        let selectDatas = select.selectDatas;\n        let billId = selectDatas[0] && selectDatas[0].data.values[PRIMARY_KEY.head_id].value;\n        this.setState({\n            showApproveDetail: true,\n            billId\n        });\n    }\n}\n\n//列表表头删除\nexport function listHeadDelete(props) {\n    let data = {};\n    let pks = [];\n    let select = checkSelected(props, false);\n    if (select.valid) {\n        let selectDatas = select.selectDatas;\n        pks = selectDatas && selectDatas.map(item => item.data.values[PRIMARY_KEY.head_id].value);\n        let pkMapTs = new Map();\n        selectDatas && selectDatas.map(item => {\n            let pk = item.data.values[PRIMARY_KEY.head_id].value;\n            let ts = item.data.values[FIELD.ts] && item.data.values[FIELD.ts].value;\n            //主键与tsMap\n            if (pk && ts) {\n                pkMapTs.set(pk, ts);\n            }\n        });\n        data = { pks, pkMapTs };\n\n        ajax({\n            url: REQUEST_URL.delete,\n            data,\n            success: (res) => {\n                if (res.success) { //成功\n                    let allTableData = props.table.getAllTableData(LIST.table_id);\n                    let allPks = allTableData.rows[0] && allTableData.rows.map(item => item.values[PRIMARY_KEY.head_id].value);\n                    let deleteRowIndexArr = pks.map(item => allPks.findIndex(v => v == item)).filter(item => item != -1);\n                    props.table.deleteCacheId(LIST.table_id, pks);\n                    props.table.deleteTableRowsByIndex(LIST.table_id, deleteRowIndexArr);\n                    toast({ color: STATUS.success, content: props.json['M0Z10301-000005'] });/* 国际化处理： 删除成功*/\n                } else { //失败\n                    toast({ color: STATUS.warning, content: props.json['M0Z10301-000009'] });/* 国际化处理： 删除失败*/\n                }\n            }\n        });\n    }\n}\n\n//列表表体删除\nexport function listBodyDelete(props, data, index) {\n    ajax({\n        url: REQUEST_URL.delete,\n        data,\n        success: (res) => {\n            if (res.success) { //成功\n                props.table.deleteCacheId(LIST.table_id, data.pks[0]);\n                props.table.deleteTableRowsByIndex(LIST.table_id, index);\n                toast({ color: STATUS.success, content: props.json['M0Z10301-000005'] });/* 国际化处理： 删除成功*/\n            } else { //失败\n                toast({ color: STATUS.warning, content: props.json['M0Z10301-000009'] });/* 国际化处理： 删除失败*/\n            }\n        }\n    });\n}\n\n//列表查询\nexport function listSearch(props, queryInfo) {\n    let pageInfo = props.table.getTablePageInfo(LIST.table_id);\n    if (!queryInfo) {\n        queryInfo = props.search.getQueryInfo(LIST.search_id);\n    }\n    queryInfo.pageInfo = pageInfo;\n    queryInfo.pageCode = LIST.page_code;\n\n    // 刷新按钮可用\n    props.button.setDisabled({ [LIST_BUTTON.refresh]: false });\n\n    ajax({\n        url: REQUEST_URL.queryList,\n        data: queryInfo,\n        success: (res) => {\n            let { success, data } = res;\n            if (res.formulamsg && res.formulamsg instanceof Array && res.formulamsg.length > 0) {\n                props.dealFormulamsg(res.formulamsg);\n            }\n            if (success && data && data[LIST.table_id]) {\n                props.table.setAllTableData(LIST.table_id, data[LIST.table_id]);\n                toast({ color: STATUS.success });\n            } else {\n                props.table.setAllTableData(LIST.table_id, { rows: [] });\n                toast({ color: STATUS.warning, content: props.json['M0Z10301-000010'] });/* 国际化处理： 未查询出符合条件的数据！*/\n            }\n\n            // 将查询条件缓存\n            let { setDefData } = cardCache;\n            setDefData(SEARCH_CACHE.key, SEARCH_CACHE.dataSource, queryInfo);\n        }\n    });\n}\n\n//分页查询\nexport function pageInfoClick(props, config, pks) {\n    let data = {\n        pks,\n        pagecode: LIST.page_code\n    };\n\n    ajax({\n        url: REQUEST_URL.queryListByPks,\n        data,\n        success: (res) => {\n            let { success, data } = res;\n            if (success && data && data[LIST.table_id]) {\n                props.table.setAllTableData(LIST.table_id, data[LIST.table_id]);\n                toast({ color: STATUS.success });\n            } else {\n                props.table.setAllTableData(LIST.table_id, { rows: [] });\n                toast({ color: STATUS.warning, content: props.json['M0Z10301-000010'] });/* 国际化处理： 未查询出符合条件的数据！*/\n            }\n        }\n    });\n}\n\n/**\n * 列表消息提示\n * @param {*} res           返回的response\n * @param {*} opername      操作名称\n */\nexport function PromptMessage(res) {\n    let { status, msg } = res.data;\n    let content;\n    let total = res.data.total;\n    let successNum = res.data.successNum;\n    let failNum = res.data.failNum;\n    content = '共' + '提交' + total + '条';/* 国际化处理： 共,条，*/\n    content = content + ',成功' + successNum + '条';/* 国际化处理： 成功,条 ,,成功*/\n    content = content + ',失败' + failNum + ',条';/* 国际化处理： 失败,条,条*/\n    let errMsgArr = res.data.errormessages;\n    //全部成功\n    if (status == 0) {\n        toast({\n            color: \"success\",\n            title: '提交' + msg,\n            content,\n            TextArr: ['展开', '收起', '关闭'],/* 国际化处理： 展开,收起,关闭*/\n            groupOperation: true\n        });\n    }\n    //全部失败\n    else if (status == 1) {\n        toast({\n            duration: \"infinity\",\n            color: \"danger\",\n            title: '提交' + msg,\n            content,\n            TextArr: ['展开', '收起', '关闭'],/* 国际化处理： 展开,收起,关闭*/\n            groupOperation: true,\n            groupOperationMsg: errMsgArr\n        });\n    }\n    //部分成功\n    else if (status == 2) {\n        toast({\n            duration: \"infinity\",\n            color: \"warning\",\n            title: '提交' + msg,\n            content,\n            TextArr: ['展开', '收起', '关闭'],/* 国际化处理： 展开,收起,关闭*/\n            groupOperation: true,\n            groupOperationMsg: errMsgArr\n        });\n    }\n}\n\n//列表行双击\nexport function handleDoubleClick(record, index, props) {\n    props.pushTo(REQUEST_URL.toCard, {\n        status: STATUS.browse,\n        id: record[PRIMARY_KEY.head_id].value,\n        idissys: record[FIELD.idissys].value,\n        idissysbilltype: record[FIELD.idissysbilltype].value,\n        pagecode: CARD.page_code,\n        scene: props.getUrlParam('scene')\n    });\n}\n\n//初始化数据前校验\nexport function initDataBefore(props) {\n    let queryInfo = props.search.getSearchValByField(LIST.search_id, \"pk_org\").value.firstvalue;\n    let pk_org = queryInfo.split(\",\");\n    if (queryInfo && pk_org.length == 1) {\n        ajax({\n            url: REQUEST_URL.setInitDataBefore,\n            data: { pk_org: pk_org[0] },\n            success: (res) => {\n                if (res.data.value) {\n                    initData(props, res.data.pk_org);\n                }\n                else {\n                    promptBox({\n                        color: 'warning',\n                        title: '提示',\n                        content: `当前业务单元${res.data.orgName}存在数据汇总规则数据，是否删除原有的数据重新预置数据！`,\n                        noFooter: false,\n                        noCancelBtn: false,\n                        beSureBtnName: '是',\n                        cancelBtnName: '否',\n                        hasCloseBtn: true,\n                        beSureBtnClick: () => initData(props, res.data.pk_org),\n                        closeByClickBackDrop: false\n                    });\n                }\n            }\n        });\n    }\n    else {\n        toast({ color: 'danger', content: '请选择一个业务单元进行初始化' });\n\n    }\n}\n\n//初始化数据\nexport function initData(props, pk_org) {\n    ajax({\n        url: REQUEST_URL.setInitData,\n        data: { pk_org, flag_clear: true },\n        success: (res) => {\n            toast({ content: '初始化成功' });\n            let { getDefData } = cardCache;\n            let queryInfo = getDefData(SEARCH_CACHE.key, SEARCH_CACHE.dataSource);\n            listSearch(props, queryInfo);\n        }\n    });\n}\n\n//打印\nexport function onPrint(props) {\n    let allData = props.table.getAllTableData(LIST.table_id);\n    if (allData.rows.length === 0) {\n        toast({ color: STATUS.warning, content: \"无可打印数据\" });/* 国际化处理:*/\n        return;\n    }\n    let pks = allData.allpks;\n    print(\n        'pdf',\n        REQUEST_URL.print,\n        {\n            funcode: props.appcode,//功能节点编码\n            nodekey: 'M0Z10301',//模板节点编码\n            oids: pks,\n            outputType: 'output'\n        }\n    );\n}\n\n//输出\nexport function onOutput(props) {\n    let allData = props.table.getAllTableData(LIST.table_id);\n    if (allData.rows.length === 0) {\n        toast({ color: STATUS.warning, content: \"无可输出的数据\" });/* 国际化处理:*/\n        return;\n    }\n    let pks = allData.allpks;\n\n    this.setState({\n        ids: pks\n    }, this.refs.printOutput.open());\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE__5118__;","module.exports = __WEBPACK_EXTERNAL_MODULE__6487__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { CARD, CARD_BUTTON, STATUS, PRIMARY_KEY, FIELD, CARD_DISABLED_BUTTON, editcfg } from '../../constant';\r\n\r\n/**\r\n* @description: 卡片按钮可见性\r\n*/\r\nexport function buttonVisibilityControl(props) {\r\n\r\n    /** \r\n     * 此处应根据实际情况自由发挥\r\n     * 目标就是将某个状态下的某些按钮展示或隐藏\r\n     * 示例代码可能过于繁琐且难以理解\r\n     * \r\n     * 可调用如下方法实现\r\n     * props.button.setButtonVisible();\r\n     * props.button.setButtonDisabled();\r\n     * \r\n     * 例如\r\n     * let btn1 = [ 编辑态下显示的按钮 ];\r\n     * let btn2 = [ 编辑态下不显示的按钮 ];\r\n     * \r\n     * props.button.setButtonVisible(btn1,true);\r\n     * props.button.setButtonVisible(btn2,false);\r\n     * 即可控制编辑态下的显示按钮。\r\n    */\r\n\r\n    let buttons = props.button.getButtons();\r\n    if (!buttons || buttons.length == 0) {\r\n        //模板没渲染完成，暂不渲染按钮\r\n        return;\r\n    }\r\n    let status = props.getUrlParam(STATUS.status);\r\n    let id = props.getUrlParam(PRIMARY_KEY.id);\r\n    let isBrowse = status === STATUS.browse;\r\n    //单据状态\r\n    let billStatus = props.form.getFormItemsValue(CARD.form_id, FIELD.billStatus) && props.form.getFormItemsValue(CARD.form_id, FIELD.billStatus).value;\r\n\r\n    let btnObj = {};\r\n    //将要显示的按钮\r\n    let showBtn = [];\r\n    //编辑态显示按钮\r\n    let editBtn = [CARD_BUTTON.save, CARD_BUTTON.saveAdd, CARD_BUTTON.saveCommit, CARD_BUTTON.cancel,\r\n    CARD_BUTTON.addRow, CARD_BUTTON.deleteRow, CARD_BUTTON.copyRows,\r\n    CARD_BUTTON.insertRow, CARD_BUTTON.delRow, CARD_BUTTON.copyRow, CARD_BUTTON.pasteHere, CARD_BUTTON.expand];\r\n    //联查按钮\r\n    let unionBtn = [CARD_BUTTON.billTrack, CARD_BUTTON.approvalLink];\r\n    //获得所有的按钮的编码（不包括按钮组下的按钮）\r\n    let parentButtons = buttons.map(item => item.key);\r\n    //(有重复的按钮编码，但无妨)\r\n    let allBtns = [...parentButtons, ...editBtn, ...unionBtn, CARD_BUTTON.create, CARD_BUTTON.update, CARD_BUTTON.delete, CARD_BUTTON.copy, CARD_BUTTON.output];\r\n    if (!isBrowse) { //编辑态\r\n\r\n        showBtn = editBtn;\r\n\r\n    } else { //浏览态\r\n        if (!id) {//点击新增然后点击取消后\r\n\r\n            showBtn = [CARD_BUTTON.create];\r\n\r\n        } else {//单据浏览态\r\n            let commonBtn = [CARD_BUTTON.create, CARD_BUTTON.copy, CARD_BUTTON.attachment, ...unionBtn, CARD_BUTTON.print, CARD_BUTTON.output, CARD_BUTTON.refresh, CARD_BUTTON.fold, CARD_BUTTON.unfold];\r\n            switch (billStatus) {\r\n                case STATUS.NOSTATE:\r\n                    showBtn = [CARD_BUTTON.update, CARD_BUTTON.delete, CARD_BUTTON.commit, ...commonBtn];\r\n                    break;\r\n                case STATUS.PASSING:\r\n                case STATUS.COMMIT:\r\n                case STATUS.GOINGON:\r\n                    showBtn = [CARD_BUTTON.unCommit, ...commonBtn];\r\n                    break;\r\n                default:\r\n                    showBtn = [...commonBtn];\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n    for (let item of allBtns) {\r\n        btnObj[item] = showBtn.includes(item);\r\n    }\r\n    //控制按钮显示与否\r\n    props.button.setButtonVisible(btnObj);\r\n    //设置按钮禁用\r\n    //props.button.setButtonDisabled(CARD_DISABLED_BUTTON, true);\r\n    props.button.setButtonDisabled(CARD_BUTTON.save, false);\r\n    props.button.setButtonDisabled(CARD_BUTTON.addRow, false);\r\n    props.button.setButtonDisabled(CARD_BUTTON.deleteRow, false);\r\n    //设置卡片状态\r\n    props.cardTable.setStatus(CARD.table_code, isBrowse ? STATUS.browse : STATUS.edit);\r\n    if(!isBrowse){\r\n        let idissys = props.getUrlParam('idissys');//目标系统\r\n        let idissysbilltype = props.getUrlParam('idissysbilltype');//目标系统单据类型\r\n        if (idissys == 8) {\r\n            if (editcfg.has(idissysbilltype)) {\r\n                let indexs = [];\r\n                if (idissysbilltype == 'CP04') {//收入单据(项目成本)\r\n                    props.cardTable.getAllRows('card_body').forEach((item, index) => {\r\n                        if (editcfg.get(idissysbilltype).indexOf(item.values.fieldcode.value) > -1) {\r\n                            indexs.push(index);\r\n                        }\r\n                    });\r\n                    props.cardTable.setEditableByIndex('card_body', indexs, ['fieldcode', 'fieldname', 'ifchange', 'ifgroup'], false);\r\n                } else {\r\n                    props.cardTable.getAllRows('card_body').forEach((item, index) => {\r\n                        if (editcfg.get(idissysbilltype).indexOf(item.values.fieldcode.value) > -1) {\r\n                            indexs.push(index);\r\n                        }\r\n                    });\r\n                    props.cardTable.setEditableByIndex('card_body', indexs, ['ifchange'], false);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    props.form.setFormStatus(CARD.form_id, status);\r\n}\r\n","import { deepClone } from 'nc-lightapp-front';\nimport { CARD_BUTTON, CARD, STATUS, CARD_DISABLED_BUTTON, PRIMARY_KEY } from '../../constant';\n\n/**\n* @description: 表体按钮点击事件\n* @param: key 当前触发按钮名称\n* @param: index 当前行序\n* @param: record 当前行信息\n*/\nexport function bodyButtonClick(props, key, text, record, index) {\n    let rowno;\n    switch (key) {\n        //肩 新增\n        case CARD_BUTTON.addRow:\n            //自动填充行号\n            rowno=getRowNo(props);\n            props.cardTable.addRow(CARD.table_code,-1,{rowno:{display:rowno.toString(),value:rowno.toString()}});\n            break;\n\n        //肩 删除\n        case CARD_BUTTON.deleteRow:\n            let checkedRows = props.cardTable.getCheckedRows(CARD.table_code);\n            let checkedIndex = checkedRows && checkedRows.map(item => item.index);\n            if (checkedRows.length > 0) {\n                props.cardTable.delRowsByIndex(CARD.table_code, checkedIndex);\n                props.button.setButtonDisabled(CARD_DISABLED_BUTTON, true);\n            }\n            break;\n\n        //行 展开\n        case CARD_BUTTON.expand:\n            props.cardTable.openTabModel(CARD.table_code, STATUS.edit, record, index);\n            break;\n\n        //行 展开（浏览态）\n        case CARD_BUTTON.unfold:\n        //行 收起\n        case CARD_BUTTON.fold:\n            props.cardTable.toggleTabRowView(CARD.table_code, record);\n            break;\n\n        //行 插行\n        case CARD_BUTTON.insertRow:\n            //自动填充行号\n            rowno=getRowNo(props);\n            props.cardTable.addRow(CARD.table_code, index,{rowno:{display:rowno.toString(),value:rowno.toString()}});\n            break;\n\n        //行 删行\n        case CARD_BUTTON.delRow:\n            props.cardTable.delRowsByIndex(CARD.table_code, index);\n            break;\n\n        //行 复制行\n        case CARD_BUTTON.copyRow:\n            props.cardTable.pasteRow(CARD.table_code, index, [PRIMARY_KEY.body_id]);\n            break;\n\n        //肩 复制行\n        case CARD_BUTTON.copyRows:\n            copyControl.call(this, props, true);\n            break;\n\n        //肩 取消复制\n        case CARD_BUTTON.pasteCancel:\n            copyControl.call(this, props, false);\n            break;\n\n        //肩 粘贴至末行\n        case CARD_BUTTON.pasteTail:\n            let lastIndex = props.cardTable.getNumberOfRows(CARD.table_code);\n            props.cardTable.insertRowsAfterIndex(CARD.table_code, getPasteRows(props), lastIndex);\n            copyControl.call(this, props, false);\n            props.cardTable.selectAllRows(CARD.table_code, false);\n            break;\n\n        //行 粘贴至此\n        case CARD_BUTTON.pasteHere:\n            props.cardTable.insertRowsAfterIndex(CARD.table_code, getPasteRows(props), index);\n            copyControl.call(this, props, false);\n            props.cardTable.selectAllRows(CARD.table_code, false);\n            break;\n    }\n    if (![CARD_BUTTON.unfold, CARD_BUTTON.fold].includes(key)) {\n        props.cardTable.setStatus(CARD.table_code, STATUS.edit);\n    }\n}\n\n//获取行号\nexport function getRowNo(props){\n    //自动填充行号\n    let rows=props.cardTable.getAllRows(CARD.table_code);\n    let maxRowNo=0;\n    rows.forEach(row=>{\n        if(row.values.rowno.value&&parseInt(row.values.rowno.value)>maxRowNo){\n            maxRowNo=parseInt(row.values.rowno.value);\n        }\n    });\n    maxRowNo+=10;\n    return maxRowNo;\n}\n\n//复制时的状态控制\nfunction copyControl(props, flag) {\n    //肩部按钮显示控制\n    props.button.setButtonVisible({\n        [CARD_BUTTON.addRow]: !flag,\n        [CARD_BUTTON.deleteRow]: !flag,\n        [CARD_BUTTON.copyRows]: !flag,\n\n        [CARD_BUTTON.pasteTail]: flag,\n        [CARD_BUTTON.pasteCancel]: flag,\n    });\n    props.cardTable.setAllCheckboxAble(CARD.table_code, !flag);\n    this.setState({ isPaste: flag });\n}\n\n/**\n * 获取粘贴行数据\n *\n * @returns 返回粘贴行数据\n */\nfunction getPasteRows(props) {\n    let checkedRows = props.cardTable.getCheckedRows(CARD.table_code);\n    let selectRowCopy = deepClone(checkedRows);\n    let selectArr = selectRowCopy.map(item => {\n        item.data.selected = false;\n        item.data.values[PRIMARY_KEY.head_id] ? item.data.values[PRIMARY_KEY.head_id].value = null : null;\n        item.data.values[PRIMARY_KEY.body_id] ? item.data.values[PRIMARY_KEY.body_id].value = null : null;\n        return item.data;\n    });\n    return selectArr;\n}\n","import {FIELD, CARD_ADD_DISABLED_BUTTON, CARD, REQUEST_URL, STATUS, PRIMARY_KEY, DATASOURCE} from \"../../constant\";\nimport {initData} from \"../../list/events/listOperator\";\nimport { promptBox,ajax } from 'nc-lightapp-front';\nimport {getRowNo} from \"./bodyButtonClick\";\n\n/**\n * @description: 表头编辑后事件\n * @param: moduleId 区域编码\n * @param: key 当前字段编码\n */\nexport function afterHeadEvent(props, moduleId, key, value, oldValue) {\n    if (key === FIELD.org) {\n        props.resMetaAfterPkorgEdit(); //选择主组织以后，恢复其他字段的编辑性\n        props.button.setButtonDisabled(CARD_ADD_DISABLED_BUTTON, false);//恢复增行编辑性\n        props.cardTable.setAllCheckboxAble(CARD.table_code, true);\n\n        if(oldValue.value&&value.value!=oldValue.value){\n            //更改业务单元时提示会清空表体\n            promptBox({\n                color: 'info',\n                title: '确认修改',\n                content: `是否修改业务单元，这样会清空您录入的信息？`,\n                noFooter: false,\n                noCancelBtn: false,\n                beSureBtnName: '是',\n                cancelBtnName: '否',\n                hasCloseBtn: false,\n                beSureBtnClick: ()=>{\n                    //清空目标系统，目标系统单据类型，中间表元数据\n                    props.form.setFormItemsValue(CARD.form_id, {\n                        idissys:{value:null,display:null},\n                        idissysbilltype:{value:null,display:null},\n                        midmetadata:{value:null,display:null}\n                    });\n                    //清空表格数据\n                    clearTable(props);\n                },\n                cancelBtnClick:()=>{\n                    //业务单元重新赋值变更前的值\n                    props.form.setFormItemsValue(CARD.form_id, {\n                        pk_org:{value:oldValue.value,display:oldValue.display}\n                    });\n                },\n                closeByClickBackDrop: false\n            });\n        }\n    }\n    if(key==\"idissys\"){\n        if(value.value&&value.value!=oldValue.value){\n            //清空目标系统单据类型，中间表元数据\n            props.form.setFormItemsValue(CARD.form_id, {\n                idissysbilltype:{value:null,display:null},\n                midmetadata:{value:null,display:null}\n            });\n            //清空表格数据\n            clearTable(props);\n        }\n    }\n    if(key==\"idissysbilltype\"){\n        if(value.value&&value.value!=oldValue.value){\n            //清空中间表元数据\n            props.form.setFormItemsValue(CARD.form_id, {\n                midmetadata:{value:null,display:null}\n            });\n            //清空表格数据\n            clearTable(props);\n        }\n    }\n    if(key==\"midmetadata\"){\n        if(value.value&&value.value!=oldValue.value){\n            //显示遮罩\n            this.setState({showLoading: true});\n\n            let tableid=value.values.defaulttablename.value;\n            //成本-收入数据采集-隐藏“是否转换”列\n            hideTableCol(props);\n            //清空表格数据\n            clearTable(props);\n            //填充选择的元数据字段\n            ajax({\n                url: REQUEST_URL.queryColumn,\n                data: {tableid:tableid},\n                success: (res) => {\n                    let rowno=getRowNo(props);\n                    let gridData=[];\n                    res.data.forEach(data=>{\n                        gridData.push({\n                            values:{\n                                rowno:{display:rowno,value:rowno.toString()}, //行号\n                                fieldid:{display:data.fieldid,value:data.fieldid}, //字段id\n                                fieldcode:{display:data.fieldcode,value:data.fieldcode}, //字段编码\n                                fieldname:{display:data.fieldname,value:data.fieldname} //字段名称\n                            }\n                        });\n                        rowno+=10;\n                    });\n                    props.cardTable.insertRowsAfterIndex(CARD.table_code,gridData,-1);\n                    //关闭遮罩\n                    this.setState({showLoading: false});\n                },\n                error:(error)=>{\n                    console.log(error);\n                    //关闭遮罩\n                    this.setState({showLoading: false});\n                }\n            });\n        }\n    }\n}\n\n/**\n * 清空表格数据\n * */\nfunction clearTable(props){\n    let rows=props.cardTable.getAllRows(CARD.table_code);\n    rows.forEach(row=>{\n        props.cardTable.delRowByRowId(CARD.table_code, row.rowid);\n    });\n}\n\nfunction hideTableCol(props){\n    let [idissys, idissysbilltype] = props.form.getFormItemsValue(CARD.form_id, [FIELD.idissys, FIELD.idissysbilltype]);//目标系统\n    let meta = props.meta.getMeta();\n    meta[CARD.table_code].items.map((item, key) => {                    \n        if(item.attrcode == 'ifchange'){\n            if(idissys.value == '8' && idissysbilltype.refcode == 'CO12'){\n                item.visible = false;\n            } else {\n                item.visible = true;\n            }\n        }\n        return item;\n    });\n    props.meta.setMeta(meta);\n}","import { ajax, cardCache, toast } from 'nc-lightapp-front';\nimport {\n    REQUEST_URL,\n    CARD,\n    PRIMARY_KEY,\n    CARD_BUTTON,\n    CARD_CACHE,\n    DATASOURCE,\n    STATUS,\n    FIELD,\n    BILL_TYPE_CODE,\n    CARD_ADD_DISABLED_BUTTON\n} from '../../constant';\nimport { buttonVisibilityControl } from './buttonVisibilityControl';\nimport { afterHeadEvent } from './afterHeadEvent';\n\nlet { updateCache, addCache, getNextId, deleteCacheById, getCacheById, getCurrentLastId } = cardCache;\n\n//卡片返回\nexport function cardBack(props) {\n    props.pushTo(REQUEST_URL.toList, {});\n}\n\n\n//卡片新增\nexport function cardCreate(props) {\n    props.setUrlParam({ status: STATUS.add });\n    //单据有主组织，新增时,将其他字段设置为不可编辑\n    props.initMetaByPkorg();\n    props.button.setButtonDisabled(CARD_ADD_DISABLED_BUTTON, true);\n    props.cardTable.setAllCheckboxAble(CARD.table_code, false);\n    clearAll(props);\n    setByStatus(props);\n\n    let { getDefData } = cardCache;\n    let context = getDefData(CARD_CACHE.key, CARD_CACHE.dataSource);\n    if (context) {\n        let { pk_org, org_Name } = context;\n        props.form.setFormItemsValue(CARD.form_id, {\n            [FIELD.org]: { value: pk_org, display: org_Name }\n        });\n        afterHeadEvent(props, CARD.form_id, FIELD.org, { display: org_Name, value: pk_org }, {\n            display: null,\n            value: null\n        });\n    }\n    //新增时赋值创建人，创建时间\n    let userName = window.parent.GETBUSINESSINFO().userName;\n    let userId = window.parent.GETBUSINESSINFO().userId;\n    let now = getNowDateTime();\n    props.form.setFormItemsValue(CARD.form_id, {\n        creator: { value: userId, display: userName },\n        creationtime: { display: now, value: now }\n    });\n}\n\n/**\n * 获取当前时间\n * */\nexport function getNowDateTime() {\n    let now = new Date();\n    return `${now.getFullYear()}-${(now.getMonth() + 1) < 10 ? `0${now.getMonth() + 1}` : now.getMonth() + 1}-${now.getDate() < 10 ? `0${now.getDate()}` : now.getDate()} ${now.getHours() < 10 ? `0${now.getHours()}` : now.getHours()}:${now.getMinutes() < 10 ? `0${now.getMinutes()}` : now.getMinutes()}:${now.getSeconds() < 10 ? `0${now.getSeconds()}` : now.getSeconds()}`;\n}\n\n/**\n * 根据状态设置卡片\n * @param {*} status\n */\nfunction setByStatus(props) {\n    buttonVisibilityControl(props);\n    let status = props.getUrlParam(STATUS.status);\n    //设置单据编号\n    props.BillHeadInfo.setBillHeadInfoVisible({\n        showBackBtn: status === STATUS.browse,\n        showBillCode: false,\n        billCode: props.form.getFormItemsValue(CARD.form_id, PRIMARY_KEY.bill_no) && props.form.getFormItemsValue(CARD.form_id, PRIMARY_KEY.bill_no).value\n    });\n    if (status !== STATUS.add) {\n        props.resMetaAfterPkorgEdit(); //选择主组织以后，恢复其他字段的编辑性\n    }\n}\n\n/**\n * 组织多版本视图\n * @param {*} props\n * @param {*} headCode\n */\nfunction orgVersionView(props) {\n    let status = props.getUrlParam(STATUS.status);\n    //浏览态显示组织版本，编辑态显示组织\n    let showflag = status == STATUS.browse;\n    let obj = {};\n    obj[FIELD.org] = !showflag;\n    props.form.setFormItemsVisible(CARD.form_id, obj);\n}\n\n//清空表头表体数据\nfunction clearAll(props) {\n    props.form.EmptyAllFormValue(CARD.form_id);\n    props.cardTable.setTableData(CARD.table_code, { rows: [] });\n}\n\n//复制时清空数据\nexport function copyClear(props) {\n    if (props.getUrlParam('isCopy')) {\n        props.form.setFormItemsValue(CARD.form_id, {\n            [PRIMARY_KEY.head_id]: { value: null, display: null },\n            [PRIMARY_KEY.bill_no]: { value: null, display: null },\n            [FIELD.billStatus]: { value: STATUS.NOSTATE, display: '自由' }\n\n        });\n        props.cardTable.setColValue(CARD.table_code, PRIMARY_KEY.head_id, { value: null, display: null });\n        props.cardTable.setColValue(CARD.table_code, PRIMARY_KEY.body_id, { value: null, display: null });\n\n        let num = props.cardTable.getNumberOfRows(CARD.table_code, false);\n        let updateArray = [];\n        for (let i = 0; i < num; i++) {\n            updateArray.push({\n                index: i,\n                status: '2',//新增态\n            });\n        }\n        props.cardTable.setRowStatusByIndexs(CARD.table_code, updateArray);\n\n        props.setUrlParam({\n            id: null,\n            isCopy: false,\n            status: STATUS.add\n        });\n    }\n}\n\n//卡片保存\nexport function cardSave(props) {\n    return new Promise((resolve, rejected) => {\n        let flag = props.form.isCheckNow(CARD.form_id) && props.cardTable.checkTableRequired(CARD.table_code);\n        if (flag) {\n            let data = props.createMasterChildData(CARD.page_code, CARD.form_id, CARD.table_code, 'cardTable');\n            props.validateToSave(data, () => {\n\n                let status = props.getUrlParam(STATUS.status);\n                ajax({\n                    url: REQUEST_URL.save,\n                    data,\n                    success: (res) => {\n                        let { success, data } = res;\n                        if (success) {\n                            toast({ color: STATUS.success, content: props.json['M0Z10301-000004'] });/* 国际化处理： 保存成功*/\n\n                            if (res.formulamsg && res.formulamsg instanceof Array && res.formulamsg.length > 0) {\n                                props.dealFormulamsg(res.formulamsg);\n                            }\n\n                            let id = null;\n                            if (res.data) {\n                                if (res.data.head && res.data.head[CARD.form_id]) {\n                                    id = res.data.head[CARD.form_id].rows[0].values[PRIMARY_KEY.head_id].value;\n                                    props.form.setAllFormValue({ [CARD.form_id]: res.data.head[CARD.form_id] });\n                                }\n                                if (res.data.body && res.data.body[CARD.table_code]) {\n                                    props.cardTable.setTableData(CARD.table_code, res.data.body[CARD.table_code]);\n                                }\n                            }\n\n                            props.setUrlParam({\n                                id,\n                                status: STATUS.browse\n                            });\n\n                            // 缓存\n                            if (status === STATUS.add) {\n                                addCache(id, data, CARD.form_id, DATASOURCE);\n                            } else {\n                                updateCache(PRIMARY_KEY.head_id, id, data, CARD.form_id, DATASOURCE);\n                            }\n\n                            setByStatus(props);\n\n                            resolve(true);\n                        }\n                    }\n                });\n\n            }, { [CARD.table_code]: 'cardTable' });\n        }\n    });\n}\n\n//卡片修改\nexport function cardUpdate(props) {\n    props.setUrlParam({ status: STATUS.edit });\n    setByStatus(props);\n    //修改时时赋值修改人，修改时间\n    let userName = window.parent.GETBUSINESSINFO().userName;\n    let userId = window.parent.GETBUSINESSINFO().userId;\n    let now = getNowDateTime();\n    props.form.setFormItemsValue(CARD.form_id, {\n        modifier: { value: userId, display: userName },\n        modifiedtime: { display: now, value: now }\n    });\n}\n\n//卡片修改\nexport function cardCopy(props) {\n    props.setUrlParam({ isCopy: true });\n    copyClear(props);\n    setByStatus(props);\n}\n\n//卡片删除\nexport function cardDelete(props) {\n    let pk = props.form.getFormItemsValue(CARD.form_id, PRIMARY_KEY.head_id).value || props.getUrlParam(PRIMARY_KEY.id);\n    let ts = props.form.getFormItemsValue(CARD.form_id, FIELD.ts) && props.form.getFormItemsValue(CARD.form_id, FIELD.ts).value;\n    let pkMapTs = new Map();\n    //主键与tsMap\n    if (pk && ts) {\n        pkMapTs.set(pk, ts);\n    }\n    let data = { pks: [pk], pkMapTs };\n    ajax({\n        url: REQUEST_URL.delete,\n        data,\n        success: (res) => {\n            if (res.success) {\n                toast({ color: STATUS.success, content: props.json['M0Z10301-000005'] });/* 国际化处理： 删除成功*/\n\n                // 获取下一条数据的id\n                let nextId = getNextId(pk, DATASOURCE);\n                //删除缓存\n                deleteCacheById(PRIMARY_KEY.head_id, pk, DATASOURCE);\n                let lastId = nextId || null;\n                props.setUrlParam({ status: STATUS.browse, id: lastId });\n                if (lastId) {\n                    getCardData(props, lastId);\n                } else {// 删除的是最后一个的操作\n                    clearAll(props);\n                    setByStatus(props);\n                }\n            }\n        }\n    });\n}\n\n/**\n * 卡片详情\n * @param {*} id         单据id\n * @param {*} isRefresh  是否刷新按钮，是的话不取缓存数据，直接调取接口，并addCache, 默认否\n */\nexport function getCardData(props, id, isRefresh = false, callBack) {\n    clearAll(props);\n    if (!isRefresh) {\n        let cardData = getCacheById(id, DATASOURCE);\n        if (cardData) {//有缓存\n            cardData.head && props.form.setAllFormValue({ [CARD.form_id]: cardData.head[CARD.form_id] });\n            //成本档案对照特殊处理 add by suqc\n            showHideColsCtrl(props, cardData.head[CARD.form_id]);\n            cardData.body && props.cardTable.setTableData(CARD.table_code, cardData.body[CARD.table_code]);\n            setByStatus(props);\n            return;\n        }\n    }\n    ajax({\n        url: REQUEST_URL.queryCard,\n        data: {\n            pk: id,\n            pagecode: CARD.page_code\n        },\n        success: (res) => {\n            let { success, data } = res;\n            if (success) {\n                if (data && data.head) {\n                    props.form.setAllFormValue({ [CARD.form_id]: data.head[CARD.form_id] });\n                    //成本档案对照特殊处理 add by suqc\n                    showHideColsCtrl(props, data.head[CARD.form_id]);\n                }\n                if (data && data.body) {\n                    //回显字段编码\n                    data.body[CARD.table_code].rows.forEach(item => {\n                        item.values.fieldcode.display = item.values.fieldcode.value;\n                    });\n                    props.cardTable.setTableData(CARD.table_code, data.body[CARD.table_code]);\n                }\n                // 更新缓存\n                updateCache(PRIMARY_KEY.head_id, id, data, CARD.form_id, DATASOURCE);\n                callBack && callBack(props);\n                setByStatus(props);\n            }\n        },\n        error: (res) => {\n            toast({ color: STATUS.danger, content: res.message });\n            clearAll(props);\n            setByStatus(props);\n        }\n    });\n}\n\nfunction showHideColsCtrl(props, head) {\n    if (head.rows && head.rows.length > 0) {\n        let idissys = head.rows[0].values.idissys.value;\n        let idissysbilltype = head.rows[0].values.idissysbilltype.value;\n        let meta = props.meta.getMeta();\n        meta[CARD.table_code].items.map((item, key) => {\n            if (item.attrcode == 'ifchange') {\n                if (idissys == 8 && idissysbilltype == '0001ZZZZ5C204CC569DD') {\n                    item.visible = false;\n                } else {\n                    item.visible = true;\n                }\n            }\n            return item;\n        });\n        props.meta.setMeta(meta);\n    }\n}\n\n//卡片取消\nexport function cardCancel(props) {\n    let id = props.getUrlParam(PRIMARY_KEY.id);\n    props.setUrlParam({ status: STATUS.browse });\n    if (id) { //有id切换编辑态\n        props.form.cancel(CARD.form_id);\n        props.cardTable.resetTableData(CARD.table_code);\n        getCardData(props, id);\n    } else { //没有id查缓存中最后一条数据\n        let currentLastId = getCurrentLastId(DATASOURCE);\n        let lastId = currentLastId || null;\n        props.setUrlParam({ id: lastId });\n        if (lastId) {\n            getCardData(props, lastId);\n        } else {\n            clearAll(props);\n            setByStatus(props);\n        }\n    }\n}\n\n//卡片刷新\nexport function cardRefresh(props) {\n    let id = props.getUrlParam(PRIMARY_KEY.id);\n    getCardData(props, id, true);\n}\n\n/**\n * 卡片分页\n * @param {*} props  页面内置对象\n * @param {*} pk    下一页的pk\n */\nexport function pageClick(props, id) {\n    props.setUrlParam({ status: STATUS.browse, id });\n    getCardData(props, id);\n}\n\n\n//卡片附件\nexport function cardAttachment(props) {\n    let billId = props.form.getFormItemsValue(CARD.form_id, PRIMARY_KEY.head_id) && props.form.getFormItemsValue(CARD.form_id, PRIMARY_KEY.head_id).value;\n    let billNo = props.form.getFormItemsValue(CARD.form_id, PRIMARY_KEY.bill_no) && props.form.getFormItemsValue(CARD.form_id, PRIMARY_KEY.bill_no).value;\n    this.setState({\n        showUploader: !this.state.showUploader,\n        billInfo: { billId, billNo }\n    });\n}\n\n//卡片单据追溯\nexport function cardBillTrack(props) {\n    let billId = props.form.getFormItemsValue(CARD.form_id, PRIMARY_KEY.head_id) && props.form.getFormItemsValue(CARD.form_id, PRIMARY_KEY.head_id).value;\n    this.setState({\n        showBillTrack: true,\n        billTrackBillId: billId,\n        billTrackBillType: BILL_TYPE_CODE\n    });\n}\n\n//卡片联查审批详情\nexport function cardLinkApprove(props) {\n    let billId = props.form.getFormItemsValue(CARD.form_id, PRIMARY_KEY.head_id) && props.form.getFormItemsValue(CARD.form_id, PRIMARY_KEY.head_id).value;\n    this.setState({\n        showApproveDetail: true,\n        billId\n    });\n}\n\n\n//卡片提交\nexport function cardCommit(props, data) {\n    if (!data) {\n        let pk = props.form.getFormItemsValue(CARD.form_id, PRIMARY_KEY.head_id) && props.form.getFormItemsValue(CARD.form_id, PRIMARY_KEY.head_id).value;\n        let ts = props.form.getFormItemsValue(CARD.form_id, FIELD.ts) && props.form.getFormItemsValue(CARD.form_id, FIELD.ts).value;\n        let pkMapTs = new Map();\n        //主键与tsMap\n        if (pk && ts) {\n            pkMapTs.set(pk, ts);\n        }\n        data = { pks: [pk], pkMapTs };\n    }\n    ajax({\n        url: REQUEST_URL.commit,\n        data,\n        success: (res) => {\n            if (res.success) { //成功\n                if (res.data && res.data.workflow && (res.data.workflow == 'approveflow' || res.data.workflow == 'workflow')) {\n                    this.setState({\n                        compositeData: res.data,\n                        compositeDisplay: true,\n                        curPk: data.pks\n                    });\n                } else {\n                    cardRefresh(props);\n                }\n            } else { //失败\n                toast({ color: STATUS.warning, content: props.json['M0Z10301-000015'] });/* 国际化处理： 提交失败*/\n            }\n        }\n    });\n}\n\n\n//卡片收回\nexport function cardUnCommit(props) {\n    let pk = props.form.getFormItemsValue(CARD.form_id, PRIMARY_KEY.head_id) && props.form.getFormItemsValue(CARD.form_id, PRIMARY_KEY.head_id).value;\n    let ts = props.form.getFormItemsValue(CARD.form_id, FIELD.ts) && props.form.getFormItemsValue(CARD.form_id, FIELD.ts).value;\n    let pkMapTs = new Map();\n    //主键与tsMap\n    if (pk && ts) {\n        pkMapTs.set(pk, ts);\n    }\n    let data = { pks: [pk], pkMapTs };\n    ajax({\n        url: REQUEST_URL.unCommit,\n        data,\n        success: (res) => {\n            if (res.success) { //成功\n                cardRefresh(props);\n            } else { //失败\n                toast({ color: STATUS.warning, content: props.json['M0Z10301-000017'] });/* 国际化处理： 收回失败*/\n            }\n        }\n    });\n}\n","import {cardCache} from 'nc-lightapp-front';\nimport {CARD, CARD_BUTTON, STATUS, FIELD, CARD_CACHE, PRIMARY_KEY} from '../../constant';\nimport {cardCreate, getCardData, copyClear} from './cardOperator';\nimport {bodyButtonClick} from './bodyButtonClick';\nimport {buttonVisibilityControl} from './buttonVisibilityControl';\nimport {afterHeadEvent} from './afterHeadEvent';\n\n/**\n * @description: 卡片模板渲染\n */\nexport function initTemplate(props) {\n    props.createUIDom({},\n        (data) => {\n            if (data) {\n                if (data.button) {\n                    let button = data.button;\n                    props.button.setButtons(button);\n                    buttonVisibilityControl(props);\n                }\n                if (data.template) {\n                    let meta = data.template;\n                    meta = modifierMeta.call(this, props, meta);\n                    props.meta.setMeta(meta, () => {\n                        let status = this.props.getUrlParam(STATUS.status);\n                        let id = this.props.getUrlParam(PRIMARY_KEY.id);\n                        if (status === STATUS.add) { //新增\n                            cardCreate(this.props);\n                        } else if (id) {\n                            getCardData(this.props, id, false, copyClear);\n                        }\n                    });\n                }\n                if (data.context && data.context.pk_org) {\n                    if (props.getUrlParam(STATUS.status) === STATUS.add) {\n                        //设置默认组织\n                        let {pk_org, org_Name} = data.context;\n                        props.form.setFormItemsValue(CARD.form_id, {\n                            [FIELD.org]: {value: pk_org, display: org_Name}\n                        });\n                        afterHeadEvent(props, CARD.form_id, FIELD.org, {\n                            display: org_Name,\n                            value: pk_org\n                        }, {display: null, value: null});\n                    }\n                    // 将组织信息缓存\n                    let {setDefData} = cardCache;\n                    setDefData(CARD_CACHE.key, CARD_CACHE.dataSource, data.context);\n                }\n                //表体统一参照过滤\n                /*\n                props.cardTable.setQueryCondition(CARD.table_code, {\n                        department: () => {\n                                return {\n                                        pk_org: props.form.getFormItemsValue(CARD.form_id, FIELD.org).value\n                                };\n                        }\n                });\n                */\n            }\n        }\n    );\n}\n\nfunction modifierMeta(props, meta) {\n    //表头参照过滤\n    meta[CARD.form_id].items.map(item => {\n        if (item.attrcode === FIELD.org) { //财务组织\n            item.queryCondition = () => ({\n                    funcode: props.getSearchParam('c')//appcode获取\n            });\n        }\n    });\n\n    //设置动态列展示 suqc    成本管理-收入数据采集 隐藏“是否转换”列\n    let idissys = this.props.getUrlParam(FIELD.idissys);//目标系统\n    let idissysbilltype = this.props.getUrlParam(FIELD.idissysbilltype);//目标系统单据类型\n    if (idissys == 8 && idissysbilltype == '0001ZZZZ5C204CC569DD') {//收入数据采集\n        meta[CARD.table_code].items.map((item, key) => {\n            if (item.attrcode == 'ifchange') {//隐藏“是否转换”列\n                item.visible = false;\n            }\n            return item;\n        });\n    }\n\n    \n    // for (let item of Object.keys(meta.gridrelation)) {\n    //     meta[item].items.push({\n    //         attrcode: 'opr',\n    //         label: this.state.json['M0Z10301-000006'],/* 国际化处理： 操作*/\n    //         itemtype: 'customer',\n    //         fixed: 'right',\n    //         className: 'table-opr',\n    //         visible: true,\n    //         width: 200,\n    //         render: (text, record, index) => {\n    //             let status = props.getUrlParam(STATUS.status);\n    //             let buttonAry = [];\n    //             if (status === STATUS.browse) { //浏览态\n    //                 buttonAry = [record.expandRowStatus ? CARD_BUTTON.fold : CARD_BUTTON.unfold];\n    //             } else { //编辑态\n    //                 buttonAry = this.state.isPaste ? [CARD_BUTTON.pasteHere] : [CARD_BUTTON.insertRow, CARD_BUTTON.delRow, CARD_BUTTON.copyRow];\n    //             }\n    //             return props.button.createOprationButton(buttonAry, {\n    //                 area: CARD.body_btn_code,\n    //                 buttonLimit: 4,\n    //                 onButtonClick: (props, key) => bodyButtonClick.call(this, props, key, text, record, index)\n    //             });\n    //         }\n    //     })\n    // }\n    return meta;\n}\n","import { promptBox } from 'nc-lightapp-front';\nimport { CARD, CARD_BUTTON, STATUS } from '../../constant';\nimport { cardBack, cardCreate, cardSave, cardUpdate, cardDelete, cardCancel, cardRefresh, cardCopy, cardAttachment, cardBillTrack, cardCommit, cardUnCommit, cardLinkApprove } from './cardOperator';\n\n/**\n* @description: 卡片页头部按钮操作\n* @param: isFromSide 是否来自侧拉区域\n* @param: id 当前按钮名\n*/\nexport function buttonClick(props, id, hotkey, isFromSide) {\n    switch (id) {\n        //返回\n        case CARD_BUTTON.back:\n            cardBack(props);\n            break;\n\n        //头部 新增\n        case CARD_BUTTON.create:\n            cardCreate(props);\n            break;\n\n        //头部 保存\n        case CARD_BUTTON.save:\n            cardSave({ ...props, json: this.state.json }).then(() => {\n                if (isFromSide) {\n                    props.cardTable.closeModel(CARD.table_code);\n                }\n                cardRefresh(props);\n            });\n            break;\n\n        //头部 保存新增\n        case CARD_BUTTON.saveAdd:\n            cardSave({ ...props, json: this.state.json }).then(flag => {\n                if (flag) {\n                    cardCreate(props);\n                }\n            });\n            break;\n\n        //头部 保存提交\n        case CARD_BUTTON.saveCommit:\n            cardSave({ ...props, json: this.state.json }).then(flag => {\n                if (flag) {\n                    cardCommit.call(this, { ...props, json: this.state.json });\n                }\n            });\n            break;\n\n        //头部 修改\n        case CARD_BUTTON.update:\n            cardUpdate(props);\n            break;\n\n        //头部 复制\n        case CARD_BUTTON.copy:\n            cardCopy(props);\n            break;\n\n        //头部 删除\n        case CARD_BUTTON.delete:\n            promptBox({\n                color: STATUS.warning,\n                title: this.state.json['M0Z10301-000000'],/* 国际化处理： 删除*/\n                content: this.state.json['M0Z10301-000001'],/* 国际化处理： 确定删除吗？*/\n                beSureBtnClick: () => {\n                    cardDelete({ ...props, json: this.state.json });\n                }\n            });\n            break;\n\n        // 头部 取消\n        case CARD_BUTTON.cancel:\n            promptBox({\n                color: STATUS.warning,\n                title: this.state.json['M0Z10301-000002'],/* 国际化处理： 取消*/\n                content: this.state.json['M0Z10301-000003'],/* 国际化处理： 是否确认要取消?*/\n                beSureBtnClick: () => {\n                    cardCancel({ ...props, json: this.state.json });\n                }\n            });\n            break;\n\n        //头部 刷新\n        case CARD_BUTTON.refresh:\n            cardRefresh({ ...props, json: this.state.json });\n            break;\n\n        //附件\n        case CARD_BUTTON.attachment:\n            cardAttachment.call(this, props);\n            break;\n\n        //单据追溯\n        case CARD_BUTTON.billTrack:\n            cardBillTrack.call(this, props);\n            break;\n\n        //审批详情\n        case CARD_BUTTON.approvalLink:\n            cardLinkApprove.call(this, props);\n            break;\n\n        //单据提交\n        case CARD_BUTTON.commit:\n            cardCommit.call(this, { ...props, json: this.state.json });\n            break;\n\n        //单据收回\n        case CARD_BUTTON.unCommit:\n            cardUnCommit({ ...props, json: this.state.json });\n            break;\n\n        default:\n            break;\n    }\n}","import {CARD} from \"../../constant\";\nimport { toast } from 'nc-lightapp-front';\n\n/**\n * @description: 表头编辑前事件\n * @param: moduleId 区域编码\n * @param: key 当前字段编码\n * @return: 布尔 true表示可编辑\n */\nexport function beforeHeadEvent(props, moduleId, key, value, data) {\n    return new Promise((resolve, reject) => {\n        // 目标系统单据类类型\n        if (key === 'idissysbilltype') {\n            let meta = props.meta.getMeta();\n            // 获取目标系统\n            let idissys=props.form.getFormItemsValue(CARD.form_id,\"idissys\").value;\n            if(!idissys){\n                toast({ content: '请先选择目标系统', color: 'warning' });\n                return;\n            }\n            meta[moduleId].items.find((item) => {\n                if (item.attrcode === 'idissysbilltype') {\n                    // 给参照类字段项目设置查询条件\n                    item.queryCondition = {\n                        idissys,\n                        // 复杂条件写扩展过滤器进行SQL处理（树形：\"TreeRefActionExt\" ，表形: \"GridRefActionExt\"）\n                        GridRefActionExt: 'nccloud.web.hpf.sumrulevo.refsqlbuilder.AllBillRefSqlBuilder',\n                    };\n                }\n            });\n            // 重新设置模板元数据\n            props.meta.setMeta(meta, () => {\n                // 异步调用，需要重新设置meta\n                resolve(true);\n            });\n        }\n        //中间表元数据\n        else if (key == 'midmetadata') {\n            let meta = props.meta.getMeta();\n            // 获取目标系统\n            let idissys=props.form.getFormItemsValue(CARD.form_id,\"idissys\").value;\n            if(!idissys){\n                toast({ content: '请先选择目标系统', color: 'warning' });\n                return;\n            }\n            let idissysbilltype=props.form.getFormItemsValue(\"card_head\",\"idissysbilltype\");\n            let idissysbilltype_pk=idissysbilltype.value;\n            if(!idissysbilltype||!idissysbilltype_pk){\n                toast({ content: '请先选择目标系统单据类型', color: 'warning' });\n                return;\n            }\n            meta[moduleId].items.find((item) => {\n                if (item.attrcode === 'midmetadata') {\n                    // 给参照类字段项目设置查询条件\n                    item.queryCondition = {\n                        idissys,\n                        idissysbilltype_pk,\n                        // 复杂条件写扩展过滤器进行SQL处理（树形：\"TreeRefActionExt\" ，表形: \"GridRefActionExt\"）\n                        GridRefActionExt: 'nccloud.web.hpf.sumrulevo.refsqlbuilder.MdEntityRefSqlBuilder',\n                    };\n                }\n            });\n            // 重新设置模板元数据\n            props.meta.setMeta(meta, () => {\n                // 异步调用，需要重新设置meta\n                resolve(true);\n            });\n        }\n        else {\n            resolve(true);\n        }\n    });\n}\n","/**\n * @description: 表体编辑前事件\n * @param: moduleId 区域编码\n * @param: key 当前字段编码\n * @return: 布尔 true表示可编辑\n */\nexport function beforeTableEvent(props, moduleId, key, value, index, record, status) {\n    return new Promise((resolve, reject)=>{\n        if (key === \"fieldcode\") {\n            let meta = props.meta.getMeta();\n            meta[moduleId].items.find((item) => {\n                if ('fieldcode' === item.attrcode) {\n                    // 获取目标系统\n                    let classid=props.form.getFormItemsValue(\"card_head\",\"midmetadata\").value;\n                    // 给参照类字段项目设置查询条件\n                    item.queryCondition = {\n                        classid:classid\n                        // // 复杂条件写扩展过滤器进行SQL处理（树形：\"TreeRefActionExt\" ，表形: \"GridRefActionExt\"）\n                        // GridRefActionExt: 'nccloud.web.hpf.sumrulevo.refsqlbuilder.MdEntityRefSqlBuilder',\n                    };\n                }\n            });\n            // 重新设置模板元数据\n            props.meta.setMeta(meta, () => {\n                // 异步调用，需要重新设置meta\n                resolve(true);\n            });\n        }\n        else {\n            resolve(true);\n        }\n    });\n\n}\n","import { editcfg } from '../../constant';\r\n\r\n\r\n/**\r\n * @description: 表体编辑后事件\r\n * @param: moduleId 区域编码\r\n * @param: key 当前字段编码\r\n */\r\nexport function afterTableEvent(props, moduleId, key, value, changedrows, index, record, type, method) {\r\n    \r\n    //字段编码参照赋值\r\n    if(key==\"fieldcode\"){\r\n        props.cardTable.setValByKeyAndIndex(moduleId, index, \"fieldid\", { value: value.refpk });\r\n        props.cardTable.setValByKeyAndIndex(moduleId, index, \"fieldname\", { value: value.refname });\r\n        props.cardTable.setValByKeyAndIndex(moduleId, index, \"fieldcode\", { value: value.refcode });\r\n        //成本管理部分单据项目不可编辑 add by mzq    \r\n        let idissysbilltype = props.getUrlParam('idissysbilltype');\r\n         \r\n        if (editcfg.get(idissysbilltype).indexOf(value.values.code.value) > -1) {\r\n            if(value.values.code.value==\"cydeptcode\"||value.values.code.value==\"cydeptname\"){\r\n                props.cardTable.setValByKeyAndIndex(moduleId, index, \"ifchange\", { value: true });             \r\n\r\n            }else{\r\n                props.cardTable.setValByKeyAndIndex(moduleId, index, \"ifchange\", { value: false });             \r\n\r\n            }\r\n            //props.cardTable.setValByKeyAndIndex(moduleId, index, \"ifchange\", { value: true });             \r\n            props.cardTable.setEditableByIndex('card_body', index, ['fieldcode', 'fieldname', 'ifchange'], false);\r\n\r\n            }\r\n          \r\n    }\r\n}\r\n","import { CARD, CARD_DISABLED_BUTTON } from \"../../constant\";\n\n//单选\nexport function bodySelectedEvent(props, moduleId, record, index, status) {\n    let checkedRows = props.cardTable.getCheckedRows(CARD.table_code);\n    if (checkedRows.length > 0) {\n        props.button.setButtonDisabled(CARD_DISABLED_BUTTON, false);\n    } else {\n        props.button.setButtonDisabled(CARD_DISABLED_BUTTON, true);\n    }\n}\n\n//全选\nexport function bodySelectedAllEvent(props, moduleId, status, length) {\n    props.button.setButtonDisabled(CARD_DISABLED_BUTTON, !(status && length > 0));\n}\n","import React, {Component} from 'react';\nimport {createPage, base, high} from 'nc-lightapp-front';\nimport {initTemplate} from './events/initTemplate';\nimport {buttonClick,getNowDateTime} from './events/buttonClick';\nimport {beforeHeadEvent} from './events/beforeHeadEvent';\nimport {beforeTableEvent} from './events/beforeTableEvent';\nimport {afterHeadEvent} from './events/afterHeadEvent';\nimport {afterTableEvent} from './events/afterTableEvent';\nimport {bodySelectedEvent, bodySelectedAllEvent} from './events/bodySelectedEvent';\nimport {MULTILANG, CARD, PRIMARY_KEY, CARD_BUTTON, DATASOURCE, STATUS, BILL_TYPE_CODE} from '../constant';\nimport {pageClick, cardCommit} from './events/cardOperator';\nimport {bodyButtonClick} from './events/bodyButtonClick';\n\n/**\n * @description: 卡片\n */\nconst {NCAffix,NCLoading} = base;\n\nclass Card extends Component {\n    constructor(props) {\n        super(props);\n        props.use.form(CARD.form_id,CARD.page_code);\n        this.state = {\n            json: {},\n            showUploader: false,\n            billInfo: {},\n            compositeData: null, //指派信息\n            compositeDisplay: false, //是否显示指派\n            curPk: null, //当前选中数据的pk\n            showApproveDetail: false, //是否显示审批详情\n            billId: null,\n            showLoading:false //是否显示遮罩\n        };\n    }\n\n    componentWillMount() {\n        // json： 多语json格式参数；\n        // status： 是否请求到json多语，可用来判断多语资源是否请求到并进行一些别的操作；\n        // inlt： 可用来进行占位符的一些操作\n        let callback = (json, status, inlt) => {\n            if (status) {\n                initTemplate.call(this, this.props); // 如模板内也有多语处理，平台推荐模板加载操作放于此处， 在取到json多语资源后用传参的方式传入intemplate模板函数中\n\n                // 保存json和inlt到页面state中并刷新页面\n                this.setState({json, inlt})\n            }\n        }\n        this.props.MultiInit.getMultiLang({moduleId: MULTILANG.moduleId, domainName: MULTILANG.domainName, callback});\n\n        // 关闭浏览器\n        window.onbeforeunload = () => {\n            let status = this.props.cardTable.getStatus(CARD.table_code);\n            if (status == STATUS.edit) {\n                return this.state.json['M0Z10301-000007'];/* 国际化处理： 当前单据未保存，您确认离开此页面？*/\n            }\n        };\n    }\n\n    componentDidMount() {\n\n    }\n\n    handlePageInfoChange = (props, id) => {\n        pageClick({...props, json: this.state.json}, id);\n    }\n\n    //获取列表肩部信息\n    getTableHead = () => (\n        <div className=\"shoulder-definition-area\">\n            <div className=\"definition-icons\">\n                {this.props.button.createButtonApp({\n                    area: CARD.shoulder_btn_code,\n                    onButtonClick: bodyButtonClick.bind(this),\n                    popContainer: document.querySelector('.header-button-area')\n                })}\n            </div>\n        </div>\n    );\n\n    //指派提交\n    getAssignUser = (value) => {\n        cardCommit({...this.props, json: this.state.json}, {\n            pks: this.state.curPk,\n            userObj: value\n        });\n        this.compositeTurnOff();\n    };\n\n    //关闭指派\n    compositeTurnOff = () => {\n        this.setState({\n            compositeData: null,\n            compositeDisplay: false\n        });\n    };\n\n    render() {\n        let {form, cardPagination, BillHeadInfo, cardTable} = this.props;\n        let {createCardPagination} = cardPagination;\n        let {createForm} = form;\n        let {createCardTable} = cardTable;\n        let {createBillHeadInfo} = BillHeadInfo;\n        let {NCUploader, BillTrack, ApprovalTrans, ApproveDetail} = high;\n        let status = this.props.getUrlParam(STATUS.status);\n        let id = this.props.getUrlParam(PRIMARY_KEY.id);\n        let billNo = this.props.form.getFormItemsValue(CARD.page_code, PRIMARY_KEY.bill_no);\n        return (\n            <div className=\"nc-bill-card\">\n                <div className=\"nc-bill-top-area\">\n                    <NCAffix>\n                        <div className=\"nc-bill-header-area\">\n                            <div>\n                                {createBillHeadInfo({\n                                    title: \"数据汇总规则\",//标题\n                                    billCode: billNo && billNo.value,//单据号\n                                    showBillCode: false,\n                                    backBtnClick: buttonClick.bind(this, this.props, CARD_BUTTON.back)\n                                })}\n                            </div>\n                            <div className=\"header-button-area\">\n                                {this.props.button.createButtonApp({\n                                    area: CARD.head_btn_code,\n                                    onButtonClick: buttonClick.bind(this)\n                                })}\n                            </div>\n                            {status == STATUS.browse && id &&\n                            <div className=\"header-cardPagination-area\" style={{float: 'right'}}>\n                                {createCardPagination({\n                                    dataSource: DATASOURCE,\n                                    pkname: PRIMARY_KEY.head_id,\n                                    handlePageInfoChange: this.handlePageInfoChange\n                                })}\n                            </div>\n                            }\n                        </div>\n                    </NCAffix>\n                    <div className=\"nc-bill-form-area\">\n                        {createForm(CARD.form_id, {\n                            onAfterEvent: afterHeadEvent.bind(this),\n                            onBeforeEvent: beforeHeadEvent\n                        })}\n                    </div>\n                </div>\n\n                <div className=\"nc-bill-bottom-area\">\n                    <div className=\"nc-bill-table-area\">\n                        {createCardTable(CARD.table_code, {\n                            tableHead: this.getTableHead.bind(this),\n                            showCheck: true,\n                            showIndex: false,\n                            onSelected: bodySelectedEvent,\n                            onSelectedAll: bodySelectedAllEvent,\n                            onBeforeEvent: beforeTableEvent,\n                            onAfterEvent: afterTableEvent,\n                            adaptionHeight: true,\n                            modelSave: buttonClick.bind(this, {\n                                ...this.props,\n                                json: this.state.json\n                            }, CARD_BUTTON.save, undefined, true),\n                        })}\n                    </div>\n                </div>\n\n                {/* 附件 */}\n                {this.state.showUploader && (\n                    <NCUploader\n                        placement={'bottom'}\n                        {...this.state.billInfo}\n                        onHide={() => {\n                            this.setState({\n                                showUploader: false\n                            });\n                        }}\n                    />\n                )}\n\n                {/*联查单据追溯*/}\n                {\n                    <BillTrack\n                        show={this.state.showBillTrack}\n                        close={() => {\n                            this.setState({showBillTrack: false});\n                        }}\n                        pk={this.state.billTrackBillId}\n                        type={this.state.billTrackBillType}\n                    />\n                }\n\n                {/* 指派 */}\n                {this.state.compositeDisplay && (\n                    <ApprovalTrans\n                        title={this.state.json['M0Z10301-000018']} /* 国际化处理： 指派*/\n                        data={this.state.compositeData}\n                        display={this.state.compositeDisplay}\n                        getResult={this.getAssignUser}\n                        cancel={this.compositeTurnOff}\n                    />\n                )}\n\n                {/*/!* 联查审批详情 *!/*/}\n                {/*{*/}\n                {/*    <ApproveDetail*/}\n                {/*        show={this.state.showApproveDetail}*/}\n                {/*        billtype={BILL_TYPE_CODE}*/}\n                {/*        billid={this.state.billId}*/}\n                {/*        close={() => {*/}\n                {/*            this.setState({*/}\n                {/*                showApproveDetail: false*/}\n                {/*            });*/}\n                {/*        }}*/}\n                {/*    />*/}\n                {/*}*/}\n\n                {/*自动填充字段时的遮罩*/}\n                <NCLoading fullScreen showBackDrop={true} show={this.state.showLoading} tip={\"加载元数据字段中，请稍后...\"} />\n            </div>\n        );\n    }\n}\n\nCard = createPage({\n    billinfo: {\n        billtype: 'card',\n        pagecode: CARD.page_code,\n        headcode: CARD.form_id,\n        bodycode: CARD.table_code\n    }\n})(Card);\nexport default Card;\n"],"names":["APPCODE","BILL_TYPE_CODE","MULTILANG","moduleId","domainName","LIST","page_title","page_code","search_id","table_id","head_btn_code","body_btn_code","CARD","form_id","table_code","table_edit_code","table_browse_code","shoulder_btn_code","DATASOURCE","SEARCH_CACHE","key","dataSource","CARD_CACHE","base_path","REQUEST_URL","save","delete","queryCard","queryList","queryListByPks","commit","unCommit","setInitDataBefore","setInitData","toCard","toList","queryColumn","print","LIST_BUTTON","create","linkGroup","attachment","approvalLink","billTrack","output","refresh","bodyUpdate","bodyDelete","bodyCommit","bodyUnCommit","copy","LIST_DISABLED_BUTTON","CARD_BUTTON","saveAdd","saveCommit","cancel","update","back","addRow","deleteRow","copyRows","pasteTail","pasteCancel","expand","insertRow","delRow","copyRow","fold","unfold","pasteHere","CARD_DISABLED_BUTTON","CARD_ADD_DISABLED_BUTTON","FIELD","org","billStatus","ts","idissys","idissysbilltype","PRIMARY_KEY","head_id","body_id","bill_no","id","STATUS","status","edit","browse","add","info","warning","success","danger","NOSTATE","NOPASS","PASSING","GOINGON","COMMIT","COLS_EDITABLE","sr_xm","editcfg","Map","ajax","cardCache","toast","promptBox","listCreate","props","pushTo","pagecode","listRefresh","getDefData","queryInfo","listSearch","listEdit","pk","listCopy","isCopy","listCommit","data","select","checkSelected","valid","selectDatas","pks","map","item","values","value","pkMapTs","set","url","res","workflow","setState","compositeData","compositeDisplay","curPk","PromptMessage","call","listUnCommit","color","content","json","isCheckOne","table","getCheckedRows","length","listAttachment","billId","billNo","showUploader","state","billInfo","listBillTrack","showBillTrack","billTrackBillId","billTrackBillType","listLinkApprove","showApproveDetail","listHeadDelete","allTableData","getAllTableData","allPks","rows","deleteRowIndexArr","findIndex","v","filter","deleteCacheId","deleteTableRowsByIndex","listBodyDelete","index","pageInfo","getTablePageInfo","search","getQueryInfo","pageCode","button","setDisabled","formulamsg","Array","dealFormulamsg","setAllTableData","setDefData","pageInfoClick","config","msg","total","successNum","failNum","errMsgArr","errormessages","title","TextArr","groupOperation","duration","groupOperationMsg","handleDoubleClick","record","scene","getUrlParam","initDataBefore","getSearchValByField","firstvalue","pk_org","split","initData","orgName","noFooter","noCancelBtn","beSureBtnName","cancelBtnName","hasCloseBtn","beSureBtnClick","closeByClickBackDrop","flag_clear","onPrint","allData","allpks","funcode","appcode","nodekey","oids","outputType","onOutput","ids","refs","printOutput","open","buttonVisibilityControl","buttons","getButtons","isBrowse","form","getFormItemsValue","btnObj","showBtn","editBtn","unionBtn","parentButtons","allBtns","commonBtn","includes","setButtonVisible","setButtonDisabled","cardTable","setStatus","has","indexs","getAllRows","forEach","get","indexOf","fieldcode","push","setEditableByIndex","setFormStatus","deepClone","bodyButtonClick","text","rowno","getRowNo","display","toString","checkedRows","checkedIndex","delRowsByIndex","openTabModel","toggleTabRowView","pasteRow","copyControl","lastIndex","getNumberOfRows","insertRowsAfterIndex","getPasteRows","selectAllRows","maxRowNo","row","parseInt","flag","setAllCheckboxAble","isPaste","selectRowCopy","selectArr","selected","afterHeadEvent","oldValue","resMetaAfterPkorgEdit","setFormItemsValue","midmetadata","clearTable","cancelBtnClick","showLoading","tableid","defaulttablename","hideTableCol","gridData","fieldid","fieldname","error","console","log","delRowByRowId","rowid","meta","getMeta","items","attrcode","refcode","visible","setMeta","updateCache","addCache","getNextId","deleteCacheById","getCacheById","getCurrentLastId","cardBack","cardCreate","setUrlParam","initMetaByPkorg","clearAll","setByStatus","context","org_Name","userName","window","parent","GETBUSINESSINFO","userId","now","getNowDateTime","creator","creationtime","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","BillHeadInfo","setBillHeadInfoVisible","showBackBtn","showBillCode","billCode","orgVersionView","showflag","obj","setFormItemsVisible","EmptyAllFormValue","setTableData","copyClear","setColValue","num","updateArray","i","setRowStatusByIndexs","cardSave","Promise","resolve","rejected","isCheckNow","checkTableRequired","createMasterChildData","validateToSave","head","setAllFormValue","body","cardUpdate","modifier","modifiedtime","cardCopy","cardDelete","nextId","lastId","getCardData","isRefresh","callBack","cardData","showHideColsCtrl","message","cardCancel","resetTableData","currentLastId","cardRefresh","pageClick","cardAttachment","cardBillTrack","cardLinkApprove","cardCommit","cardUnCommit","initTemplate","createUIDom","setButtons","template","modifierMeta","queryCondition","getSearchParam","buttonClick","hotkey","isFromSide","then","closeModel","beforeHeadEvent","reject","find","GridRefActionExt","idissysbilltype_pk","beforeTableEvent","classid","afterTableEvent","changedrows","type","method","setValByKeyAndIndex","refpk","refname","code","bodySelectedEvent","bodySelectedAllEvent","React","Component","createPage","base","high","NCAffix","NCLoading","Card","componentWillMount","callback","inlt","MultiInit","getMultiLang","onbeforeunload","getStatus","componentDidMount","render","cardPagination","createCardPagination","createForm","createCardTable","createBillHeadInfo","NCUploader","BillTrack","ApprovalTrans","ApproveDetail","div","className","backBtnClick","bind","createButtonApp","area","onButtonClick","style","float","pkname","handlePageInfoChange","onAfterEvent","onBeforeEvent","tableHead","getTableHead","showCheck","showIndex","onSelected","onSelectedAll","adaptionHeight","modelSave","undefined","placement","onHide","show","close","getResult","getAssignUser","compositeTurnOff","fullScreen","showBackDrop","tip","constructor","popContainer","document","querySelector","userObj","use","billinfo","billtype","headcode","bodycode"],"sourceRoot":""}
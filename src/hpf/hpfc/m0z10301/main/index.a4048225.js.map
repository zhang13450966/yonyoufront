{"version":3,"file":"hpf/hpfc/m0z10301/main/index.a4048225.js","mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;;;;;;;;;;;ACV8G;AAE9G;;AAEA,GACO,SAASO,wBAAwBC,KAAK,EAAE;IAE3C;;;;;;;;;;;;;;;;IAgBA,GAEA,IAAIC,UAAUD,MAAME,MAAM,CAACC,UAAU;IACrC,IAAI,CAACF,WAAWA,QAAQG,MAAM,IAAI,GAAG;QACjC,gBAAgB;QAChB;IACJ,CAAC;IACD,IAAIC,SAASL,MAAMM,WAAW,CAACZ,sBAAa;IAC5C,IAAIa,KAAKP,MAAMM,WAAW,CAACX,uBAAc;IACzC,IAAIa,WAAWH,WAAWX,sBAAa;IACvC,MAAM;IACN,IAAIgB,aAAaV,MAAMW,IAAI,CAACC,iBAAiB,CAACpB,qBAAY,EAAEI,yBAAgB,KAAKI,MAAMW,IAAI,CAACC,iBAAiB,CAACpB,qBAAY,EAAEI,yBAAgB,EAAEkB,KAAK;IAEnJ,IAAIC,SAAS,CAAC;IACd,SAAS;IACT,IAAIC,UAAU,EAAE;IAChB,SAAS;IACT,IAAIC,UAAU;QAACxB,yBAAgB;QAAEA,4BAAmB;QAAEA,+BAAsB;QAAEA,2BAAkB;QAChGA,2BAAkB;QAAEA,8BAAqB;QAAEA,6BAAoB;QAC/DA,8BAAqB;QAAEA,2BAAkB;QAAEA,4BAAmB;QAAEA,8BAAqB;QAAEA,2BAAkB;KAAC;IAC1G,MAAM;IACN,IAAIqC,WAAW;QAACrC,8BAAqB;QAAEA,iCAAwB;KAAC;IAChE,wBAAwB;IACxB,IAAIwC,gBAAgBhC,QAAQiC,GAAG,CAACC,CAAAA,OAAQA,KAAKC,GAAG;IAChD,gBAAgB;IAChB,IAAIC,UAAU;WAAIJ;WAAkBhB;WAAYa;QAAUrC,2BAAkB;QAAEA,2BAAkB;QAAEA,8BAAkB;QAAEA,yBAAgB;QAAEA,2BAAkB;KAAC;IAC3J,IAAI,CAACe,UAAU;QAAE,KAAK;QAElBQ,UAAUC;IAEd,OAAO;QAAE,KAAK;QACV,IAAI,CAACV,IAAI;YAAC,aAAa;YAEnBS,UAAU;gBAACvB,2BAAkB;aAAC;QAElC,OAAO;YAAC,OAAO;YACX,IAAIkD,YAAY;gBAAClD,2BAAkB;gBAAEA,yBAAgB;gBAAEA,+BAAsB;mBAAKqC;gBAAUrC,0BAAiB;gBAAEA,2BAAkB;gBAAEA,4BAAmB;gBAAEA,yBAAgB;gBAAEA,2BAAkB;aAAC;YAC7L,OAAQiB;gBACJ,KAAKhB,uBAAc;oBACfsB,UAAU;wBAACvB,2BAAkB;wBAAEA,8BAAkB;wBAAEA,2BAAkB;2BAAKkD;qBAAU;oBACpF,KAAM;gBACV,KAAKjD,uBAAc;gBACnB,KAAKA,sBAAa;gBAClB,KAAKA,uBAAc;oBACfsB,UAAU;wBAACvB,6BAAoB;2BAAKkD;qBAAU;oBAC9C,KAAM;gBACV;oBACI3B,UAAU;2BAAI2B;qBAAU;oBACxB,KAAM;YACd;QACJ,CAAC;IACL,CAAC;IACD,KAAK,IAAIR,QAAQE,QAAS;QACtBtB,MAAM,CAACoB,KAAK,GAAGnB,QAAQuC,QAAQ,CAACpB;IACpC;IACA,UAAU;IACVnC,MAAME,MAAM,CAACsD,gBAAgB,CAACzC;IAC9B,QAAQ;IACR,6DAA6D;IAC7Df,MAAME,MAAM,CAACuD,iBAAiB,CAAChE,yBAAgB,EAAE,KAAK;IACtDO,MAAME,MAAM,CAACuD,iBAAiB,CAAChE,2BAAkB,EAAE,KAAK;IACxDO,MAAME,MAAM,CAACuD,iBAAiB,CAAChE,8BAAqB,EAAE,KAAK;IAC3D,QAAQ;IACRO,MAAM0D,SAAS,CAACC,SAAS,CAACnE,wBAAe,EAAEgB,WAAWd,sBAAa,GAAGA,oBAAW;IACjF,IAAG,CAACc,UAAS;QACT,IAAIsD,UAAU9D,MAAMM,WAAW,CAAC;QAAW,MAAM;QACjD,IAAIyD,kBAAkB/D,MAAMM,WAAW,CAAC;QAAmB,UAAU;QACrE,IAAIwD,WAAW,GAAG;YACd,IAAIhE,oBAAW,CAACiE,kBAAkB;gBAC9B,IAAIE,SAAS,EAAE;gBACf,IAAIF,mBAAmB,QAAQ;oBAAC,YAAY;oBACxC/D,MAAM0D,SAAS,CAACQ,UAAU,CAAC,aAAaC,OAAO,CAAC,CAAChC,MAAMiC,QAAU;wBAC7D,IAAItE,oBAAW,CAACiE,iBAAiBO,OAAO,CAACnC,KAAKoC,MAAM,CAACC,SAAS,CAAC1D,KAAK,IAAI,CAAC,GAAG;4BACxEmD,OAAOQ,IAAI,CAACL;wBAChB,CAAC;oBACL;oBACApE,MAAM0D,SAAS,CAACgB,kBAAkB,CAAC,aAAaT,QAAQ;wBAAC;wBAAa;wBAAa;wBAAY;qBAAU,EAAE,KAAK;gBACpH,OAAO;oBACHjE,MAAM0D,SAAS,CAACQ,UAAU,CAAC,aAAaC,OAAO,CAAC,CAAChC,MAAMiC,QAAU;wBAC7D,IAAItE,oBAAW,CAACiE,iBAAiBO,OAAO,CAACnC,KAAKoC,MAAM,CAACC,SAAS,CAAC1D,KAAK,IAAI,CAAC,GAAG;4BACxEmD,OAAOQ,IAAI,CAACL;wBAChB,CAAC;oBACL;oBACApE,MAAM0D,SAAS,CAACgB,kBAAkB,CAAC,aAAaT,QAAQ;wBAAC;qBAAW,EAAE,KAAK;gBAC/E,CAAC;YACL,CAAC;QACL,CAAC;IACL,CAAC;IACDjE,MAAMW,IAAI,CAACgE,aAAa,CAACnF,qBAAY,EAAEa;AAC3C,CAAC;;;;;AChH6C;AACgD;AAE9F;;;;;AAKA,GACO,SAASwE,gBAAgB7E,KAAK,EAAEoC,GAAG,EAAE0C,IAAI,EAAEC,MAAM,EAAEX,KAAK,EAAE;IAC7D,IAAIY;IACJ,OAAQ5C;QACJ,MAAM;QACN,KAAK3C,2BAAkB;YACnB,QAAQ;YACRuF,QAAMC,SAASjF;YACfA,MAAM0D,SAAS,CAACpC,MAAM,CAAC9B,wBAAe,EAAC,CAAC,GAAE;gBAACwF,OAAM;oBAACE,SAAQF,MAAMG,QAAQ;oBAAGrE,OAAMkE,MAAMG,QAAQ;gBAAE;YAAC;YAClG,KAAM;QAEV,MAAM;QACN,KAAK1F,8BAAqB;YACtB,IAAI2F,cAAcpF,MAAM0D,SAAS,CAAC2B,cAAc,CAAC7F,wBAAe;YAChE,IAAI8F,eAAeF,eAAeA,YAAYlD,GAAG,CAACC,CAAAA,OAAQA,KAAKiC,KAAK;YACpE,IAAIgB,YAAYhF,MAAM,GAAG,GAAG;gBACxBJ,MAAM0D,SAAS,CAAC6B,cAAc,CAAC/F,wBAAe,EAAE8F;gBAChDtF,MAAME,MAAM,CAACuD,iBAAiB,CAAC5D,6BAAoBA,EAAE,IAAI;YAC7D,CAAC;YACD,KAAM;QAEV,MAAM;QACN,KAAKJ,2BAAkB;YACnBO,MAAM0D,SAAS,CAAC8B,YAAY,CAAChG,wBAAe,EAAEE,oBAAW,EAAEqF,QAAQX;YACnE,KAAM;QAEV,WAAW;QACX,KAAK3E,2BAAkB;QACvB,MAAM;QACN,KAAKA,yBAAgB;YACjBO,MAAM0D,SAAS,CAAC+B,gBAAgB,CAACjG,wBAAe,EAAEuF;YAClD,KAAM;QAEV,MAAM;QACN,KAAKtF,8BAAqB;YACtB,QAAQ;YACRuF,QAAMC,SAASjF;YACfA,MAAM0D,SAAS,CAACpC,MAAM,CAAC9B,wBAAe,EAAE4E,OAAM;gBAACY,OAAM;oBAACE,SAAQF,MAAMG,QAAQ;oBAAGrE,OAAMkE,MAAMG,QAAQ;gBAAE;YAAC;YACtG,KAAM;QAEV,MAAM;QACN,KAAK1F,2BAAkB;YACnBO,MAAM0D,SAAS,CAAC6B,cAAc,CAAC/F,wBAAe,EAAE4E;YAChD,KAAM;QAEV,OAAO;QACP,KAAK3E,4BAAmB;YACpBO,MAAM0D,SAAS,CAACgC,QAAQ,CAAClG,wBAAe,EAAE4E,OAAO;gBAACzE,4BAAmB;aAAC;YACtE,KAAM;QAEV,OAAO;QACP,KAAKF,6BAAoB;YACrBmG,YAAYC,IAAI,CAAC,IAAI,EAAE7F,OAAO,IAAI;YAClC,KAAM;QAEV,QAAQ;QACR,KAAKP,gCAAuB;YACxBmG,YAAYC,IAAI,CAAC,IAAI,EAAE7F,OAAO,KAAK;YACnC,KAAM;QAEV,SAAS;QACT,KAAKP,8BAAqB;YACtB,IAAIuG,YAAYhG,MAAM0D,SAAS,CAACuC,eAAe,CAACzG,wBAAe;YAC/DQ,MAAM0D,SAAS,CAACwC,oBAAoB,CAAC1G,wBAAe,EAAE2G,aAAanG,QAAQgG;YAC3EJ,YAAYC,IAAI,CAAC,IAAI,EAAE7F,OAAO,KAAK;YACnCA,MAAM0D,SAAS,CAAC0C,aAAa,CAAC5G,wBAAe,EAAE,KAAK;YACpD,KAAM;QAEV,QAAQ;QACR,KAAKC,8BAAqB;YACtBO,MAAM0D,SAAS,CAACwC,oBAAoB,CAAC1G,wBAAe,EAAE2G,aAAanG,QAAQoE;YAC3EwB,YAAYC,IAAI,CAAC,IAAI,EAAE7F,OAAO,KAAK;YACnCA,MAAM0D,SAAS,CAAC0C,aAAa,CAAC5G,wBAAe,EAAE,KAAK;YACpD,KAAM;IACd;IACA,IAAI,CAAC;QAACC,2BAAkB;QAAEA,yBAAgB;KAAC,CAAC8D,QAAQ,CAACnB,MAAM;QACvDpC,MAAM0D,SAAS,CAACC,SAAS,CAACnE,wBAAe,EAAEE,oBAAW;IAC1D,CAAC;AACL,CAAC;AAED,MAAM;AACC,SAASuF,SAASjF,KAAK,EAAC;IAC3B,QAAQ;IACR,IAAIqG,OAAKrG,MAAM0D,SAAS,CAACQ,UAAU,CAAC1E,wBAAe;IACnD,IAAI8G,WAAS;IACbD,KAAKlC,OAAO,CAACoC,CAAAA,MAAK;QACd,IAAGA,IAAIhC,MAAM,CAACS,KAAK,CAAClE,KAAK,IAAE0F,SAASD,IAAIhC,MAAM,CAACS,KAAK,CAAClE,KAAK,IAAEwF,UAAS;YACjEA,WAASE,SAASD,IAAIhC,MAAM,CAACS,KAAK,CAAClE,KAAK;QAC5C,CAAC;IACL;IACAwF,YAAU;IACV,OAAOA;AACX,CAAC;AAED,UAAU;AACV,SAASV,YAAY5F,KAAK,EAAEyG,IAAI,EAAE;IAC9B,UAAU;IACVzG,MAAME,MAAM,CAACsD,gBAAgB,CAAC;QAC1B,CAAC/D,2BAAkB,CAAC,EAAE,CAACgH;QACvB,CAAChH,8BAAqB,CAAC,EAAE,CAACgH;QAC1B,CAAChH,6BAAoB,CAAC,EAAE,CAACgH;QAEzB,CAAChH,8BAAqB,CAAC,EAAEgH;QACzB,CAAChH,gCAAuB,CAAC,EAAEgH;IAC/B;IACAzG,MAAM0D,SAAS,CAACgD,kBAAkB,CAAClH,wBAAe,EAAE,CAACiH;IACrD,IAAI,CAACE,QAAQ,CAAC;QAAEC,SAASH;IAAK;AAClC;AAEA;;;;CAIC,GACD,SAASN,aAAanG,KAAK,EAAE;IACzB,IAAIoF,cAAcpF,MAAM0D,SAAS,CAAC2B,cAAc,CAAC7F,wBAAe;IAChE,IAAIqH,gBAAgBjC,yCAASA,CAACQ;IAC9B,IAAI0B,YAAYD,cAAc3E,GAAG,CAACC,CAAAA,OAAQ;QACtCA,KAAK4E,IAAI,CAACC,QAAQ,GAAG,KAAK;QAC1B7E,KAAK4E,IAAI,CAACxC,MAAM,CAAC5E,4BAAmB,CAAC,GAAGwC,KAAK4E,IAAI,CAACxC,MAAM,CAAC5E,4BAAmB,CAAC,CAACmB,KAAK,GAAG,IAAI,GAAG,IAAI;QACjGqB,KAAK4E,IAAI,CAACxC,MAAM,CAAC5E,4BAAmB,CAAC,GAAGwC,KAAK4E,IAAI,CAACxC,MAAM,CAAC5E,4BAAmB,CAAC,CAACmB,KAAK,GAAG,IAAI,GAAG,IAAI;QACjG,OAAOqB,KAAK4E,IAAI;IACpB;IACA,OAAOD;AACX;;;ACpImH;AAC3D;AACL;AACR;AAE3C;;;;CAIC,GACM,SAASU,eAAexH,KAAK,EAAEyH,QAAQ,EAAErF,GAAG,EAAEtB,KAAK,EAAE4G,QAAQ,EAAE;IAClE,IAAItF,QAAQxC,kBAAS,EAAE;QACnBI,MAAM4H,qBAAqB;QAAI,oBAAoB;QACnD5H,MAAME,MAAM,CAACuD,iBAAiB,CAACyD,iCAAwBA,EAAE,KAAK;QAAE,SAAS;QACzElH,MAAM0D,SAAS,CAACgD,kBAAkB,CAAClH,wBAAe,EAAE,IAAI;QAExD,IAAGkI,SAAS5G,KAAK,IAAEA,MAAMA,KAAK,IAAE4G,SAAS5G,KAAK,EAAC;YAC3C,gBAAgB;YAChBwG,yCAASA,CAAC;gBACNO,OAAO;gBACPC,OAAO;gBACPC,SAAS,CAAC,qBAAqB,CAAC;gBAChCC,UAAU,KAAK;gBACfC,aAAa,KAAK;gBAClBC,eAAe;gBACfC,eAAe;gBACfC,aAAa,KAAK;gBAClBC,gBAAgB,IAAI;oBAChB,wBAAwB;oBACxBrI,MAAMW,IAAI,CAAC2H,iBAAiB,CAAC9I,qBAAY,EAAE;wBACvCsE,SAAQ;4BAAChD,OAAM,IAAI;4BAACoE,SAAQ,IAAI;wBAAA;wBAChCnB,iBAAgB;4BAACjD,OAAM,IAAI;4BAACoE,SAAQ,IAAI;wBAAA;wBACxCqD,aAAY;4BAACzH,OAAM,IAAI;4BAACoE,SAAQ,IAAI;wBAAA;oBACxC;oBACA,QAAQ;oBACRsD,WAAWxI;gBACf;gBACAyI,gBAAe,IAAI;oBACf,eAAe;oBACfzI,MAAMW,IAAI,CAAC2H,iBAAiB,CAAC9I,qBAAY,EAAE;wBACvCkJ,QAAO;4BAAC5H,OAAM4G,SAAS5G,KAAK;4BAACoE,SAAQwC,SAASxC,OAAO;wBAAA;oBACzD;gBACJ;gBACAyD,sBAAsB,KAAK;YAC/B;QACJ,CAAC;IACL,CAAC;IACD,IAAGvG,OAAK,WAAU;QACd,IAAGtB,MAAMA,KAAK,IAAEA,MAAMA,KAAK,IAAE4G,SAAS5G,KAAK,EAAC;YACxC,mBAAmB;YACnBd,MAAMW,IAAI,CAAC2H,iBAAiB,CAAC9I,qBAAY,EAAE;gBACvCuE,iBAAgB;oBAACjD,OAAM,IAAI;oBAACoE,SAAQ,IAAI;gBAAA;gBACxCqD,aAAY;oBAACzH,OAAM,IAAI;oBAACoE,SAAQ,IAAI;gBAAA;YACxC;YACA,QAAQ;YACRsD,WAAWxI;QACf,CAAC;IACL,CAAC;IACD,IAAGoC,OAAK,mBAAkB;QACtB,IAAGtB,MAAMA,KAAK,IAAEA,MAAMA,KAAK,IAAE4G,SAAS5G,KAAK,EAAC;YACxC,UAAU;YACVd,MAAMW,IAAI,CAAC2H,iBAAiB,CAAC9I,qBAAY,EAAE;gBACvC+I,aAAY;oBAACzH,OAAM,IAAI;oBAACoE,SAAQ,IAAI;gBAAA;YACxC;YACA,QAAQ;YACRsD,WAAWxI;QACf,CAAC;IACL,CAAC;IACD,IAAGoC,OAAK,eAAc;QAClB,IAAGtB,MAAMA,KAAK,IAAEA,MAAMA,KAAK,IAAE4G,SAAS5G,KAAK,EAAC;YACxC,MAAM;YACN,IAAI,CAAC6F,QAAQ,CAAC;gBAACiC,aAAa,IAAI;YAAA;YAEhC,IAAIC,UAAQ/H,MAAMyD,MAAM,CAACuE,gBAAgB,CAAChI,KAAK;YAC/C,qBAAqB;YACrBiI,aAAa/I;YACb,QAAQ;YACRwI,WAAWxI;YACX,YAAY;YACZuH,oCAAIA,CAAC;gBACDyB,KAAK7B,gCAAuB;gBAC5BJ,MAAM;oBAAC8B,SAAQA;gBAAO;gBACtBK,SAAS,CAACC,MAAQ;oBACd,IAAInE,QAAMC,QAAQA,CAACjF;oBACnB,IAAIoJ,WAAS,EAAE;oBACfD,IAAIpC,IAAI,CAAC5C,OAAO,CAAC4C,CAAAA,OAAM;wBACnBqC,SAAS3E,IAAI,CAAC;4BACVF,QAAO;gCACHS,OAAM;oCAACE,SAAQF;oCAAMlE,OAAMkE,MAAMG,QAAQ;gCAAE;gCAAG,IAAI;gCAClDkE,SAAQ;oCAACnE,SAAQ6B,KAAKsC,OAAO;oCAACvI,OAAMiG,KAAKsC,OAAO;gCAAA;gCAAG,MAAM;gCACzD7E,WAAU;oCAACU,SAAQ6B,KAAKvC,SAAS;oCAAC1D,OAAMiG,KAAKvC,SAAS;gCAAA;gCAAG,MAAM;gCAC/D8E,WAAU;oCAACpE,SAAQ6B,KAAKuC,SAAS;oCAACxI,OAAMiG,KAAKuC,SAAS;gCAAA;4BAC1D;wBACJ;wBAFgE,MAAM;wBAGtEtE,SAAO;oBACX;oBACAhF,MAAM0D,SAAS,CAACwC,oBAAoB,CAAC1G,wBAAe,EAAC4J,UAAS,CAAC;oBAC/D,MAAM;oBACN,IAAI,CAACzC,QAAQ,CAAC;wBAACiC,aAAa,KAAK;oBAAA;gBACrC;gBACAW,OAAM,CAACA,QAAQ;oBACXC,QAAQC,GAAG,CAACF;oBACZ,MAAM;oBACN,IAAI,CAAC5C,QAAQ,CAAC;wBAACiC,aAAa,KAAK;oBAAA;gBACrC;YACJ;QACJ,CAAC;IACL,CAAC;AACL,CAAC;AAED;;GAEG,GACH,SAASJ,WAAWxI,KAAK,EAAC;IACtB,IAAIqG,OAAKrG,MAAM0D,SAAS,CAACQ,UAAU,CAAC1E,wBAAe;IACnD6G,KAAKlC,OAAO,CAACoC,CAAAA,MAAK;QACdvG,MAAM0D,SAAS,CAACgG,aAAa,CAAClK,wBAAe,EAAE+G,IAAIoD,KAAK;IAC5D;AACJ;AAEA,SAASZ,aAAa/I,KAAK,EAAC;IACxB,IAAI,CAAC8D,SAASC,gBAAgB,GAAG/D,MAAMW,IAAI,CAACC,iBAAiB,CAACpB,qBAAY,EAAE;QAACI,sBAAa;QAAEA,8BAAqB;KAAC;IAAE,MAAM;IAC1H,IAAIgK,OAAO5J,MAAM4J,IAAI,CAACC,OAAO;IAC7BD,IAAI,CAACpK,wBAAe,CAAC,CAACsK,KAAK,CAAC5H,GAAG,CAAC,CAACC,MAAMC,MAAQ;QAC3C,IAAGD,KAAK4H,QAAQ,IAAI,YAAW;YAC3B,IAAGjG,QAAQhD,KAAK,IAAI,OAAOiD,gBAAgBiG,OAAO,IAAI,QAAO;gBACzD7H,KAAK8H,OAAO,GAAG,KAAK;YACxB,OAAO;gBACH9H,KAAK8H,OAAO,GAAG,IAAI;YACvB,CAAC;QACL,CAAC;QACD,OAAO9H;IACX;IACAnC,MAAM4J,IAAI,CAACM,OAAO,CAACN;AACvB;;;ACtI2D;AAYnC;AAC4C;AAClB;AAElD,IAAI,EAAEW,YAAW,EAAEC,SAAQ,EAAEC,UAAS,EAAEC,gBAAe,EAAEC,aAAY,EAAEC,iBAAgB,EAAE,GAAGT,qCAASA;AAErG,MAAM;AACC,SAASU,SAAS7K,KAAK,EAAE;IAC5BA,MAAM8K,MAAM,CAAC3D,2BAAkB,EAAE,CAAC;AACtC,CAAC;AAGD,MAAM;AACC,SAAS6D,WAAWhL,KAAK,EAAE;IAC9BA,MAAMiL,WAAW,CAAC;QAAE5K,QAAQX,mBAAU;IAAC;IACvC,yBAAyB;IACzBM,MAAMmL,eAAe;IACrBnL,MAAME,MAAM,CAACuD,iBAAiB,CAACyD,iCAAwBA,EAAE,IAAI;IAC7DlH,MAAM0D,SAAS,CAACgD,kBAAkB,CAAClH,wBAAe,EAAE,KAAK;IACzD4L,SAASpL;IACTqL,YAAYrL;IAEZ,IAAI,EAAEsL,WAAU,EAAE,GAAGnB,qCAASA;IAC9B,IAAIoB,UAAUD,WAAWjB,uBAAc,EAAEA,8BAAqB;IAC9D,IAAIkB,SAAS;QACT,IAAI,EAAE7C,OAAM,EAAE+C,SAAQ,EAAE,GAAGF;QAC3BvL,MAAMW,IAAI,CAAC2H,iBAAiB,CAAC9I,qBAAY,EAAE;YACvC,CAACI,kBAAS,CAAC,EAAE;gBAAEkB,OAAO4H;gBAAQxD,SAASuG;YAAS;QACpD;QACAjE,cAAcA,CAACxH,OAAOR,qBAAY,EAAEI,kBAAS,EAAE;YAAEsF,SAASuG;YAAU3K,OAAO4H;QAAO,GAAG;YACjFxD,SAAS,IAAI;YACbpE,OAAO,IAAI;QACf;IACJ,CAAC;IACD,eAAe;IACf,IAAI4K,WAAWC,OAAOC,MAAM,CAACC,eAAe,GAAGH,QAAQ;IACvD,IAAII,SAASH,OAAOC,MAAM,CAACC,eAAe,GAAGC,MAAM;IACnD,IAAIC,MAAMC;IACVhM,MAAMW,IAAI,CAAC2H,iBAAiB,CAAC9I,qBAAY,EAAE;QACvCyM,SAAS;YAAEnL,OAAOgL;YAAQ5G,SAASwG;QAAS;QAC5CQ,cAAc;YAAEhH,SAAS6G;YAAKjL,OAAOiL;QAAI;IAC7C;AACJ,CAAC;AAED;;GAEG,GACI,SAASC,iBAAiB;IAC7B,IAAID,MAAM,IAAII;IACd,OAAO,CAAC,EAAEJ,IAAIK,WAAW,GAAG,CAAC,EAAE,IAAKC,QAAQ,KAAK,IAAK,KAAK,CAAC,CAAC,EAAEN,IAAIM,QAAQ,KAAK,EAAE,CAAC,GAAGN,IAAIM,QAAQ,KAAK,CAAC,CAAC,CAAC,EAAEN,IAAIO,OAAO,KAAK,KAAK,CAAC,CAAC,EAAEP,IAAIO,OAAO,GAAG,CAAC,GAAGP,IAAIO,OAAO,EAAE,CAAC,CAAC,EAAEP,IAAIQ,QAAQ,KAAK,KAAK,CAAC,CAAC,EAAER,IAAIQ,QAAQ,GAAG,CAAC,GAAGR,IAAIQ,QAAQ,EAAE,CAAC,CAAC,EAAER,IAAIS,UAAU,KAAK,KAAK,CAAC,CAAC,EAAET,IAAIS,UAAU,GAAG,CAAC,GAAGT,IAAIS,UAAU,EAAE,CAAC,CAAC,EAAET,IAAIU,UAAU,KAAK,KAAK,CAAC,CAAC,EAAEV,IAAIU,UAAU,GAAG,CAAC,GAAGV,IAAIU,UAAU,EAAE,CAAC,CAAC;AACnX,CAAC;AAED;;;CAGC,GACD,SAASpB,YAAYrL,KAAK,EAAE;IACxBD,uBAAuBA,CAACC;IACxB,IAAIK,SAASL,MAAMM,WAAW,CAACZ,sBAAa;IAC5C,QAAQ;IACRM,MAAM0M,YAAY,CAACC,sBAAsB,CAAC;QACtCC,aAAavM,WAAWX,sBAAa;QACrCmN,cAAc,KAAK;QACnBC,UAAU9M,MAAMW,IAAI,CAACC,iBAAiB,CAACpB,qBAAY,EAAEG,4BAAmB,KAAKK,MAAMW,IAAI,CAACC,iBAAiB,CAACpB,qBAAY,EAAEG,4BAAmB,EAAEmB,KAAK;IACtJ;IACA,IAAIT,WAAWX,mBAAU,EAAE;QACvBM,MAAM4H,qBAAqB;IAC/B,CAAC;AACL;AAFuC,oBAAoB;AAI3D;;;;CAIC,GACD,SAASoF,eAAehN,KAAK,EAAE;IAC3B,IAAIK,SAASL,MAAMM,WAAW,CAACZ,OAAOW,MAAM;IAC5C,mBAAmB;IACnB,IAAI4M,WAAW5M,UAAUX,OAAOe,MAAM;IACtC,IAAIyM,MAAM,CAAC;IACXA,GAAG,CAACtN,MAAM+H,GAAG,CAAC,GAAG,CAACsF;IAClBjN,MAAMW,IAAI,CAACwM,mBAAmB,CAAC3N,KAAKqB,OAAO,EAAEqM;AACjD;AAEA,UAAU;AACV,SAAS9B,SAASpL,KAAK,EAAE;IACrBA,MAAMW,IAAI,CAACyM,iBAAiB,CAAC5N,qBAAY;IACzCQ,MAAM0D,SAAS,CAAC2J,YAAY,CAAC7N,wBAAe,EAAE;QAAE6G,MAAM,EAAE;IAAC;AAC7D;AAEA,SAAS;AACF,SAASiH,UAAUtN,KAAK,EAAE;IAC7B,IAAIA,MAAMM,WAAW,CAAC,WAAW;QAC7BN,MAAMW,IAAI,CAAC2H,iBAAiB,CAAC9I,qBAAY,EAAE;YACvC,CAACG,4BAAmB,CAAC,EAAE;gBAAEmB,OAAO,IAAI;gBAAEoE,SAAS,IAAI;YAAC;YACpD,CAACvF,4BAAmB,CAAC,EAAE;gBAAEmB,OAAO,IAAI;gBAAEoE,SAAS,IAAI;YAAC;YACpD,CAACtF,yBAAgB,CAAC,EAAE;gBAAEkB,OAAOpB,uBAAc;gBAAEwF,SAAS;YAAK;QAE/D;QACAlF,MAAM0D,SAAS,CAAC6J,WAAW,CAAC/N,wBAAe,EAAEG,4BAAmB,EAAE;YAAEmB,OAAO,IAAI;YAAEoE,SAAS,IAAI;QAAC;QAC/FlF,MAAM0D,SAAS,CAAC6J,WAAW,CAAC/N,wBAAe,EAAEG,4BAAmB,EAAE;YAAEmB,OAAO,IAAI;YAAEoE,SAAS,IAAI;QAAC;QAE/F,IAAIsI,MAAMxN,MAAM0D,SAAS,CAACuC,eAAe,CAACzG,wBAAe,EAAE,KAAK;QAChE,IAAIiO,cAAc,EAAE;QACpB,IAAK,IAAIC,IAAI,GAAGA,IAAIF,KAAKE,IAAK;YAC1BD,YAAYhJ,IAAI,CAAC;gBACbL,OAAOsJ;gBACPrN,QAAQ;YACZ;QACJ;QAFoB,KAAK;QAGzBL,MAAM0D,SAAS,CAACiK,oBAAoB,CAACnO,wBAAe,EAAEiO;QAEtDzN,MAAMiL,WAAW,CAAC;YACd1K,IAAI,IAAI;YACRqN,QAAQ,KAAK;YACbvN,QAAQX,mBAAU;QACtB;IACJ,CAAC;AACL,CAAC;AAED,MAAM;AACC,SAASmO,SAAS7N,KAAK,EAAE;IAC5B,OAAO,IAAI8N,QAAQ,CAACC,SAASC,WAAa;QACtC,IAAIvH,OAAOzG,MAAMW,IAAI,CAACsN,UAAU,CAACzO,qBAAY,KAAKQ,MAAM0D,SAAS,CAACwK,kBAAkB,CAAC1O,wBAAe;QACpG,IAAIiH,MAAM;YACN,IAAIM,OAAO/G,MAAMmO,qBAAqB,CAAC3O,uBAAc,EAAEA,qBAAY,EAAEA,wBAAe,EAAE;YACtFQ,MAAMqO,cAAc,CAACtH,MAAM,IAAM;gBAE7B,IAAI1G,SAASL,MAAMM,WAAW,CAACZ,sBAAa;gBAC5C6H,oCAAIA,CAAC;oBACDyB,KAAK7B,yBAAgB;oBACrBJ;oBACAmC,SAAS,CAACC,MAAQ;wBACd,IAAI,EAAED,QAAO,EAAEnC,KAAI,EAAE,GAAGoC;wBACxB,IAAID,SAAS;4BACTkB,qCAAKA,CAAC;gCAAEvC,OAAOnI,uBAAc;gCAAEqI,SAAS/H,MAAMsO,IAAI,CAAC,kBAAkB;4BAAC;4BAAG,cAAc,GAEvF,IAAInF,IAAIoF,UAAU,IAAIpF,IAAIoF,UAAU,YAAYC,SAASrF,IAAIoF,UAAU,CAACnO,MAAM,GAAG,GAAG;gCAChFJ,MAAMyO,cAAc,CAACtF,IAAIoF,UAAU;4BACvC,CAAC;4BAED,IAAIhO,KAAK,IAAI;4BACb,IAAI4I,IAAIpC,IAAI,EAAE;gCACV,IAAIoC,IAAIpC,IAAI,CAAC2H,IAAI,IAAIvF,IAAIpC,IAAI,CAAC2H,IAAI,CAAClP,qBAAY,CAAC,EAAE;oCAC9Ce,KAAK4I,IAAIpC,IAAI,CAAC2H,IAAI,CAAClP,qBAAY,CAAC,CAAC6G,IAAI,CAAC,EAAE,CAAC9B,MAAM,CAAC5E,4BAAmB,CAAC,CAACmB,KAAK;oCAC1Ed,MAAMW,IAAI,CAACgO,eAAe,CAAC;wCAAE,CAACnP,qBAAY,CAAC,EAAE2J,IAAIpC,IAAI,CAAC2H,IAAI,CAAClP,qBAAY,CAAC;oCAAC;gCAC7E,CAAC;gCACD,IAAI2J,IAAIpC,IAAI,CAAC6H,IAAI,IAAIzF,IAAIpC,IAAI,CAAC6H,IAAI,CAACpP,wBAAe,CAAC,EAAE;oCACjDQ,MAAM0D,SAAS,CAAC2J,YAAY,CAAC7N,wBAAe,EAAE2J,IAAIpC,IAAI,CAAC6H,IAAI,CAACpP,wBAAe,CAAC;gCAChF,CAAC;4BACL,CAAC;4BAEDQ,MAAMiL,WAAW,CAAC;gCACd1K;gCACAF,QAAQX,sBAAa;4BACzB;4BAEA,KAAK;4BACL,IAAIW,WAAWX,mBAAU,EAAE;gCACvB8K,SAASjK,IAAIwG,MAAMvH,qBAAY,EAAE4H,mBAAUA;4BAC/C,OAAO;gCACHmD,YAAY5K,4BAAmB,EAAEY,IAAIwG,MAAMvH,qBAAY,EAAE4H,mBAAUA;4BACvE,CAAC;4BAEDiE,YAAYrL;4BAEZ+N,QAAQ,IAAI;wBAChB,CAAC;oBACL;gBACJ;YAEJ,GAAG;gBAAE,CAACvO,wBAAe,CAAC,EAAE;YAAY;QACxC,CAAC;IACL;AACJ,CAAC;AAED,MAAM;AACC,SAASqP,WAAW7O,KAAK,EAAE;IAC9BA,MAAMiL,WAAW,CAAC;QAAE5K,QAAQX,oBAAW;IAAC;IACxC2L,YAAYrL;IACZ,gBAAgB;IAChB,IAAI0L,WAAWC,OAAOC,MAAM,CAACC,eAAe,GAAGH,QAAQ;IACvD,IAAII,SAASH,OAAOC,MAAM,CAACC,eAAe,GAAGC,MAAM;IACnD,IAAIC,MAAMC;IACVhM,MAAMW,IAAI,CAAC2H,iBAAiB,CAAC9I,qBAAY,EAAE;QACvCsP,UAAU;YAAEhO,OAAOgL;YAAQ5G,SAASwG;QAAS;QAC7CqD,cAAc;YAAE7J,SAAS6G;YAAKjL,OAAOiL;QAAI;IAC7C;AACJ,CAAC;AAED,MAAM;AACC,SAASiD,SAAShP,KAAK,EAAE;IAC5BA,MAAMiL,WAAW,CAAC;QAAE2C,QAAQ,IAAI;IAAC;IACjCN,UAAUtN;IACVqL,YAAYrL;AAChB,CAAC;AAED,MAAM;AACC,SAASiP,WAAWjP,KAAK,EAAE;IAC9B,IAAIkP,KAAKlP,MAAMW,IAAI,CAACC,iBAAiB,CAACpB,qBAAY,EAAEG,4BAAmB,EAAEmB,KAAK,IAAId,MAAMM,WAAW,CAACX,uBAAc;IAClH,IAAIwP,KAAKnP,MAAMW,IAAI,CAACC,iBAAiB,CAACpB,qBAAY,EAAEI,iBAAQ,KAAKI,MAAMW,IAAI,CAACC,iBAAiB,CAACpB,qBAAY,EAAEI,iBAAQ,EAAEkB,KAAK;IAC3H,IAAIsO,UAAU,IAAIC;IAClB,UAAU;IACV,IAAIH,MAAMC,IAAI;QACVC,QAAQE,GAAG,CAACJ,IAAIC;IACpB,CAAC;IACD,IAAIpI,OAAO;QAAEwI,KAAK;YAACL;SAAG;QAAEE;IAAQ;IAChC7H,oCAAIA,CAAC;QACDyB,KAAK7B,8BAAkB;QACvBJ;QACAmC,SAAS,CAACC,MAAQ;YACd,IAAIA,IAAID,OAAO,EAAE;gBACbkB,qCAAKA,CAAC;oBAAEvC,OAAOnI,uBAAc;oBAAEqI,SAAS/H,MAAMsO,IAAI,CAAC,kBAAkB;gBAAC;gBAAG,cAAc,GAEvF,aAAa;gBACb,IAAIkB,SAAS/E,UAAUyE,IAAI9H,mBAAUA;gBACrC,MAAM;gBACNsD,gBAAgB/K,4BAAmB,EAAEuP,IAAI9H,mBAAUA;gBACnD,IAAIqI,SAASD,UAAU,IAAI;gBAC3BxP,MAAMiL,WAAW,CAAC;oBAAE5K,QAAQX,sBAAa;oBAAEa,IAAIkP;gBAAO;gBACtD,IAAIA,QAAQ;oBACRC,YAAY1P,OAAOyP;gBACvB,OAAO;oBAAC,cAAc;oBAClBrE,SAASpL;oBACTqL,YAAYrL;gBAChB,CAAC;YACL,CAAC;QACL;IACJ;AACJ,CAAC;AAED;;;;CAIC,GACM,SAAS0P,YAAY1P,KAAK,EAAEO,EAAE,EAAEoP,YAAY,KAAK,EAAEC,QAAQ,EAAE;IAChExE,SAASpL;IACT,IAAI,CAAC2P,WAAW;QACZ,IAAIE,WAAWlF,aAAapK,IAAI6G,mBAAUA;QAC1C,IAAIyI,UAAU;YAAC,KAAK;YAChBA,SAASnB,IAAI,IAAI1O,MAAMW,IAAI,CAACgO,eAAe,CAAC;gBAAE,CAACnP,qBAAY,CAAC,EAAEqQ,SAASnB,IAAI,CAAClP,qBAAY,CAAC;YAAC;YAC1F,wBAAwB;YACxBsQ,iBAAiB9P,OAAO6P,SAASnB,IAAI,CAAClP,qBAAY,CAAC;YACnDqQ,SAASjB,IAAI,IAAI5O,MAAM0D,SAAS,CAAC2J,YAAY,CAAC7N,wBAAe,EAAEqQ,SAASjB,IAAI,CAACpP,wBAAe,CAAC;YAC7F6L,YAAYrL;YACZ;QACJ,CAAC;IACL,CAAC;IACDuH,oCAAIA,CAAC;QACDyB,KAAK7B,8BAAqB;QAC1BJ,MAAM;YACFmI,IAAI3O;YACJyP,UAAUxQ,uBAAc;QAC5B;QACA0J,SAAS,CAACC,MAAQ;YACd,IAAI,EAAED,QAAO,EAAEnC,KAAI,EAAE,GAAGoC;YACxB,IAAID,SAAS;gBACT,IAAInC,QAAQA,KAAK2H,IAAI,EAAE;oBACnB1O,MAAMW,IAAI,CAACgO,eAAe,CAAC;wBAAE,CAACnP,qBAAY,CAAC,EAAEuH,KAAK2H,IAAI,CAAClP,qBAAY,CAAC;oBAAC;oBACrE,wBAAwB;oBACxBsQ,iBAAiB9P,OAAO+G,KAAK2H,IAAI,CAAClP,qBAAY,CAAC;gBACnD,CAAC;gBACD,IAAIuH,QAAQA,KAAK6H,IAAI,EAAE;oBACnB,QAAQ;oBACR7H,KAAK6H,IAAI,CAACpP,wBAAe,CAAC,CAAC6G,IAAI,CAAClC,OAAO,CAAChC,CAAAA,OAAQ;wBAC5CA,KAAKoC,MAAM,CAACC,SAAS,CAACU,OAAO,GAAG/C,KAAKoC,MAAM,CAACC,SAAS,CAAC1D,KAAK;oBAC/D;oBACAd,MAAM0D,SAAS,CAAC2J,YAAY,CAAC7N,wBAAe,EAAEuH,KAAK6H,IAAI,CAACpP,wBAAe,CAAC;gBAC5E,CAAC;gBACD,OAAO;gBACP+K,YAAY5K,4BAAmB,EAAEY,IAAIwG,MAAMvH,qBAAY,EAAE4H,mBAAUA;gBACnEwI,YAAYA,SAAS5P;gBACrBqL,YAAYrL;YAChB,CAAC;QACL;QACAuJ,OAAO,CAACJ,MAAQ;YACZiB,qCAAKA,CAAC;gBAAEvC,OAAOnI,sBAAa;gBAAEqI,SAASoB,IAAI+G,OAAO;YAAC;YACnD9E,SAASpL;YACTqL,YAAYrL;QAChB;IACJ;AACJ,CAAC;AAED,SAAS8P,iBAAiB9P,KAAK,EAAE0O,IAAI,EAAE;IACnC,IAAIA,KAAKrI,IAAI,IAAIqI,KAAKrI,IAAI,CAACjG,MAAM,GAAG,GAAG;QACnC,IAAI0D,UAAU4K,KAAKrI,IAAI,CAAC,EAAE,CAAC9B,MAAM,CAACT,OAAO,CAAChD,KAAK;QAC/C,IAAIiD,kBAAkB2K,KAAKrI,IAAI,CAAC,EAAE,CAAC9B,MAAM,CAACR,eAAe,CAACjD,KAAK;QAC/D,IAAI8I,OAAO5J,MAAM4J,IAAI,CAACC,OAAO;QAC7BD,IAAI,CAACpK,wBAAe,CAAC,CAACsK,KAAK,CAAC5H,GAAG,CAAC,CAACC,MAAMC,MAAQ;YAC3C,IAAID,KAAK4H,QAAQ,IAAI,YAAY;gBAC7B,IAAIjG,WAAW,KAAKC,mBAAmB,wBAAwB;oBAC3D5B,KAAK8H,OAAO,GAAG,KAAK;gBACxB,OAAO;oBACH9H,KAAK8H,OAAO,GAAG,IAAI;gBACvB,CAAC;YACL,CAAC;YACD,OAAO9H;QACX;QACAnC,MAAM4J,IAAI,CAACM,OAAO,CAACN;IACvB,CAAC;AACL;AAEA,MAAM;AACC,SAASuG,WAAWnQ,KAAK,EAAE;IAC9B,IAAIO,KAAKP,MAAMM,WAAW,CAACX,uBAAc;IACzCK,MAAMiL,WAAW,CAAC;QAAE5K,QAAQX,sBAAa;IAAC;IAC1C,IAAIa,IAAI;QAAE,UAAU;QAChBP,MAAMW,IAAI,CAACU,MAAM,CAAC7B,qBAAY;QAC9BQ,MAAM0D,SAAS,CAAC0M,cAAc,CAAC5Q,wBAAe;QAC9CkQ,YAAY1P,OAAOO;IACvB,OAAO;QAAE,gBAAgB;QACrB,IAAI8P,gBAAgBzF,iBAAiBxD,mBAAUA;QAC/C,IAAIqI,SAASY,iBAAiB,IAAI;QAClCrQ,MAAMiL,WAAW,CAAC;YAAE1K,IAAIkP;QAAO;QAC/B,IAAIA,QAAQ;YACRC,YAAY1P,OAAOyP;QACvB,OAAO;YACHrE,SAASpL;YACTqL,YAAYrL;QAChB,CAAC;IACL,CAAC;AACL,CAAC;AAED,MAAM;AACC,SAASsQ,YAAYtQ,KAAK,EAAE;IAC/B,IAAIO,KAAKP,MAAMM,WAAW,CAACX,uBAAc;IACzC+P,YAAY1P,OAAOO,IAAI,IAAI;AAC/B,CAAC;AAED;;;;CAIC,GACM,SAASgQ,UAAUvQ,KAAK,EAAEO,EAAE,EAAE;IACjCP,MAAMiL,WAAW,CAAC;QAAE5K,QAAQX,sBAAa;QAAEa;IAAG;IAC9CmP,YAAY1P,OAAOO;AACvB,CAAC;AAGD,MAAM;AACC,SAASiQ,eAAexQ,KAAK,EAAE;IAClC,IAAIyQ,SAASzQ,MAAMW,IAAI,CAACC,iBAAiB,CAACpB,qBAAY,EAAEG,4BAAmB,KAAKK,MAAMW,IAAI,CAACC,iBAAiB,CAACpB,qBAAY,EAAEG,4BAAmB,EAAEmB,KAAK;IACrJ,IAAI4P,SAAS1Q,MAAMW,IAAI,CAACC,iBAAiB,CAACpB,qBAAY,EAAEG,4BAAmB,KAAKK,MAAMW,IAAI,CAACC,iBAAiB,CAACpB,qBAAY,EAAEG,4BAAmB,EAAEmB,KAAK;IACrJ,IAAI,CAAC6F,QAAQ,CAAC;QACVgK,cAAc,CAAC,IAAI,CAACC,KAAK,CAACD,YAAY;QACtCE,UAAU;YAAEJ;YAAQC;QAAO;IAC/B;AACJ,CAAC;AAED,QAAQ;AACD,SAASI,cAAc9Q,KAAK,EAAE;IACjC,IAAIyQ,SAASzQ,MAAMW,IAAI,CAACC,iBAAiB,CAACpB,qBAAY,EAAEG,4BAAmB,KAAKK,MAAMW,IAAI,CAACC,iBAAiB,CAACpB,qBAAY,EAAEG,4BAAmB,EAAEmB,KAAK;IACrJ,IAAI,CAAC6F,QAAQ,CAAC;QACVoK,eAAe,IAAI;QACnBC,iBAAiBP;QACjBQ,mBAAmB3G,uBAAcA;IACrC;AACJ,CAAC;AAED,UAAU;AACH,SAAS4G,gBAAgBlR,KAAK,EAAE;IACnC,IAAIyQ,SAASzQ,MAAMW,IAAI,CAACC,iBAAiB,CAACpB,qBAAY,EAAEG,4BAAmB,KAAKK,MAAMW,IAAI,CAACC,iBAAiB,CAACpB,qBAAY,EAAEG,4BAAmB,EAAEmB,KAAK;IACrJ,IAAI,CAAC6F,QAAQ,CAAC;QACVwK,mBAAmB,IAAI;QACvBV;IACJ;AACJ,CAAC;AAGD,MAAM;AACC,SAASW,WAAWpR,KAAK,EAAE+G,IAAI,EAAE;IACpC,IAAI,CAACA,MAAM;QACP,IAAImI,KAAKlP,MAAMW,IAAI,CAACC,iBAAiB,CAACpB,qBAAY,EAAEG,4BAAmB,KAAKK,MAAMW,IAAI,CAACC,iBAAiB,CAACpB,qBAAY,EAAEG,4BAAmB,EAAEmB,KAAK;QACjJ,IAAIqO,KAAKnP,MAAMW,IAAI,CAACC,iBAAiB,CAACpB,qBAAY,EAAEI,iBAAQ,KAAKI,MAAMW,IAAI,CAACC,iBAAiB,CAACpB,qBAAY,EAAEI,iBAAQ,EAAEkB,KAAK;QAC3H,IAAIsO,UAAU,IAAIC;QAClB,UAAU;QACV,IAAIH,MAAMC,IAAI;YACVC,QAAQE,GAAG,CAACJ,IAAIC;QACpB,CAAC;QACDpI,OAAO;YAAEwI,KAAK;gBAACL;aAAG;YAAEE;QAAQ;IAChC,CAAC;IACD7H,oCAAIA,CAAC;QACDyB,KAAK7B,2BAAkB;QACvBJ;QACAmC,SAAS,CAACC,MAAQ;YACd,IAAIA,IAAID,OAAO,EAAE;gBAAE,IAAI;gBACnB,IAAIC,IAAIpC,IAAI,IAAIoC,IAAIpC,IAAI,CAACsK,QAAQ,IAAKlI,CAAAA,IAAIpC,IAAI,CAACsK,QAAQ,IAAI,iBAAiBlI,IAAIpC,IAAI,CAACsK,QAAQ,IAAI,UAAS,GAAI;oBAC1G,IAAI,CAAC1K,QAAQ,CAAC;wBACV2K,eAAenI,IAAIpC,IAAI;wBACvBwK,kBAAkB,IAAI;wBACtBC,OAAOzK,KAAKwI,GAAG;oBACnB;gBACJ,OAAO;oBACHe,YAAYtQ;gBAChB,CAAC;YACL,OAAO;gBAAE,IAAI;gBACToK,qCAAKA,CAAC;oBAAEvC,OAAOnI,uBAAc;oBAAEqI,SAAS/H,MAAMsO,IAAI,CAAC,kBAAkB;gBAAC;YAC1E,CAAC;QACL;IACJ;AACJ,CAAC;AAJwF,cAAc,GAOvG,MAAM;AACC,SAASoD,aAAa1R,KAAK,EAAE;IAChC,IAAIkP,KAAKlP,MAAMW,IAAI,CAACC,iBAAiB,CAACpB,qBAAY,EAAEG,4BAAmB,KAAKK,MAAMW,IAAI,CAACC,iBAAiB,CAACpB,qBAAY,EAAEG,4BAAmB,EAAEmB,KAAK;IACjJ,IAAIqO,KAAKnP,MAAMW,IAAI,CAACC,iBAAiB,CAACpB,qBAAY,EAAEI,iBAAQ,KAAKI,MAAMW,IAAI,CAACC,iBAAiB,CAACpB,qBAAY,EAAEI,iBAAQ,EAAEkB,KAAK;IAC3H,IAAIsO,UAAU,IAAIC;IAClB,UAAU;IACV,IAAIH,MAAMC,IAAI;QACVC,QAAQE,GAAG,CAACJ,IAAIC;IACpB,CAAC;IACD,IAAIpI,OAAO;QAAEwI,KAAK;YAACL;SAAG;QAAEE;IAAQ;IAChC7H,oCAAIA,CAAC;QACDyB,KAAK7B,6BAAoB;QACzBJ;QACAmC,SAAS,CAACC,MAAQ;YACd,IAAIA,IAAID,OAAO,EAAE;gBAAE,IAAI;gBACnBoH,YAAYtQ;YAChB,OAAO;gBAAE,IAAI;gBACToK,qCAAKA,CAAC;oBAAEvC,OAAOnI,uBAAc;oBAAEqI,SAAS/H,MAAMsO,IAAI,CAAC,kBAAkB;gBAAC;YAC1E,CAAC;QACL;IACJ;AACJ,CAAC,CAJwF,cAAc;;;AClb3D;AAC6C;AACvB;AAChB;AACgB;AAClB;AAEhD;;CAEC,GACM,SAASqD,aAAa3R,KAAK,EAAE;IAChCA,MAAM4R,WAAW,CAAC,CAAC,GACf,CAAC7K,OAAS;QACN,IAAIA,MAAM;YACN,IAAIA,KAAK7G,MAAM,EAAE;gBACb,IAAIA,SAAS6G,KAAK7G,MAAM;gBACxBF,MAAME,MAAM,CAAC2R,UAAU,CAAC3R;gBACxBH,uBAAuBA,CAACC;YAC5B,CAAC;YACD,IAAI+G,KAAK+K,QAAQ,EAAE;gBACf,IAAIlI,OAAO7C,KAAK+K,QAAQ;gBACxBlI,OAAOmI,aAAalM,IAAI,CAAC,IAAI,EAAE7F,OAAO4J;gBACtC5J,MAAM4J,IAAI,CAACM,OAAO,CAACN,MAAM,IAAM;oBAC3B,IAAIvJ,SAAS,IAAI,CAACL,KAAK,CAACM,WAAW,CAACZ,sBAAa;oBACjD,IAAIa,KAAK,IAAI,CAACP,KAAK,CAACM,WAAW,CAACX,uBAAc;oBAC9C,IAAIU,WAAWX,mBAAU,EAAE;wBAAE,IAAI;wBAC7BsL,UAAUA,CAAC,IAAI,CAAChL,KAAK;oBACzB,OAAO,IAAIO,IAAI;wBACXmP,WAAWA,CAAC,IAAI,CAAC1P,KAAK,EAAEO,IAAI,KAAK,EAAE+M,SAASA;oBAChD,CAAC;gBACL;YACJ,CAAC;YACD,IAAIvG,KAAKwE,OAAO,IAAIxE,KAAKwE,OAAO,CAAC7C,MAAM,EAAE;gBACrC,IAAI1I,MAAMM,WAAW,CAACZ,sBAAa,MAAMA,mBAAU,EAAE;oBACjD,QAAQ;oBACR,IAAI,EAACgJ,OAAM,EAAE+C,SAAQ,EAAC,GAAG1E,KAAKwE,OAAO;oBACrCvL,MAAMW,IAAI,CAAC2H,iBAAiB,CAAC9I,qBAAY,EAAE;wBACvC,CAACI,kBAAS,CAAC,EAAE;4BAACkB,OAAO4H;4BAAQxD,SAASuG;wBAAQ;oBAClD;oBACAjE,cAAcA,CAACxH,OAAOR,qBAAY,EAAEI,kBAAS,EAAE;wBAC3CsF,SAASuG;wBACT3K,OAAO4H;oBACX,GAAG;wBAACxD,SAAS,IAAI;wBAAEpE,OAAO,IAAI;oBAAA;gBAClC,CAAC;gBACD,UAAU;gBACV,IAAI,EAACkR,WAAU,EAAC,GAAG7H,qCAASA;gBAC5B6H,WAAW3H,uBAAc,EAAEA,8BAAqB,EAAEtD,KAAKwE,OAAO;YAClE,CAAC;QAWL,CAAC;IACL;AAER,CAAC;AAbe,UAAU;AACV;;;;;;;;gBAQA,GAMhB,SAASwG,aAAa/R,KAAK,EAAE4J,IAAI,EAAE;IAC/B,QAAQ;IACRA,IAAI,CAACpK,qBAAY,CAAC,CAACsK,KAAK,CAAC5H,GAAG,CAACC,CAAAA,OAAQ;QACjC,IAAIA,KAAK4H,QAAQ,KAAKnK,kBAAS,EAAE;YAAE,MAAM;YACrCuC,KAAK8P,cAAc,GAAG,IAAO;oBACrBC,SAASlS,MAAMmS,cAAc,CAAC;gBACtC;QACJ,CAAC;IACL;IAHkD,WAAW;IAK7D,uCAAuC;IACvC,IAAIrO,UAAU,IAAI,CAAC9D,KAAK,CAACM,WAAW,CAACV,sBAAa;IAAE,MAAM;IAC1D,IAAImE,kBAAkB,IAAI,CAAC/D,KAAK,CAACM,WAAW,CAACV,8BAAqB;IAAE,UAAU;IAC9E,IAAIkE,WAAW,KAAKC,mBAAmB,wBAAwB;QAAC,QAAQ;QACpE6F,IAAI,CAACpK,wBAAe,CAAC,CAACsK,KAAK,CAAC5H,GAAG,CAAC,CAACC,MAAMC,MAAQ;YAC3C,IAAID,KAAK4H,QAAQ,IAAI,YAAY;gBAAC,WAAW;gBACzC5H,KAAK8H,OAAO,GAAG,KAAK;YACxB,CAAC;YACD,OAAO9H;QACX;IACJ,CAAC;IAGD,qDAAqD;IACrD,8BAA8B;IAC9B,2BAA2B;IAC3B,mEAAmE;IACnE,gCAAgC;IAChC,0BAA0B;IAC1B,kCAAkC;IAClC,yBAAyB;IACzB,sBAAsB;IACtB,6CAA6C;IAC7C,6DAA6D;IAC7D,kCAAkC;IAClC,oDAAoD;IACpD,gGAAgG;IAChG,6BAA6B;IAC7B,+IAA+I;IAC/I,gBAAgB;IAChB,oEAAoE;IACpE,4CAA4C;IAC5C,kCAAkC;IAClC,6GAA6G;IAC7G,kBAAkB;IAClB,YAAY;IACZ,SAAS;IACT,IAAI;IACJ,OAAOyH;AACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChH8C;AACa;AAC0I;AAErM;;;;AAIA,GACO,SAASwI,YAAYpS,KAAK,EAAEO,EAAE,EAAE8R,MAAM,EAAEC,UAAU,EAAE;IACvD,OAAQ/R;QACJ,IAAI;QACJ,KAAKd,yBAAgB;YACjBoL,QAAQA,CAAC7K;YACT,KAAM;QAEV,OAAO;QACP,KAAKP,2BAAkB;YACnBuL,UAAUA,CAAChL;YACX,KAAM;QAEV,OAAO;QACP,KAAKP,yBAAgB;YACjBoO,QAAQA,CAAC,qCAAK7N;gBAAOsO,MAAM,IAAI,CAACsC,KAAK,CAACtC,IAAI;gBAAIkE,IAAI,CAAC,IAAM;gBACrD,IAAIF,YAAY;oBACZtS,MAAM0D,SAAS,CAAC+O,UAAU,CAACjT,wBAAe;gBAC9C,CAAC;gBACD8Q,WAAWA,CAACtQ;YAChB;YACA,KAAM;QAEV,SAAS;QACT,KAAKP,4BAAmB;YACpBoO,QAAQA,CAAC,qCAAK7N;gBAAOsO,MAAM,IAAI,CAACsC,KAAK,CAACtC,IAAI;gBAAIkE,IAAI,CAAC/L,CAAAA,OAAQ;gBACvD,IAAIA,MAAM;oBACNuE,UAAUA,CAAChL;gBACf,CAAC;YACL;YACA,KAAM;QAEV,SAAS;QACT,KAAKP,+BAAsB;YACvBoO,QAAQA,CAAC,qCAAK7N;gBAAOsO,MAAM,IAAI,CAACsC,KAAK,CAACtC,IAAI;gBAAIkE,IAAI,CAAC/L,CAAAA,OAAQ;gBACvD,IAAIA,MAAM;oBACN2K,eAAe,CAAC,IAAI,EAAE,qCAAKpR;wBAAOsO,MAAM,IAAI,CAACsC,KAAK,CAACtC,IAAI;;gBAC3D,CAAC;YACL;YACA,KAAM;QAEV,OAAO;QACP,KAAK7O,2BAAkB;YACnBoP,UAAUA,CAAC7O;YACX,KAAM;QAEV,OAAO;QACP,KAAKP,yBAAgB;YACjBuP,QAAQA,CAAChP;YACT,KAAM;QAEV,OAAO;QACP,KAAKP,8BAAkB;YACnB6H,yCAASA,CAAC;gBACNO,OAAOnI,uBAAc;gBACrBoI,OAAO,IAAI,CAAC8I,KAAK,CAACtC,IAAI,CAAC,kBAAkB;gBAAC,YAAY,GACtDvG,SAAS,IAAI,CAAC6I,KAAK,CAACtC,IAAI,CAAC,kBAAkB;gBAAC,gBAAgB,GAC5DjG,gBAAgB,IAAM;oBAClB4G,UAAUA,CAAC,qCAAKjP;wBAAOsO,MAAM,IAAI,CAACsC,KAAK,CAACtC,IAAI;;gBAChD;YACJ;YACA,KAAM;QAEV,QAAQ;QACR,KAAK7O,2BAAkB;YACnB6H,yCAASA,CAAC;gBACNO,OAAOnI,uBAAc;gBACrBoI,OAAO,IAAI,CAAC8I,KAAK,CAACtC,IAAI,CAAC,kBAAkB;gBAAC,YAAY,GACtDvG,SAAS,IAAI,CAAC6I,KAAK,CAACtC,IAAI,CAAC,kBAAkB;gBAAC,kBAAkB,GAC9DjG,gBAAgB,IAAM;oBAClB8H,UAAUA,CAAC,qCAAKnQ;wBAAOsO,MAAM,IAAI,CAACsC,KAAK,CAACtC,IAAI;;gBAChD;YACJ;YACA,KAAM;QAEV,OAAO;QACP,KAAK7O,4BAAmB;YACpB6Q,WAAWA,CAAC,qCAAKtQ;gBAAOsO,MAAM,IAAI,CAACsC,KAAK,CAACtC,IAAI;;YAC7C,KAAM;QAEV,IAAI;QACJ,KAAK7O,+BAAsB;YACvB+Q,mBAAmB,CAAC,IAAI,EAAExQ;YAC1B,KAAM;QAEV,MAAM;QACN,KAAKP,8BAAqB;YACtBqR,kBAAkB,CAAC,IAAI,EAAE9Q;YACzB,KAAM;QAEV,MAAM;QACN,KAAKP,iCAAwB;YACzByR,oBAAoB,CAAC,IAAI,EAAElR;YAC3B,KAAM;QAEV,MAAM;QACN,KAAKP,2BAAkB;YACnB2R,eAAe,CAAC,IAAI,EAAE,qCAAKpR;gBAAOsO,MAAM,IAAI,CAACsC,KAAK,CAACtC,IAAI;;YACvD,KAAM;QAEV,MAAM;QACN,KAAK7O,6BAAoB;YACrBiS,YAAYA,CAAC,qCAAK1R;gBAAOsO,MAAM,IAAI,CAACsC,KAAK,CAACtC,IAAI;;YAC9C,KAAM;QAEV;YACI,KAAM;IACd;AACJ,CAAC;;;ACpHmC;AACM;AAE1C;;;;;CAKC,GACM,SAASoE,gBAAgB1S,KAAK,EAAEyH,QAAQ,EAAErF,GAAG,EAAEtB,KAAK,EAAEiG,IAAI,EAAE;IAC/D,OAAO,IAAI+G,QAAQ,CAACC,SAAS4E,SAAW;QACpC,YAAY;QACZ,IAAIvQ,QAAQ,mBAAmB;YAC3B,IAAIwH,OAAO5J,MAAM4J,IAAI,CAACC,OAAO;YAC7B,SAAS;YACT,IAAI/F,UAAQ9D,MAAMW,IAAI,CAACC,iBAAiB,CAACpB,qBAAY,EAAC,WAAWsB,KAAK;YACtE,IAAG,CAACgD,SAAQ;gBACRsG,qCAAKA,CAAC;oBAAErC,SAAS;oBAAYF,OAAO;gBAAU;gBAC9C;YACJ,CAAC;YACD+B,IAAI,CAACnC,SAAS,CAACqC,KAAK,CAAC8I,IAAI,CAAC,CAACzQ,OAAS;gBAChC,IAAIA,KAAK4H,QAAQ,KAAK,mBAAmB;oBACrC,iBAAiB;oBACjB5H,KAAK8P,cAAc,GAAG;wBAClBnO;wBACA,mEAAmE;wBACnE+O,kBAAkB;oBACtB;gBACJ,CAAC;YACL;YACA,YAAY;YACZ7S,MAAM4J,IAAI,CAACM,OAAO,CAACN,MAAM,IAAM;gBAC3B,kBAAkB;gBAClBmE,QAAQ,IAAI;YAChB;QACJ,OACA,QAAQ;QACH,IAAI3L,OAAO,eAAe;YAC3B,IAAIwH,OAAO5J,MAAM4J,IAAI,CAACC,OAAO;YAC7B,SAAS;YACT,IAAI/F,UAAQ9D,MAAMW,IAAI,CAACC,iBAAiB,CAACpB,qBAAY,EAAC,WAAWsB,KAAK;YACtE,IAAG,CAACgD,SAAQ;gBACRsG,qCAAKA,CAAC;oBAAErC,SAAS;oBAAYF,OAAO;gBAAU;gBAC9C;YACJ,CAAC;YACD,IAAI9D,kBAAgB/D,MAAMW,IAAI,CAACC,iBAAiB,CAAC,aAAY;YAC7D,IAAIkS,qBAAmB/O,gBAAgBjD,KAAK;YAC5C,IAAG,CAACiD,mBAAiB,CAAC+O,oBAAmB;gBACrC1I,qCAAKA,CAAC;oBAAErC,SAAS;oBAAgBF,OAAO;gBAAU;gBAClD;YACJ,CAAC;YACD+B,IAAI,CAACnC,SAAS,CAACqC,KAAK,CAAC8I,IAAI,CAAC,CAACzQ,OAAS;gBAChC,IAAIA,KAAK4H,QAAQ,KAAK,eAAe;oBACjC,iBAAiB;oBACjB5H,KAAK8P,cAAc,GAAG;wBAClBnO;wBACAgP;wBACA,mEAAmE;wBACnED,kBAAkB;oBACtB;gBACJ,CAAC;YACL;YACA,YAAY;YACZ7S,MAAM4J,IAAI,CAACM,OAAO,CAACN,MAAM,IAAM;gBAC3B,kBAAkB;gBAClBmE,QAAQ,IAAI;YAChB;QACJ,OACK;YACDA,QAAQ,IAAI;QAChB,CAAC;IACL;AACJ,CAAC;;;ACxED;;;;;CAKC,GACM,SAASgF,iBAAiB/S,KAAK,EAAEyH,QAAQ,EAAErF,GAAG,EAAEtB,KAAK,EAAEsD,KAAK,EAAEW,MAAM,EAAE1E,MAAM,EAAE;IACjF,OAAO,IAAIyN,QAAQ,CAACC,SAAS4E,SAAS;QAClC,IAAIvQ,QAAQ,aAAa;YACrB,IAAIwH,OAAO5J,MAAM4J,IAAI,CAACC,OAAO;YAC7BD,IAAI,CAACnC,SAAS,CAACqC,KAAK,CAAC8I,IAAI,CAAC,CAACzQ,OAAS;gBAChC,IAAI,gBAAgBA,KAAK4H,QAAQ,EAAE;oBAC/B,SAAS;oBACT,IAAIiJ,UAAQhT,MAAMW,IAAI,CAACC,iBAAiB,CAAC,aAAY,eAAeE,KAAK;oBACzE,iBAAiB;oBACjBqB,KAAK8P,cAAc,GAAG;wBAClBe,SAAQA;oBAGZ;gBACJ,CAAC;YACL;YAJY,sEAAsE;YACtE,qFAAqF;YAIjG,YAAY;YACZhT,MAAM4J,IAAI,CAACM,OAAO,CAACN,MAAM,IAAM;gBAC3B,kBAAkB;gBAClBmE,QAAQ,IAAI;YAChB;QACJ,OACK;YACDA,QAAQ,IAAI;QAChB,CAAC;IACL;AAEJ,CAAC;;;ACjCwC;AAGzC;;;;CAIC,GACM,SAASkF,gBAAgBjT,KAAK,EAAEyH,QAAQ,EAAErF,GAAG,EAAEtB,KAAK,EAAEoS,WAAW,EAAE9O,KAAK,EAAEW,MAAM,EAAEoO,IAAI,EAAEC,MAAM,EAAE;IAEnG,UAAU;IACV,IAAGhR,OAAK,aAAY;QAChBpC,MAAM0D,SAAS,CAAC2P,mBAAmB,CAAC5L,UAAUrD,OAAO,WAAW;YAAEtD,OAAOA,MAAMwS,KAAK;QAAC;QACrFtT,MAAM0D,SAAS,CAAC2P,mBAAmB,CAAC5L,UAAUrD,OAAO,aAAa;YAAEtD,OAAOA,MAAMyS,OAAO;QAAC;QACzFvT,MAAM0D,SAAS,CAAC2P,mBAAmB,CAAC5L,UAAUrD,OAAO,aAAa;YAAEtD,OAAOA,MAAMkJ,OAAO;QAAC;QACzF,+BAA+B;QAC/B,IAAIjG,kBAAkB/D,MAAMM,WAAW,CAAC;QAExC,IAAIR,oBAAW,CAACiE,iBAAiBO,OAAO,CAACxD,MAAMyD,MAAM,CAACiP,IAAI,CAAC1S,KAAK,IAAI,CAAC,GAAG;YACpE,IAAGA,MAAMyD,MAAM,CAACiP,IAAI,CAAC1S,KAAK,IAAE,gBAAcA,MAAMyD,MAAM,CAACiP,IAAI,CAAC1S,KAAK,IAAE,cAAa;gBAC5Ed,MAAM0D,SAAS,CAAC2P,mBAAmB,CAAC5L,UAAUrD,OAAO,YAAY;oBAAEtD,OAAO,IAAI;gBAAC;YAEnF,OAAK;gBACDd,MAAM0D,SAAS,CAAC2P,mBAAmB,CAAC5L,UAAUrD,OAAO,YAAY;oBAAEtD,OAAO,KAAK;gBAAC;YAEpF,CAAC;YACD,iGAAiG;YACjGd,MAAM0D,SAAS,CAACgB,kBAAkB,CAAC,aAAaN,OAAO;gBAAC;gBAAa;gBAAa;aAAW,EAAE,KAAK;QAEpG,CAAC;IAET,CAAC;AACL,CAAC;;;AChC2D;AAE5D,IAAI;AACG,SAASqP,kBAAkBzT,KAAK,EAAEyH,QAAQ,EAAE1C,MAAM,EAAEX,KAAK,EAAE/D,MAAM,EAAE;IACtE,IAAI+E,cAAcpF,MAAM0D,SAAS,CAAC2B,cAAc,CAAC7F,wBAAe;IAChE,IAAI4F,YAAYhF,MAAM,GAAG,GAAG;QACxBJ,MAAME,MAAM,CAACuD,iBAAiB,CAAC5D,6BAAoBA,EAAE,KAAK;IAC9D,OAAO;QACHG,MAAME,MAAM,CAACuD,iBAAiB,CAAC5D,6BAAoBA,EAAE,IAAI;IAC7D,CAAC;AACL,CAAC;AAED,IAAI;AACG,SAAS6T,qBAAqB1T,KAAK,EAAEyH,QAAQ,EAAEpH,MAAM,EAAED,MAAM,EAAE;IAClEJ,MAAME,MAAM,CAACuD,iBAAiB,CAAC5D,6BAAoBA,EAAE,CAAEQ,CAAAA,UAAUD,SAAS;AAC9E,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACfsC;AACkB;AACN;AACa;AACP;AACE;AACJ;AACE;AAC0B;AACuB;AAC9C;AACH;AAEzD;;CAEC,GACD,MAAM,EAAC6T,QAAO,EAACC,UAAS,EAAC,GAAGJ,gCAAIA;AAEhC,iBAAMK,aAAaP,iFAASA;IAaE,QAAQ;IAIlCQ,qBAAqB;QACjB,oBAAoB;QACpB,+CAA+C;QAC/C,sBAAsB;QACtB,IAAIC,WAAW,CAAC/F,MAAMjO,QAAQiU,OAAS;YACnC,IAAIjU,QAAQ;gBACRsR,iBAAiB,CAAC,IAAI,EAAE,IAAI,CAAC3R,KAAK;gBAAG,iEAAiE;gBAEtG,4BAA4B;gBAC5B,IAAI,CAAC2G,QAAQ,CAAC;oBAAC2H;oBAAMgG;gBAAI;YAC7B,CAAC;QACL;QACA,IAAI,CAACtU,KAAK,CAACuU,SAAS,CAACC,YAAY,CAAC;YAAC/M,UAAUuM,2BAAkB;YAAES,YAAYT,6BAAoB;YAAEK;QAAQ;QAE3G,QAAQ;QACR1I,OAAO+I,cAAc,GAAG,IAAM;YAC1B,IAAIrU,SAAS,IAAI,CAACL,KAAK,CAAC0D,SAAS,CAACiR,SAAS,CAACnV,wBAAe;YAC3D,IAAIa,UAAUX,oBAAW,EAAE;gBACvB,OAAO,IAAI,CAACkR,KAAK,CAACtC,IAAI,CAAC,kBAAkB;YAC7C,CAAC;QACL;IACJ;IAHsD,2BAA2B,GAKjFsG,oBAAoB,CAEpB;IAoCAC,SAAS;QACL,IAAI,EAAClU,KAAI,EAAEmU,eAAc,EAAEpI,aAAY,EAAEhJ,UAAS,EAAC,GAAG,IAAI,CAAC1D,KAAK;QAChE,IAAI,EAAC+U,qBAAoB,EAAC,GAAGD;QAC7B,IAAI,EAACE,WAAU,EAAC,GAAGrU;QACnB,IAAI,EAACsU,gBAAe,EAAC,GAAGvR;QACxB,IAAI,EAACwR,mBAAkB,EAAC,GAAGxI;QAC3B,IAAI,EAACyI,WAAU,EAAEC,UAAS,EAAEC,cAAa,EAAEC,cAAa,EAAC,GAAGvB,gCAAIA;QAChE,IAAI1T,SAAS,IAAI,CAACL,KAAK,CAACM,WAAW,CAACZ,sBAAa;QACjD,IAAIa,KAAK,IAAI,CAACP,KAAK,CAACM,WAAW,CAACX,uBAAc;QAC9C,IAAI+Q,SAAS,IAAI,CAAC1Q,KAAK,CAACW,IAAI,CAACC,iBAAiB,CAACpB,uBAAc,EAAEG,4BAAmB;QAClF,qBACI,+FAAC4V;YAAIC,WAAU;;;;;;;yBACX,+FAACD;YAAIC,WAAU;;;;;;;yBACX,+FAACvB;;;;;;;yBACG,+FAACsB;YAAIC,WAAU;;;;;;;yBACX,+FAACD;;;;;;;WACIL,mBAAmB;YAChBpN,OAAO;YAAS,IAAI;YACpBgF,UAAU4D,UAAUA,OAAO5P,KAAK;YAAC,KAAK;YACtC+L,cAAc,KAAK;YACnB4I,cAAcrD,gBAAgB,CAAC,IAAI,EAAE,IAAI,CAACpS,KAAK,EAAEP,yBAAgB;QACrE,mBAEJ,+FAAC8V;YAAIC,WAAU;;;;;;;WACV,IAAI,CAACxV,KAAK,CAACE,MAAM,CAACyV,eAAe,CAAC;YAC/BC,MAAMpW,2BAAkB;YACxBsW,eAAe1D,gBAAgB,CAAC,IAAI;QACxC,KAEH/R,UAAUX,sBAAa,IAAIa,oBAC5B,+FAACgV;YAAIC,WAAU;YAA6BO,OAAO;gBAACC,OAAO;YAAO;;;;;;;WAC7DjB,qBAAqB;YAClBvJ,YAAYpE,mBAAUA;YACtB6O,QAAQtW,4BAAmB;YAC3BuW,sBAAsB,IAAI,CAACA,oBAAoB;QACnD,qBAKZ,+FAACX;YAAIC,WAAU;;;;;;;WACVR,WAAWxV,qBAAY,EAAE;YACtB2W,cAAc3O,mBAAmB,CAAC,IAAI;YACtC4O,eAAe1D,eAAeA;QAClC,oBAIR,+FAAC6C;YAAIC,WAAU;;;;;;;yBACX,+FAACD;YAAIC,WAAU;;;;;;;WACVP,gBAAgBzV,wBAAe,EAAE;YAC9B6W,WAAW,IAAI,CAACC,YAAY,CAACZ,IAAI,CAAC,IAAI;YACtCa,WAAW,IAAI;YACfC,WAAW,KAAK;YAChBC,YAAYhD,iBAAiBA;YAC7BiD,eAAehD,oBAAoBA;YACnC0C,eAAerD,gBAAgBA;YAC/BoD,cAAclD,eAAeA;YAC7B0D,gBAAgB,IAAI;YACpBC,WAAWxE,gBAAgB,CAAC,IAAI,EAAE,6CAC3B,IAAI,CAACpS,KAAK;gBACbsO,MAAM,IAAI,CAACsC,KAAK,CAACtC,IAAI;gBACtB7O,yBAAgB,EAAEoX,WAAW,IAAI;QACxC,MAIP,MAAM,GACN,IAAI,CAACjG,KAAK,CAACD,YAAY,kBACpB,+FAACwE,YAAAA,sBAAAA,CAAAA,iBAAAA;YACG2B,WAAW;WACP,IAAI,CAAClG,KAAK,CAACC,QAAQ;YACvBkG,QAAQ,IAAM;gBACV,IAAI,CAACpQ,QAAQ,CAAC;oBACVgK,cAAc,KAAK;gBACvB;YACJ;;;;;;;aAIP,QAAQ,iBAEL,+FAACyE;YACG4B,MAAM,IAAI,CAACpG,KAAK,CAACG,aAAa;YAC9BkG,OAAO,IAAM;gBACT,IAAI,CAACtQ,QAAQ,CAAC;oBAACoK,eAAe,KAAK;gBAAA;YACvC;YACA7B,IAAI,IAAI,CAAC0B,KAAK,CAACI,eAAe;YAC9BmC,MAAM,IAAI,CAACvC,KAAK,CAACK,iBAAiB;;;;;;;YAIzC,MAAM,GACN,IAAI,CAACL,KAAK,CAACW,gBAAgB,kBACxB,+FAAC8D;YACGvN,OAAO,IAAI,CAAC8I,KAAK,CAACtC,IAAI,CAAC,kBAAkB;YAAE,YAAY,GACvDvH,MAAM,IAAI,CAAC6J,KAAK,CAACU,aAAa;YAC9BpM,SAAS,IAAI,CAAC0L,KAAK,CAACW,gBAAgB;YACpC2F,WAAW,IAAI,CAACC,aAAa;YAC7B9V,QAAQ,IAAI,CAAC+V,gBAAgB;;;;;;;YAIpC,gBAAgB,GAChB,GAAG,GACH,oBAAoB,GACpB,6CAA6C,GAC7C,mCAAmC,GACnC,oCAAoC,GACpC,wBAAwB,GACxB,6BAA6B,GAC7B,0CAA0C,GAC1C,iBAAiB,GACjB,YAAY,GACZ,QAAQ,GACR,GAAG,GAEH,YAAY,iBACb,+FAAClD;YAAUmD,YAAAA,IAAU;YAACC,cAAc,IAAI;YAAEN,MAAM,IAAI,CAACpG,KAAK,CAAChI,WAAW;YAAE2O,KAAK;;;;;;;;IAGzF;IAtMAC,YAAYxX,KAAK,CAAE;QACf,KAAK,CAACA;QA0CVkW,mBAAAA,OAAAA,wBAAuB,CAAClW,OAAOO,KAAO;YAClCgQ,SAASA,CAAC,6CAAIvQ;gBAAOsO,MAAM,IAAI,CAACsC,KAAK,CAACtC,IAAI;gBAAG/N;QACjD;QAEA,UAAU;QACV+V,mBAAAA,OAAAA,gBAAe,kBACX,+FAACf;gBAAIC,WAAU;;;;;;;6BACX,+FAACD;gBAAIC,WAAU;;;;;;;eACV,IAAI,CAACxV,KAAK,CAACE,MAAM,CAACyV,eAAe,CAAC;gBAC/BC,MAAMpW,+BAAsB;gBAC5BsW,eAAejR,oBAAoB,CAAC,IAAI;gBACxC6S,cAAcC,SAASC,aAAa,CAAC;YACzC;QAKZ,MAAM;QACNT,mBAAAA,OAAAA,iBAAgB,CAACrW,QAAU;YACvBsQ,UAAUA,CAAC,6CAAI,IAAI,CAACpR,KAAK;gBAAEsO,MAAM,IAAI,CAACsC,KAAK,CAACtC,IAAI;gBAAG;gBAC/CiB,KAAK,IAAI,CAACqB,KAAK,CAACY,KAAK;gBACrBqG,SAAS/W;YACb;YACA,IAAI,CAACsW,gBAAgB;QACzB;QAEA,MAAM;QACNA,mBAAAA,OAAAA,oBAAmB,IAAM;YACrB,IAAI,CAACzQ,QAAQ,CAAC;gBACV2K,eAAe,IAAI;gBACnBC,kBAAkB,KAAK;YAC3B;QACJ;QAzEIvR,MAAM8X,GAAG,CAACnX,IAAI,CAACnB,qBAAY,EAACA,uBAAc;QAC1C,IAAI,CAACoR,KAAK,GAAG;YACTtC,MAAM,CAAC;YACPqC,cAAc,KAAK;YACnBE,UAAU,CAAC;YACXS,eAAe,IAAI;YAAE,MAAM;YAC3BC,kBAAkB,KAAK;YAAE,QAAQ;YACjCC,OAAO,IAAI;YAAE,WAAW;YACxBL,mBAAmB,KAAK;YAAE,UAAU;YACpCV,QAAQ,IAAI;YACZ7H,aAAY,KAAK;QACrB;IACJ;AAyLJ;AAEAuL,OAAON,0CAAUA,CAAC;IACdkE,UAAU;QACNC,UAAU;QACVhI,UAAUxQ,uBAAc;QACxByY,UAAUzY,qBAAY;QACtB0Y,UAAU1Y,wBAAe;IAC7B;AACJ,GAAG2U;AACH,2CAAeA,IAAIA,EAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpOpB;;AAEA,GAEA,MAAM;AACC,MAAMgE,UAAU,WAAW;AAElC,MAAM;AACC,MAAM7N,iBAAiB,UAAU;AAExC;;;;AAIA,GACO,MAAM0J,YAAY;IACrBvM,UAAU;IACVgN,YAAY;AAChB,EAAE;AAEF;;CAEC,GACM,MAAM2D,OAAO;IAChBC,YAAY;IAAmB,wBAAwB;IAEvDjK,WAAW;IAAiB,MAAM;IAElCkK,WAAW;IAAc,MAAM;IAC/BC,UAAU;IAAa,MAAM;IAE7B1C,eAAe;IAAa,QAAQ;IACpC2C,eAAe;AACnB,EAAE;AAD+B,SAAS;AAG1C;;CAEC,GACM,MAAMhZ,OAAO;IAChB6Y,YAAY;IAAmB,wBAAwB;IAEvDjK,WAAW;IAAiB,MAAM;IAElCvN,SAAS;IAAa,OAAO;IAC7B+C,YAAY;IAAa,OAAO;IAChC6U,iBAAiB;IAAkB,YAAY;IAC/CC,mBAAmB;IAAoB,YAAY;IAEnD7C,eAAe;IAAa,OAAO;IACnC4B,mBAAmB;IAAa,SAAS;IACzCe,eAAe;AACnB,EAAE;AAD6B,SAAS;AAGxC,kBAAkB;AAClB,MAAM;AACC,MAAMpR,aAAa,yBAAyB;AAEnD,SAAS;AACF,MAAMuR,eAAe;IACxBvW,KAAK;IAA4B,WAAW;IAC5CoJ,YAAYpE;AAChB,EAAE;AADyB,eAAe;AAG1C,OAAO;AACA,MAAMiD,aAAa;IACtBjI,KAAK;IAA0B,WAAW;IAC1CoJ,YAAYpE;AAChB,EAAE;AADyB,eAAe;AAG1C,QAAQ;AACD,MAAMwR,YAAY,qBAAqB;AAE9C,KAAK;AACE,MAAMzR,cAAc;IACvBjG,MAAM,CAAC,kCAAkC,CAAC;IAAE,IAAI;IAChDsB,QAAQ,CAAC,oCAAoC,CAAC;IAAE,IAAI;IACpDuN,WAAW,CAAC,uCAAuC,CAAC;IAAE,MAAM;IAC5D8I,WAAW,CAAC,uCAAuC,CAAC;IAAE,MAAM;IAC5DC,gBAAgB,CAAC,2CAA2C,CAAC;IAAE,QAAQ;IACvE5V,QAAQ,CAAC,oCAAoC,CAAC;IAAE,IAAI;IACpDI,UAAU,CAAC,sCAAsC,CAAC;IAAE,IAAI;IAExDyV,mBAAmB;IAA0C,UAAU;IACvEC,aAAa;IAAoC,OAAO;IAExDC,QAAQ;IACRlO,QAAQ;IAER9B,aAAa;IAAoC,SAAS;IAE1DpG,OAAO;AACX,EAAE;AADsD,MAAM;AAGvD,MAAMqW,cAAc;IACvB5W,QAAQ;IACRE,QAAQ;IACRU,QAAQ;IACRI,UAAU;IACV6V,WAAW;IACXvW,YAAY;IACZZ,cAAc;IACdD,WAAW;IACXc,OAAO;IACPH,QAAQ;IACRI,SAAS;IAETkW,aAAa;IAEbI,YAAY;IACZC,YAAY;IACZC,YAAY;IACZC,cAAc;IACd9W,MAAM;AACV,EAAE;AAEF,UAAU;AACH,MAAM+W,uBAAuB;IAACN,YAAY1W,MAAM;IAAE0W,YAAYhW,MAAM;IAAEgW,YAAY5V,QAAQ;IAAE4V,YAAYC,SAAS;IAAED,YAAYlX,YAAY;IAAEkX,YAAYnX,SAAS;IACzKmX,YAAYtW,UAAU;IAAEsW,YAAYrW,KAAK;IAAEqW,YAAYxW,MAAM;IAAEwW,YAAYE,UAAU;CAAC,CAAC;AAEhF,MAAM3Z,cAAc;IACvByB,MAAM;IACNC,SAAS;IACTC,YAAY;IACZC,QAAQ;IACRiB,QAAQ;IACRC,QAAQ;IACRC,QAAQ;IACRC,MAAM;IACNS,QAAQ;IACRI,UAAU;IACVV,YAAY;IACZZ,cAAc;IACdD,WAAW;IACXc,OAAO;IACPH,QAAQ;IACRI,SAAS;IACTyP,MAAM;IAENjR,QAAQ;IACRC,WAAW;IACXC,UAAU;IACVuE,WAAW;IACXD,aAAa;IAEbjE,QAAQ;IACRJ,WAAW;IACXC,QAAQ;IACRC,SAAS;IACToB,MAAM;IACNC,QAAQ;IACRpB,WAAW;AACf,EAAE;AAEF,UAAU;AACH,MAAM/B,uBAAuB;IAACJ,YAAY8B,SAAS;IAAE9B,YAAY+B,QAAQ;CAAC,CAAC;AAClF,UAAU;AACH,MAAM0F,2BAA2B;IAACzH,YAAY6B,MAAM;IAAE7B,YAAYyB,IAAI;IAAEzB,YAAY0B,OAAO;IAAE1B,YAAY2B,UAAU;CAAC,CAAC;AAE5H,KAAK;AACE,MAAMxB,QAAQ;IACjB+H,KAAK;IAAU,IAAI;IACnB,wEAAwE;IACxEjH,YAAY;IAAiB,gBAAgB;IAC7CyO,IAAI;IAAM,KAAK;IACfrL,SAAS;IACTC,iBAAiB;AACrB,EAAE;AAEF,QAAQ;AACD,MAAMpE,cAAc;IACvBsH,SAAS;IAAc,SAAS;IAChCtB,SAAS;IAAgB,SAAS;IAClCoH,SAAS;IAAU,SAAS;IAC5BxM,IAAI;AACR,EAAE;AADW,UAAU;AAGvB,IAAI;AACG,MAAMb,SAAS;IAClBW,QAAQ;IAAU,IAAI;IAEtBwD,MAAM;IAAQ,KAAK;IACnBpD,QAAQ;IAAU,KAAK;IACvByK,KAAK;IAAO,KAAK;IAEjBuO,MAAM;IAAQ,IAAI;IAClBhI,SAAS;IAAW,IAAI;IACxBvI,SAAS;IAAW,IAAI;IACxB+G,QAAQ;IAAU,IAAI;IAEtBhN,SAAS;IAAM,MAAM;IACrByW,QAAQ;IAAK,OAAO;IACpBvW,SAAS;IAAK,MAAM;IACpBE,SAAS;IAAK,OAAO;IACrBD,QAAQ;AACZ,EAAE;AADc,MAAM;AAEtB,UAAU;AACH,MAAMuW,gBAAgB;IACzB,4BAA4B;IAC5BC,OAAO;QACH;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACH;AACL,EAAE;AAEK,MAAM9Z,UAAU,IAAIuP,IAAI;IAC3B,qEAAqE;IACrE;QAAC;QAAQ;YAAC;YAAmB;YAAmB;YAAgB;YAAgB;YAAkB;YAAkB;YAAoB;YAAoB;YAAY;SAAgB;KAAC;IACzL,2BAA2B;IAC3B;QAAC;QAAwB;YAAC;YAAa;YAAa;YAAmB;SAAkB;KAAC;IAC1F;QAAC;QAAwB;YAAC;YAAa;YAAa;YAAmB;SAAkB;KAAC;IAC1F,QAAQ;IACR;QAAC;QAAwB;YAAC;YAAa;YAAa;YAAc;YAAc;YAAmB;SAAkB;KAAC;IACtH,QAAQ;IACR;QAAC;QAAwB;YAAC;YAAa;YAAa;YAAmB;SAAkB;KAAC;IAC1F;QAAC;QAAwB;YAAC;YAAa;YAAa;YAAmB;SAAkB;KAAC;IAC1F,kBAAkB;IAClB;QAAC;QAAQ;YAAC;YAAgB;YAAa;YAAa;YAAW;YAAiB;YAAiB;YAAY;YAAqB;YAAwB;YAAsB;YAAuB;YAAqB;YAAwB;YAAsB;YAAwB;YAAyB;YAAwB;YAAyB;YAAwB;YAAyB;YAAwB;YAAY;YAAe;YAAO;YAAa;YAAc;YAAwB;YAAU;YAAa;YAAiB;YAAkB;YAAiB;YAAoB;YAAoB;YAAgB;YAAe;YAAmB;YAAmB;YAAa;YAAY;YAAgB;YAAgB;YAAgB;YAAmB;YAAkB;YAAS;YAAe;YAAgB;YAAkB;YAAmB;YAAc;YAAe;YAAgB;YAAa;YAAY;YAAU;SAAiB;KAAC;IAC/9B,SAAS;IACT;QAAC;QAAQ;YAAC;YAAc;YAAa;YAAU;YAAc;YAAc;YAAO;YAAM;YAAO;YAAQ;YAAQ;YAAS;YAAS;YAAU;YAAS;YAAY;YAAU;YAAW;YAAU;YAAW;YAAK;YAAY;YAAU;YAAY;YAAW;YAAY;YAAW;YAAW;YAAW;YAAY;YAAW;SAAW;KAAC;IAC5U,MAAM;IACN;QAAC;QAAQ;YAAC;YAAgB;YAAgB;YAAe;YAAc;YAAiB;YAAO;YAAiB;YAAgB;YAAe;YAAiB;YAAc;YAAa;YAAe;YAAe;YAAkB;YAAkB;YAAoB;YAAmB;YAAmB;YAAkB;YAAa;YAAqB;YAAqB;YAAsB;YAAqB;YAAqB;YAAsB;YAAqB;YAAsB;YAAoB;YAAqB;YAAoB;YAAqB;YAAoB;YAAoB;YAAqB;YAAoB;YAAe;YAAS;YAAwB;YAAY;YAAsB;YAAqB;YAAO;YAAoB;YAAqB;YAAa;YAAW;YAAe;SAAe;KAAC;CACr3B,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrO0E;AAYrD;AAExB,MAAM;AACC,SAASwK,WAAW7Z,KAAK,EAAE;IAC9BA,MAAM8K,MAAM,CAAC3D,+DAAkB,EAAE;QAC7B9G,QAAQX,uDAAU;QAClBsQ,UAAUxQ,2DAAc;IAC5B;AACJ,CAAC;AAED,MAAM;AACC,SAASsa,YAAY9Z,KAAK,EAAE;IAC/B,IAAI,EAAEsL,WAAU,EAAE,GAAGnB,wDAASA;IAC9B,IAAI4P,YAAYzO,WAAWqN,6DAAgB,EAAEA,oEAAuB;IACpEqB,WAAWha,OAAO+Z;AACtB,CAAC;AAED,MAAM;AACC,SAASE,SAASja,KAAK,EAAEkP,EAAE,EAAE;IAChClP,MAAM8K,MAAM,CAAC3D,+DAAkB,EAAE;QAC7B9G,QAAQX,wDAAW;QACnBa,IAAI2O;QACJc,UAAUxQ,2DAAc;IAC5B;AACJ,CAAC;AAED,MAAM;AACC,SAAS0a,SAASla,KAAK,EAAEkP,EAAE,EAAE;IAChClP,MAAM8K,MAAM,CAAC3D,YAAY8R,MAAM,EAAE;QAC7B5Y,QAAQX,OAAOmE,IAAI;QACnBtD,IAAI2O;QACJc,UAAUxQ,KAAK4O,SAAS;QACxBR,QAAQ,IAAI;IAChB;AACJ,CAAC;AAGD,MAAM;AACC,SAASuM,WAAWna,KAAK,EAAE+G,IAAI,EAAE;IACpC,IAAI,CAACA,MAAM;QACP,IAAIqT,SAASC,cAAcra,OAAO,KAAK;QACvC,IAAI,CAACoa,OAAOE,KAAK,EAAE;YACf;QACJ,CAAC;QACD,IAAIF,OAAOE,KAAK,EAAE;YACd,IAAIC,cAAcH,OAAOG,WAAW;YACpC,IAAIhL,MAAMgL,eAAeA,YAAYrY,GAAG,CAACC,CAAAA,OAAQA,KAAK4E,IAAI,CAACxC,MAAM,CAAC5E,gEAAmB,CAAC,CAACmB,KAAK;YAC5F,IAAIsO,UAAU,IAAIC;YAClBkL,eAAeA,YAAYrY,GAAG,CAACC,CAAAA,OAAQ;gBACnC,IAAI+M,KAAK/M,KAAK4E,IAAI,CAACxC,MAAM,CAAC5E,gEAAmB,CAAC,CAACmB,KAAK;gBACpD,IAAIqO,KAAKhN,KAAK4E,IAAI,CAACxC,MAAM,CAAC3E,qDAAQ,CAAC,IAAIuC,KAAK4E,IAAI,CAACxC,MAAM,CAAC3E,qDAAQ,CAAC,CAACkB,KAAK;gBACvE,UAAU;gBACV,IAAIoO,MAAMC,IAAI;oBACVC,QAAQE,GAAG,CAACJ,IAAIC;gBACpB,CAAC;YACL;YACApI,OAAO;gBAAEwI;gBAAKH;YAAQ;QAC1B,CAAC;IACL,CAAC;IACD7H,uDAAIA,CAAC;QACDyB,KAAK7B,+DAAkB;QACvBJ;QACAmC,SAAS,CAACC,MAAQ;YACd,IAAIA,IAAID,OAAO,EAAE;gBAAE,IAAI;gBACnB,IAAIC,IAAIpC,IAAI,IAAIoC,IAAIpC,IAAI,CAACsK,QAAQ,IAAKlI,CAAAA,IAAIpC,IAAI,CAACsK,QAAQ,IAAI,iBAAiBlI,IAAIpC,IAAI,CAACsK,QAAQ,IAAI,UAAS,GAAI;oBAC1G,IAAI,CAAC1K,QAAQ,CAAC;wBACV2K,eAAenI,IAAIpC,IAAI;wBACvBwK,kBAAkB,IAAI;wBACtBC,OAAOzK,KAAKwI,GAAG;oBACnB;oBACAiL,cAAc3U,IAAI,CAAC,IAAI,EAAEsD;gBAC7B,OAAO;oBACHqR,cAAc3U,IAAI,CAAC,IAAI,EAAEsD;oBACzB2Q,YAAY9Z;gBAChB,CAAC;YACL,OAAO;gBAAE,IAAI;gBACTwa,cAAc3U,IAAI,CAAC,IAAI,EAAEsD;YAE7B,CAAC;QACL;IACJ;AACJ,CAAC;AAJe,2FAA2F;AAM3G,MAAM;AACC,SAASsR,aAAaza,KAAK,EAAE+G,IAAI,EAAE;IACtC,IAAI,CAACA,MAAM;QACP,IAAIqT,SAASC,cAAcra,OAAO,KAAK;QACvC,IAAIoa,OAAOE,KAAK,EAAE;YACd,IAAIC,cAAcH,OAAOG,WAAW;YACpC,IAAIhL,MAAMgL,eAAeA,YAAYrY,GAAG,CAACC,CAAAA,OAAQA,KAAK4E,IAAI,CAACxC,MAAM,CAAC5E,gEAAmB,CAAC,CAACmB,KAAK;YAC5F,IAAIsO,UAAU,IAAIC;YAClBkL,eAAeA,YAAYrY,GAAG,CAACC,CAAAA,OAAQ;gBACnC,IAAI+M,KAAK/M,KAAK4E,IAAI,CAACxC,MAAM,CAAC5E,gEAAmB,CAAC,CAACmB,KAAK;gBACpD,IAAIqO,KAAKhN,KAAK4E,IAAI,CAACxC,MAAM,CAAC3E,qDAAQ,CAAC,IAAIuC,KAAK4E,IAAI,CAACxC,MAAM,CAAC3E,qDAAQ,CAAC,CAACkB,KAAK;gBACvE,UAAU;gBACV,IAAIoO,MAAMC,IAAI;oBACVC,QAAQE,GAAG,CAACJ,IAAIC;gBACpB,CAAC;YACL;YACApI,OAAO;gBAAEwI;gBAAKH;YAAQ;QAC1B,CAAC;IACL,CAAC;IACD7H,uDAAIA,CAAC;QACDyB,KAAK7B,iEAAoB;QACzBJ;QACAmC,SAAS,CAACC,MAAQ;YACd,IAAIA,IAAID,OAAO,EAAE;gBAAE,IAAI;gBACnB4Q,YAAY9Z;YAChB,OAAO;gBAAE,IAAI;gBACToK,wDAAKA,CAAC;oBAAEvC,OAAOnI,2DAAc;oBAAEqI,SAAS/H,MAAMsO,IAAI,CAAC,kBAAkB;gBAAC;YAC1E,CAAC;QACL;IACJ;AACJ,CAAC;AAJwF,cAAc,GAOvG;;;;;CAKC,GACM,SAAS+L,cAAcra,KAAK,EAAE0a,UAAU,EAAE;IAC7C,IAAIJ,QAAQ,IAAI;IAChB,IAAIC,cAAcva,MAAM2a,KAAK,IAAI3a,MAAM2a,KAAK,CAACtV,cAAc,CAAC+S,0DAAa;IACzE,IAAIsC,cAAcH,YAAYna,MAAM,GAAG,GAAG;QACtCgK,wDAAKA,CAAC;YACFvC,OAAOnI,2DAAc;YAAEqI,SAAS/H,MAAMsO,IAAI,CAAC,kBAAkB;QACjE;QADiE,oBAAoB,GAErFgM,QAAQ,KAAK;IACjB,OAAO,IAAIC,YAAYna,MAAM,IAAI,GAAG;QAChCgK,wDAAKA,CAAC;YACFvC,OAAOnI,2DAAc;YAAEqI,SAAS/H,MAAMsO,IAAI,CAAC,kBAAkB;QACjE;QADiE,oBAAoB,GAErFgM,QAAQ,KAAK;IACjB,CAAC;IACD,OAAO;QAAEA;QAAOC;IAAY;AAChC,CAAC;AAED,MAAM;AACC,SAASK,eAAe5a,KAAK,EAAE;IAClC,IAAIoa,SAASC,cAAcra,OAAO,IAAI;IACtC,IAAIoa,OAAOE,KAAK,EAAE;QACd,IAAIC,cAAcH,OAAOG,WAAW;QACpC,IAAI9J,SAAS8J,WAAW,CAAC,EAAE,IAAIA,WAAW,CAAC,EAAE,CAACxT,IAAI,CAACxC,MAAM,CAAC5E,gEAAmB,CAAC,CAACmB,KAAK;QACpF,IAAI4P,SAAS6J,WAAW,CAAC,EAAE,IAAIA,WAAW,CAAC,EAAE,CAACxT,IAAI,CAACxC,MAAM,CAAC5E,gEAAmB,CAAC,CAACmB,KAAK;QACpF,IAAI,CAAC6F,QAAQ,CAAC;YACVgK,cAAc,CAAC,IAAI,CAACC,KAAK,CAACD,YAAY;YACtCE,UAAU;gBAAEJ;gBAAQC;YAAO;QAC/B;IACJ,CAAC;AACL,CAAC;AAED,QAAQ;AACD,SAASmK,cAAc7a,KAAK,EAAE;IACjC,QAAQ;IACR,IAAIoa,SAASC,cAAcra,OAAO,IAAI;IACtC,IAAIoa,OAAOE,KAAK,EAAE;QACd,IAAIC,cAAcH,OAAOG,WAAW;QACpC,IAAI9J,SAAS8J,WAAW,CAAC,EAAE,IAAIA,WAAW,CAAC,EAAE,CAACxT,IAAI,CAACxC,MAAM,CAAC5E,gEAAmB,CAAC,CAACmB,KAAK;QACpF,IAAI,CAAC6F,QAAQ,CAAC;YACVoK,eAAe,IAAI;YACnBC,iBAAiBP;YACjBQ,mBAAmB3G,2DAAcA;QACrC;IACJ,CAAC;AACL,CAAC;AAED,QAAQ;AACD,SAASwQ,gBAAgB9a,KAAK,EAAE;IACnC,IAAIoa,SAASC,cAAcra,OAAO,IAAI;IACtC,IAAIoa,OAAOE,KAAK,EAAE;QACd,IAAIC,cAAcH,OAAOG,WAAW;QACpC,IAAI9J,SAAS8J,WAAW,CAAC,EAAE,IAAIA,WAAW,CAAC,EAAE,CAACxT,IAAI,CAACxC,MAAM,CAAC5E,gEAAmB,CAAC,CAACmB,KAAK;QACpF,IAAI,CAAC6F,QAAQ,CAAC;YACVwK,mBAAmB,IAAI;YACvBV;QACJ;IACJ,CAAC;AACL,CAAC;AAED,QAAQ;AACD,SAASsK,eAAe/a,KAAK,EAAE;IAClC,IAAI+G,OAAO,CAAC;IACZ,IAAIwI,MAAM,EAAE;IACZ,IAAI6K,SAASC,cAAcra,OAAO,KAAK;IACvC,IAAIoa,OAAOE,KAAK,EAAE;QACd,IAAIC,cAAcH,OAAOG,WAAW;QACpChL,MAAMgL,eAAeA,YAAYrY,GAAG,CAACC,CAAAA,OAAQA,KAAK4E,IAAI,CAACxC,MAAM,CAAC5E,gEAAmB,CAAC,CAACmB,KAAK;QACxF,IAAIsO,UAAU,IAAIC;QAClBkL,eAAeA,YAAYrY,GAAG,CAACC,CAAAA,OAAQ;YACnC,IAAI+M,KAAK/M,KAAK4E,IAAI,CAACxC,MAAM,CAAC5E,gEAAmB,CAAC,CAACmB,KAAK;YACpD,IAAIqO,KAAKhN,KAAK4E,IAAI,CAACxC,MAAM,CAAC3E,qDAAQ,CAAC,IAAIuC,KAAK4E,IAAI,CAACxC,MAAM,CAAC3E,qDAAQ,CAAC,CAACkB,KAAK;YACvE,UAAU;YACV,IAAIoO,MAAMC,IAAI;gBACVC,QAAQE,GAAG,CAACJ,IAAIC;YACpB,CAAC;QACL;QACApI,OAAO;YAAEwI;YAAKH;QAAQ;QAEtB7H,uDAAIA,CAAC;YACDyB,KAAK7B,kEAAkB;YACvBJ;YACAmC,SAAS,CAACC,MAAQ;gBACd,IAAIA,IAAID,OAAO,EAAE;oBAAE,IAAI;oBACnB,IAAI8R,eAAehb,MAAM2a,KAAK,CAACM,eAAe,CAAC7C,0DAAa;oBAC5D,IAAI8C,SAASF,aAAa3U,IAAI,CAAC,EAAE,IAAI2U,aAAa3U,IAAI,CAACnE,GAAG,CAACC,CAAAA,OAAQA,KAAKoC,MAAM,CAAC5E,gEAAmB,CAAC,CAACmB,KAAK;oBACzG,IAAIqa,oBAAoB5L,IAAIrN,GAAG,CAACC,CAAAA,OAAQ+Y,OAAOE,SAAS,CAACC,CAAAA,IAAKA,KAAKlZ,OAAOmZ,MAAM,CAACnZ,CAAAA,OAAQA,QAAQ,CAAC;oBAClGnC,MAAM2a,KAAK,CAACY,aAAa,CAACnD,0DAAa,EAAE7I;oBACzCvP,MAAM2a,KAAK,CAACa,sBAAsB,CAACpD,0DAAa,EAAE+C;oBAClD/Q,wDAAKA,CAAC;wBAAEvC,OAAOnI,2DAAc;wBAAEqI,SAAS/H,MAAMsO,IAAI,CAAC,kBAAkB;oBAAC;gBAC1E,OAD6E,cAAc,GACpF;oBAAE,IAAI;oBACTlE,wDAAKA,CAAC;wBAAEvC,OAAOnI,2DAAc;wBAAEqI,SAAS/H,MAAMsO,IAAI,CAAC,kBAAkB;oBAAC;gBAC1E,CAAC;YACL;QACJ;IACJ,CAAC;AACL,CAAC;AAL4F,cAAc,GAO3G,QAAQ;AACD,SAASmN,eAAezb,KAAK,EAAE+G,IAAI,EAAE3C,KAAK,EAAE;IAC/CmD,KAAK;QACDyB,KAAK7B,YAAY3E,MAAM;QACvBuE;QACAmC,SAAS,CAACC,MAAQ;YACd,IAAIA,IAAID,OAAO,EAAE;gBAAE,IAAI;gBACnBlJ,MAAM2a,KAAK,CAACY,aAAa,CAACnD,KAAKG,QAAQ,EAAExR,KAAKwI,GAAG,CAAC,EAAE;gBACpDvP,MAAM2a,KAAK,CAACa,sBAAsB,CAACpD,KAAKG,QAAQ,EAAEnU;gBAClDgG,MAAM;oBAAEvC,OAAOnI,OAAOwJ,OAAO;oBAAEnB,SAAS/H,MAAMsO,IAAI,CAAC,kBAAkB;gBAAC;YAC1E,OAD6E,cAAc,GACpF;gBAAE,IAAI;gBACTlE,MAAM;oBAAEvC,OAAOnI,OAAO+R,OAAO;oBAAE1J,SAAS/H,MAAMsO,IAAI,CAAC,kBAAkB;gBAAC;YAC1E,CAAC;QACL;IACJ;AACJ,CAAC;AAJwF,cAAc,GAMvG,MAAM;AACC,SAAS0L,WAAWha,KAAK,EAAE+Z,SAAS,EAAE;IACzC,IAAI2B,WAAW1b,MAAM2a,KAAK,CAACgB,gBAAgB,CAACvD,0DAAa;IACzD,IAAI,CAAC2B,WAAW;QACZA,YAAY/Z,MAAM4b,MAAM,CAACC,YAAY,CAACzD,2DAAc;IACxD,CAAC;IACD2B,UAAU2B,QAAQ,GAAGA;IACrB3B,UAAU+B,QAAQ,GAAG1D,2DAAc;IAEnC,SAAS;IACTpY,MAAME,MAAM,CAAC6b,WAAW,CAAC;QAAE,CAAC7C,gEAAmB,CAAC,EAAE,KAAK;IAAC;IAExD3R,uDAAIA,CAAC;QACDyB,KAAK7B,kEAAqB;QAC1BJ,MAAMgT;QACN7Q,SAAS,CAACC,MAAQ;YACd,IAAI,EAAED,QAAO,EAAEnC,KAAI,EAAE,GAAGoC;YACxB,IAAIA,IAAIoF,UAAU,IAAIpF,IAAIoF,UAAU,YAAYC,SAASrF,IAAIoF,UAAU,CAACnO,MAAM,GAAG,GAAG;gBAChFJ,MAAMyO,cAAc,CAACtF,IAAIoF,UAAU;YACvC,CAAC;YACD,IAAIrF,WAAWnC,QAAQA,IAAI,CAACqR,0DAAa,CAAC,EAAE;gBACxCpY,MAAM2a,KAAK,CAACqB,eAAe,CAAC5D,0DAAa,EAAErR,IAAI,CAACqR,0DAAa,CAAC;gBAC9DhO,wDAAKA,CAAC;oBAAEvC,OAAOnI,2DAAc;gBAAC;YAClC,OAAO;gBACHM,MAAM2a,KAAK,CAACqB,eAAe,CAAC5D,0DAAa,EAAE;oBAAE/R,MAAM,EAAE;gBAAC;gBACtD+D,wDAAKA,CAAC;oBAAEvC,OAAOnI,2DAAc;oBAAEqI,SAAS/H,MAAMsO,IAAI,CAAC,kBAAkB;gBAAC;YAC1E,CAAC;YAD4E,sBAAsB,GAGnG,UAAU;YACV,IAAI,EAAE0D,WAAU,EAAE,GAAG7H,wDAASA;YAC9B6H,WAAW2G,6DAAgB,EAAEA,oEAAuB,EAAEoB;QAC1D;IACJ;AACJ,CAAC;AAED,MAAM;AACC,SAASkC,cAAcjc,KAAK,EAAEkc,MAAM,EAAE3M,GAAG,EAAE;IAC9C,IAAIxI,OAAO;QACPwI;QACAS,UAAUoI,2DAAc;IAC5B;IAEA7Q,uDAAIA,CAAC;QACDyB,KAAK7B,uEAA0B;QAC/BJ;QACAmC,SAAS,CAACC,MAAQ;YACd,IAAI,EAAED,QAAO,EAAEnC,KAAI,EAAE,GAAGoC;YACxB,IAAID,WAAWnC,QAAQA,IAAI,CAACqR,0DAAa,CAAC,EAAE;gBACxCpY,MAAM2a,KAAK,CAACqB,eAAe,CAAC5D,0DAAa,EAAErR,IAAI,CAACqR,0DAAa,CAAC;gBAC9DhO,wDAAKA,CAAC;oBAAEvC,OAAOnI,2DAAc;gBAAC;YAClC,OAAO;gBACHM,MAAM2a,KAAK,CAACqB,eAAe,CAAC5D,0DAAa,EAAE;oBAAE/R,MAAM,EAAE;gBAAC;gBACtD+D,wDAAKA,CAAC;oBAAEvC,OAAOnI,2DAAc;oBAAEqI,SAAS/H,MAAMsO,IAAI,CAAC,kBAAkB;gBAAC;YAC1E,CAAC;QACL;IACJ;AACJ,CAAC;AAJwF,sBAAsB,GAM/G;;;;CAIC,GACM,SAASkM,cAAcrR,GAAG,EAAE;IAC/B,IAAI,EAAE9I,OAAM,EAAE8b,IAAG,EAAE,GAAGhT,IAAIpC,IAAI;IAC9B,IAAIgB;IACJ,IAAIqU,QAAQjT,IAAIpC,IAAI,CAACqV,KAAK;IAC1B,IAAIC,aAAalT,IAAIpC,IAAI,CAACsV,UAAU;IACpC,IAAIC,UAAUnT,IAAIpC,IAAI,CAACuV,OAAO;IAC9BvU,UAAU,MAAM,OAAOqU,QAAQ;IAAI,cAAc,GACjDrU,UAAUA,UAAU,QAAQsU,aAAa;IAAI,mBAAmB,GAChEtU,UAAUA,UAAU,QAAQuU,UAAU;IAAK,gBAAgB,GAC3D,IAAIC,YAAYpT,IAAIpC,IAAI,CAACyV,aAAa;IACtC,MAAM;IACN,IAAInc,UAAU,GAAG;QACb+J,wDAAKA,CAAC;YACFvC,OAAO;YACPC,OAAO,OAAOqU;YACdpU;YACA0U,SAAS;gBAAC;gBAAM;gBAAM;aAAK;YAAC,kBAAkB,GAC9CC,gBAAgB,IAAI;QACxB;IACJ,OACA,MAAM;IACD,IAAIrc,UAAU,GAAG;QAClB+J,wDAAKA,CAAC;YACFuS,UAAU;YACV9U,OAAO;YACPC,OAAO,OAAOqU;YACdpU;YACA0U,SAAS;gBAAC;gBAAM;gBAAM;aAAK;YAAC,kBAAkB,GAC9CC,gBAAgB,IAAI;YACpBE,mBAAmBL;QACvB;IACJ,OACA,MAAM;IACD,IAAIlc,UAAU,GAAG;QAClB+J,wDAAKA,CAAC;YACFuS,UAAU;YACV9U,OAAO;YACPC,OAAO,OAAOqU;YACdpU;YACA0U,SAAS;gBAAC;gBAAM;gBAAM;aAAK;YAAC,kBAAkB,GAC9CC,gBAAgB,IAAI;YACpBE,mBAAmBL;QACvB;IACJ,CAAC;AACL,CAAC;AAED,OAAO;AACA,SAASM,kBAAkB9X,MAAM,EAAEX,KAAK,EAAEpE,KAAK,EAAE;IACpDA,MAAM8K,MAAM,CAAC3D,+DAAkB,EAAE;QAC7B9G,QAAQX,0DAAa;QACrBa,IAAIwE,MAAM,CAACpF,gEAAmB,CAAC,CAACmB,KAAK;QACrCgD,SAASiB,MAAM,CAACnF,0DAAa,CAAC,CAACkB,KAAK;QACpCiD,iBAAiBgB,MAAM,CAACnF,kEAAqB,CAAC,CAACkB,KAAK;QACpDkP,UAAUxQ,2DAAc;QACxBsd,OAAO9c,MAAMM,WAAW,CAAC;IAC7B;AACJ,CAAC;AAED,UAAU;AACH,SAASyc,eAAe/c,KAAK,EAAE;IAClC,IAAI+Z,YAAY/Z,MAAM4b,MAAM,CAACoB,mBAAmB,CAAC5E,2DAAc,EAAE,UAAUtX,KAAK,CAACmc,UAAU;IAC3F,IAAIvU,SAASqR,UAAUmD,KAAK,CAAC;IAC7B,IAAInD,aAAarR,OAAOtI,MAAM,IAAI,GAAG;QACjCmH,uDAAIA,CAAC;YACDyB,KAAK7B,0EAA6B;YAClCJ,MAAM;gBAAE2B,QAAQA,MAAM,CAAC,EAAE;YAAC;YAC1BQ,SAAS,CAACC,MAAQ;gBACd,IAAIA,IAAIpC,IAAI,CAACjG,KAAK,EAAE;oBAChBuG,SAASrH,OAAOmJ,IAAIpC,IAAI,CAAC2B,MAAM;gBACnC,OACK;oBACDpB,4DAASA,CAAC;wBACNO,OAAO;wBACPC,OAAO;wBACPC,SAAS,CAAC,MAAM,EAAEoB,IAAIpC,IAAI,CAACoW,OAAO,CAAC,2BAA2B,CAAC;wBAC/DnV,UAAU,KAAK;wBACfC,aAAa,KAAK;wBAClBC,eAAe;wBACfC,eAAe;wBACfC,aAAa,IAAI;wBACjBC,gBAAgB,IAAMhB,SAASrH,OAAOmJ,IAAIpC,IAAI,CAAC2B,MAAM;wBACrDC,sBAAsB,KAAK;oBAC/B;gBACJ,CAAC;YACL;QACJ;IACJ,OACK;QACDyB,wDAAKA,CAAC;YAAEvC,OAAO;YAAUE,SAAS;QAAiB;IAEvD,CAAC;AACL,CAAC;AAED,OAAO;AACA,SAASV,SAASrH,KAAK,EAAE0I,MAAM,EAAE;IACpCnB,uDAAIA,CAAC;QACDyB,KAAK7B,oEAAuB;QAC5BJ,MAAM;YAAE2B;YAAQ0U,YAAY,IAAI;QAAC;QACjClU,SAAS,CAACC,MAAQ;YACdiB,wDAAKA,CAAC;gBAAErC,SAAS;YAAQ;YACzB,IAAI,EAAEuD,WAAU,EAAE,GAAGnB,wDAASA;YAC9B,IAAI4P,YAAYzO,WAAWqN,6DAAgB,EAAEA,oEAAuB;YACpEqB,WAAWha,OAAO+Z;QACtB;IACJ;AACJ,CAAC;AAED,IAAI;AACG,SAASsD,QAAQrd,KAAK,EAAE;IAC3B,IAAIsd,UAAUtd,MAAM2a,KAAK,CAACM,eAAe,CAAC7C,0DAAa;IACvD,IAAIkF,QAAQjX,IAAI,CAACjG,MAAM,KAAK,GAAG;QAC3BgK,wDAAKA,CAAC;YAAEvC,OAAOnI,2DAAc;YAAEqI,SAAS;QAAS;QAAG,SAAS,GAC7D;IACJ,CAAC;IACD,IAAIwH,MAAM+N,QAAQC,MAAM;IACxB1a,wDAAKA,CACD,OACAsE,8DAAiB,EACjB;QACI+K,SAASlS,MAAMwd,OAAO;QAAC,QAAQ;QAC/BC,SAAS;QAAW,QAAQ;QAC5BC,MAAMnO;QACNoO,YAAY;IAChB;AAER,CAAC;AAED,IAAI;AACG,SAASC,SAAS5d,KAAK,EAAE;IAC5B,IAAIsd,UAAUtd,MAAM2a,KAAK,CAACM,eAAe,CAAC7C,0DAAa;IACvD,IAAIkF,QAAQjX,IAAI,CAACjG,MAAM,KAAK,GAAG;QAC3BgK,wDAAKA,CAAC;YAAEvC,OAAOnI,2DAAc;YAAEqI,SAAS;QAAU;QAAG,SAAS,GAC9D;IACJ,CAAC;IACD,IAAIwH,MAAM+N,QAAQC,MAAM;IAExB,IAAI,CAAC5W,QAAQ,CAAC;QACVkX,KAAKtO;IACT,GAAG,IAAI,CAACuO,IAAI,CAACC,WAAW,CAACC,IAAI;AACjC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClcgE;AAC6B;AAE9F,WAAW;AACJ,SAASnZ,gBAAgB7E,KAAK,EAAEoC,GAAG,EAAE0C,IAAI,EAAEC,MAAM,EAAEX,KAAK,EAAE;IAC7D,IAAI8K,KAAKnK,MAAM,CAACpF,YAAYsH,OAAO,CAAC,IAAIlC,MAAM,CAACpF,YAAYsH,OAAO,CAAC,CAACnG,KAAK;IACzE,IAAIqO,KAAKpK,MAAM,CAACnF,MAAMuP,EAAE,CAAC,IAAIpK,MAAM,CAACnF,MAAMuP,EAAE,CAAC,CAACrO,KAAK;IACnD,IAAIsO,UAAU,IAAIC;IAClB,UAAU;IACV,IAAIH,MAAMC,IAAI;QACVC,QAAQE,GAAG,CAACJ,IAAIC;IACpB,CAAC;IAED,OAAQ/M;QACJ,IAAI;QACJ,KAAK8W,YAAYE,UAAU;YACvBa,SAASja,OAAOkP;YAChB,KAAM;QAEV,IAAI;QACJ,KAAKgK,YAAYG,UAAU;YACvBoC,eAAe,qCAAKzb;gBAAOsO,MAAM,IAAI,CAACsC,KAAK,CAACtC,IAAI;gBAAI;gBAAEiB,KAAK;oBAACL;iBAAG;gBAAEE;YAAQ,GAAGhL;YAC5E,KAAM;QAEV,IAAI;QACJ,KAAK8U,YAAYzW,IAAI;YACjByX,SAASla,OAAOkP;YAChB,KAAM;QAEV,IAAI;QACJ,KAAKgK,YAAYI,UAAU;YACvBa,WAAWtU,IAAI,CAAC,IAAI,EAAE,qCAAK7F;gBAAOsO,MAAM,IAAI,CAACsC,KAAK,CAACtC,IAAI;gBAAI;gBAAEiB,KAAK;oBAACL;iBAAG;gBAAEE;YAAQ;YAChF,KAAM;QAEV,IAAI;QACJ,KAAK8J,YAAYK,YAAY;YACzBkB,aAAa,qCAAKza;gBAAOsO,MAAM,IAAI,CAACsC,KAAK,CAACtC,IAAI;gBAAI;gBAAEiB,KAAK;oBAACL;iBAAG;gBAAEE;YAAQ;YACvE,KAAM;IACd;AACJ,CAAC;;;ACvCuF;AAExF,QAAQ;AAER,oEAAoE;AAC7D,SAAS6O,cAAcje,KAAK,EAAEyH,QAAQ,EAAE1C,MAAM,EAAEX,KAAK,EAAE/D,MAAM,EAAE;IAClEL,MAAME,MAAM,CAACuD,iBAAiB,CAAC+V,6BAAoBA,EAAE,IAAI;IAEzD,IAAIxY,UAAU,EAAE,EAAEkd,aAAa,IAAI,EAAEC,eAAe,IAAI,EAAEC,eAAe,IAAI;IAC7E,IAAI7D,cAAcva,MAAM2a,KAAK,CAACtV,cAAc,CAAC+S,sBAAa;IAE1D,IAAImC,YAAYna,MAAM,IAAI,GAAG;QACzB;IACJ,OAAO,IAAIma,YAAYna,MAAM,GAAG,GAAG;QAAE,IAAI;QACrCY,UAAU;YAACkY,0BAAiB;YAAEA,2BAAkB;SAAC;QACjD,KAAK,IAAImF,cAAc9D,YAAa;YAChC,IAAIla,SAASge,WAAWtX,IAAI,CAACxC,MAAM,CAAC3E,yBAAgB,CAAC,CAACkB,KAAK;YAC3D,IAAIT,UAAUX,uBAAc,IAAIW,UAAUX,sBAAa,IAAIW,UAAUX,uBAAc,EAAE;gBACjFye,eAAe,KAAK;gBACpBD,aAAa,KAAK;YACtB,OAAO,IAAI7d,UAAUX,uBAAc,EAAE;gBACjC0e,eAAe,KAAK;YACxB,CAAC;QACL;QACA,IAAIF,YAAY;YACZld,QAAQyD,IAAI,CAACyU,8BAAkB;QACnC,CAAC;QACD,IAAIiF,cAAc;YACdnd,QAAQyD,IAAI,CAACyU,2BAAkB;QACnC,CAAC;QACD,IAAIkF,cAAc;YACdpd,QAAQyD,IAAI,CAACyU,6BAAoB;QACrC,CAAC;QACDlZ,MAAME,MAAM,CAACuD,iBAAiB,CAACzC,SAAS,KAAK;IACjD,OAAO;QAAE,IAAI;QACT,IAAIsd,aAAa/D,WAAW,CAAC,EAAE,CAACxT,IAAI,CAACxC,MAAM,CAAC3E,yBAAgB,CAAC,IAAI2a,WAAW,CAAC,EAAE,CAACxT,IAAI,CAACxC,MAAM,CAAC3E,yBAAgB,CAAC,CAACkB,KAAK;QACnH,IAAIwd,cAAc5e,uBAAc,EAAE;YAAE,IAAI;YACpCsB,UAAU;gBAACkY,2BAAkB;gBAAEA,8BAAkB;gBAAEA,+BAAsB;aAAC;QAC9E,OAAO,IAAIoF,cAAc5e,uBAAc,IAAI4e,cAAc5e,sBAAa,IAAI4e,cAAc5e,uBAAc,EAAE;YAAE,IAAI;YAC1GsB,UAAU;gBAACkY,6BAAoB;gBAAEA,iCAAwB;aAAC;QAC9D,CAAC;QACDlZ,MAAME,MAAM,CAACuD,iBAAiB,CAAC;eAAIzC;YAASkY,0BAAiB;YAAEA,2BAAkB;YAAEA,+BAAsB;YAAEA,8BAAqB;YAAEA,8BAAqB;SAAC,EAAE,KAAK;IACnK,CAAC;AAEL,CAAC;AAED,IAAI;AACG,SAASqF,iBAAiBve,KAAK,EAAEyH,QAAQ,EAAEpH,MAAM,EAAED,MAAM,EAAE;IAC9DJ,MAAME,MAAM,CAACuD,iBAAiB,CAAC+V,6BAAoBA,EAAE,IAAI;IAEzD,IAAIe,cAAcva,MAAM2a,KAAK,CAACtV,cAAc,CAAC+S,sBAAa;IAC1D,IAAImC,YAAYna,MAAM,GAAG,GAAG;QACxB,IAAIY,UAAU,EAAE,EAAEkd,aAAa,IAAI,EAAEC,eAAe,IAAI,EAAEC,eAAe,IAAI;QAC7E,IAAI7D,cAAcva,MAAM2a,KAAK,CAACtV,cAAc,CAAC+S,sBAAa;QAC1DpX,UAAU;YAACkY,0BAAiB;YAAEA,2BAAkB;SAAC;QACjD,KAAK,IAAImF,cAAc9D,YAAa;YAChC,IAAIla,SAASge,WAAWtX,IAAI,CAACxC,MAAM,CAAC3E,yBAAgB,CAAC,CAACkB,KAAK;YAC3D,IAAIT,UAAUX,uBAAc,IAAIW,UAAUX,sBAAa,IAAIW,UAAUX,uBAAc,EAAE;gBACjFye,eAAe,KAAK;gBACpBD,aAAa,KAAK;YACtB,OAAO,IAAI7d,UAAUX,uBAAc,EAAE;gBACjC0e,eAAe,KAAK;YACxB,CAAC;QACL;QACA,IAAIF,YAAY;YACZld,QAAQyD,IAAI,CAACyU,8BAAkB;QACnC,CAAC;QACD,IAAIiF,cAAc;YACdnd,QAAQyD,IAAI,CAACyU,2BAAkB;QACnC,CAAC;QACD,IAAIkF,cAAc;YACdpd,QAAQyD,IAAI,CAACyU,6BAAoB;QACrC,CAAC;QACDlZ,MAAME,MAAM,CAACuD,iBAAiB,CAACzC,SAAS,KAAK;IACjD,CAAC;AACL,CAAC;;;AC3EqH;AAC5D;AACc;AAExE,QAAQ;AACD,SAAS2Q,aAAa3R,KAAK,EAAE;IAChCA,MAAM4R,WAAW,CACb;QACI5B,UAAUoI,uBAAc;IAC5B,GAD8B,QAAQ;IAEtC,CAACrR,OAAS;QACN,IAAIA,MAAM;YACN,IAAIA,KAAK7G,MAAM,EAAE;gBACb,+BAA+B;gBAC/B,IAAIA,SAAS6G,KAAK7G,MAAM;gBACxBF,MAAME,MAAM,CAAC2R,UAAU,CAAC3R;gBACxBF,MAAME,MAAM,CAACse,aAAa,CAACtF,+BAAsB,EAAE,IAAI,CAACtI,KAAK,CAACtC,IAAI,CAAC,kBAAkB;gBAAE,iBAAiB,GACxGtO,MAAME,MAAM,CAACuD,iBAAiB,CAAC+V,6BAAoBA,EAAE,IAAI;YAC7D,CAAC;YACD,IAAIzS,KAAK+K,QAAQ,EAAE;gBACf,IAAIlI,OAAO7C,KAAK+K,QAAQ;gBACxBlI,OAAOmI,aAAalM,IAAI,CAAC,IAAI,EAAE7F,OAAO4J;gBACtC,WAAW;gBACX,IAAI7C,KAAKwE,OAAO,IAAIxE,KAAKwE,OAAO,CAAC7C,MAAM,EAAE;oBACrC,IAAI,EAACA,OAAM,EAAE+C,SAAQ,EAAC,GAAG1E,KAAKwE,OAAO;oBACrC,yBAAyB;oBACzB3B,IAAI,CAACwO,uBAAc,CAAC,CAACtO,KAAK,CAAC5H,GAAG,CAAC,CAACC,OAAS;wBACrC,IAAIA,KAAK4H,QAAQ,IAAInK,kBAAS,EAAE;4BAC5BuC,KAAKsc,YAAY,GAAG;gCAAEvZ,SAASuG;gCAAU3K,OAAO4H;4BAAO;wBAC3D,CAAC;oBAIL;gBACJ,CAAC;gBAJrB,yCAAyC;gBACzC,4HAA4H;gBAC5H,yDAAyD;gBAIrCkB,IAAI,CAACwO,uBAAc,CAAC,CAACtO,KAAK,CAAC5H,GAAG,CAAC,CAACC,OAAS;oBACrC,IAAIA,KAAK4H,QAAQ,IAAInK,kBAAS,EAAE;wBAC5BuC,KAAKuc,sBAAsB,GAAG,KAAK;oBACvC,CAAC;gBACL;gBAEA1e,MAAM4J,IAAI,CAACM,OAAO,CAACN;gBACnB,SAAS;gBACT,4CAA4C;gBAC5C,IAAI7C,KAAKwE,OAAO,IAAIxE,KAAKwE,OAAO,CAAC7C,MAAM,EAAE;oBACrC,IAAIiW,WAAW3e,MAAM4b,MAAM,CAACoB,mBAAmB,CAAC5E,uBAAc,EAAExY,kBAAS;oBACzE,+EAA+E;oBAC/E,0EAA0E;oBAC1E,IAAI,CAAE+e,CAAAA,YAAYA,SAAS7d,KAAK,GAAG;wBAC/B,IAAI,EAAC4H,OAAM,EAAE+C,SAAQ,EAAC,GAAG1E,KAAKwE,OAAO;wBACrCvL,MAAM4b,MAAM,CAACgD,mBAAmB,CAACxG,uBAAc,EAAExY,kBAAS,EAAE;4BACxDsF,SAASuG;4BACT3K,OAAO4H;wBACX;oBAEJ,CAAC;gBACL,CAAC;gBACD,MAAM;gBACN,IAAI5E,UAAQ,IAAI,CAAC9D,KAAK,CAAC4b,MAAM,CAACoB,mBAAmB,CAAC5E,uBAAc,EAAC,WAAWtX,KAAK,CAACmc,UAAU;gBAC5F,gBAAgB;gBAChB,IAAI,CAACjd,KAAK,CAAC4b,MAAM,CAACiD,iBAAiB,CAACzG,uBAAc,EAAE,mBAChD,kBAAkB;oBAAEtU;oBAAS+O,kBAAkB;gBAA+D;gBAClH,IAAI,CAAC7S,KAAK,CAAC4b,MAAM,CAACgD,mBAAmB,CAACxG,uBAAc,EAAC,mBAAkB;oBAAClT,SAAQ;oBAAGpE,OAAM;gBAAE;gBAC3Fmd,aAAaA,CAACje;YAClB,CAAC;QACL,CAAC;IACL;AAER,CAAC;AAED,SAAS+R,aAAa/R,KAAK,EAAE4J,IAAI,EAAE;IAE/B,YAAY;IACZ,6CAA6C;IAC7C,kDAAkD;IAClD,wDAAwD;IACxD,wCAAwC;IACxC,uBAAuB;IACvB,iEAAiE;IACjE,2BAA2B;IAC3B,wFAAwF;IACxF,iBAAiB;IACjB,aAAa;IACb,QAAQ;IACR,iDAAiD;IACjD,kDAAkD;IAClD,4CAA4C;IAC5C,+BAA+B;IAC/B,4EAA4E;IAC5E,yBAAyB;IACzB,iBAAiB;IACjB,UAAU;IACV,MAAM;IAEN,MAAM;IACNA,IAAI,CAACwO,sBAAa,CAAC,CAAC0G,UAAU,GAAG,IAAI;IAErClV,IAAI,CAACwO,sBAAa,CAAC,CAACtO,KAAK,GAAGF,IAAI,CAACwO,sBAAa,CAAC,CAACtO,KAAK,CAAC5H,GAAG,CAAC,CAACC,MAAMC,MAAQ;QACrE,IAAID,KAAK4H,QAAQ,IAAIpK,4BAAmB,EAAE;YACtCwC,KAAK0S,MAAM,GAAG,CAAC/P,MAAMC,QAAQX,sBACrB,oBAAC2a;oBACGhJ,OAAO;wBAACiJ,QAAQ;oBAAS;oBACzBC,SAAS,IAAM;wBACXjf,MAAM8K,MAAM,CAAC3D,2BAAkB,EAAE;4BAC7B9G,QAAQX,sBAAa;4BACrBa,IAAIwE,MAAM,CAACpF,4BAAmB,CAAC,CAACmB,KAAK;4BACrCkP,UAAUxQ,uBAAc;wBAC5B;oBACJ;;;;;;;mBAECuF,MAAM,CAACpF,4BAAmB,CAAC,IAAIoF,MAAM,CAACpF,4BAAmB,CAAC,CAACmB,KAAK;QAGjF,CAAC;QACD,OAAOqB;IACX;IAEA,OAAO;IACP,MAAM;IACN,mCAAmC;IACnC,4BAA4B;IAC5B,uBAAuB;IACvB,+DAA+D;IAC/D,sBAAsB;IACtB,sBAAsB;IACtB,8BAA8B;IAC9B,qBAAqB;IACrB,yCAAyC;IACzC,8BAA8B;IAC9B,gDAAgD;IAChD,0FAA0F;IAC1F,oHAAoH;IACpH,mCAAmC;IACnC,sCAAsC;IACtC,6HAA6H;IAC7H,4BAA4B;IAC5B,sCAAsC;IACtC,qCAAqC;IACrC,sCAAsC;IACtC,+EAA+E;IAC/E,4BAA4B;IAC5B,0BAA0B;IAC1B,qDAAqD;IACrD,4BAA4B;IAC5B,eAAe;IAEf,gEAAgE;IAChE,wCAAwC;IACxC,8BAA8B;IAC9B,yGAAyG;IACzG,cAAc;IACd,QAAQ;IACR,MAAM;IAEN,OAAOyH;AACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5J4C;AAcpB;AACoE;AAE5F,UAAU;AACH,SAASwI,YAAYpS,KAAK,EAAEO,EAAE,EAAEuE,IAAI,EAAEC,MAAM,EAAEX,KAAK,EAAE;IACxD,OAAQ7D;QACJ,IAAI;QACJ,KAAK2Y,2BAAkB;YACnBW,mCAAUA,CAAC7Z;YACX,KAAM;QAEV,IAAI;QACJ,KAAKkZ,+BAAsB;YACvB,IAAIqB,cAAcva,MAAM2a,KAAK,IAAI3a,MAAM2a,KAAK,CAACtV,cAAc,CAAC+S,sBAAa;YACzE,IAAIlJ,KAAKqL,WAAW,CAAC,EAAE,CAACxT,IAAI,CAACxC,MAAM,CAAC5E,4BAAmB,CAAC,IAAI4a,WAAW,CAAC,EAAE,CAACxT,IAAI,CAACxC,MAAM,CAAC5E,4BAAmB,CAAC,CAACmB,KAAK;YACjHmZ,iCAAQA,CAACja,OAAOkP;YAChB,KAAM;QAEV,IAAI;QACJ,KAAKgK,8BAAkB;YACnB5R,yCAASA,CAAC;gBACNO,OAAOnI,uBAAc;gBACrBoI,OAAO,IAAI,CAAC8I,KAAK,CAACtC,IAAI,CAAC,kBAAkB;gBAAC,YAAY,GACtDvG,SAAS,IAAI,CAAC6I,KAAK,CAACtC,IAAI,CAAC,kBAAkB;gBAAC,gBAAgB,GAC5DjG,gBAAgB,IAAM;oBAClB0S,uCAAcA,CAAC,2DAAI/a;wBAAOsO,MAAM,IAAI,CAACsC,KAAK,CAACtC,IAAI;;oBAC/CtO,MAAME,MAAM,CAACuD,iBAAiB,CAAC+V,6BAAoBA,EAAE,IAAI;gBAC7D;YACJ;YAEA,KAAM;QAEV,IAAI;QACJ,KAAKN,+BAAsB;YACvB0B,6CAAmB,CAAC,IAAI,EAAE,2DAAI5a;gBAAOsO,MAAM,IAAI,CAACsC,KAAK,CAACtC,IAAI;;YAC1D,KAAM;QAEV,MAAM;QACN,KAAK4K,8BAAqB;YACtB2B,4CAAkB,CAAC,IAAI,EAAE,2DAAI7a;gBAAOsO,MAAM,IAAI,CAACsC,KAAK,CAACtC,IAAI;;YACzD,KAAM;QAEV,MAAM;QACN,KAAK4K,iCAAwB;YACzB4B,8CAAoB,CAAC,IAAI,EAAE,2DAAI9a;gBAAOsO,MAAM,IAAI,CAACsC,KAAK,CAACtC,IAAI;;YAC3D,KAAM;QAEV,IAAI;QACJ,KAAK4K,2BAAkB;YACnBiB,yCAAe,CAAC,IAAI,EAAE,2DAAIna;gBAAOsO,MAAM,IAAI,CAACsC,KAAK,CAACtC,IAAI;;YACtD,KAAM;QAEV,IAAI;QACJ,KAAK4K,6BAAoB;YACrBuB,qCAAYA,CAAC,2DAAIza;gBAAOsO,MAAM,IAAI,CAACsC,KAAK,CAACtC,IAAI;;YAC7C,KAAM;QAEV,IAAI;QACJ,KAAK4K,4BAAmB;YACpBY,oCAAWA,CAAC,2DAAI9Z;gBAAOsO,MAAM,IAAI,CAACsC,KAAK,CAACtC,IAAI;;YAC5C,KAAM;QAEV,OAAO;QACP,KAAK4K,gCAAuB;YACxB6D,uCAAcA,CAAC,2DAAI/c;gBAAOsO,MAAM,IAAI,CAACsC,KAAK,CAACtC,IAAI;;YAC/C,KAAM;QACV,IAAI;QACJ,KAAK4K,0BAAiB;YAClBmE,gCAAOA,CAAC,2DAAIrd;gBAAOsO,MAAM,IAAI,CAACsC,KAAK,CAACtC,IAAI;;YACxC,KAAM;QACV,IAAI;QACJ,KAAK4K,2BAAkB;YACnB0E,uCAAa,CAAC,IAAI,EAAC,2DAAK5d;gBAAOsO,MAAM,IAAI,CAACsC,KAAK,CAACtC,IAAI;;YACpD,KAAM;IACd;AACJ,CAAC;;;ACzF2C;AAE5C,cAAc;AACP,SAAS4Q,eAAelf,KAAK,EAAE;IAC9Bga,mCAAUA,CAACha;AACnB,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACLsC;AACuC;AAC3B;AACF;AACM;AACgB;AACkD;AACtC;AACnF,MAAM,EAAEof,YAAW,EAAE,GAAGrL,gCAAIA;AAE5B,iBAAMsL,aAAazL,iFAASA;IAgBxBQ,qBAAqB;QACjB,oBAAoB;QACpB,+CAA+C;QAC/C,sBAAsB;QACtB,IAAIC,WAAW,CAAC/F,MAAMjO,QAAQiU,OAAS;YACnC,IAAIjU,QAAQ;gBACRsR,iBAAiB,CAAC,IAAI,EAAE,IAAI,CAAC3R,KAAK;gBAAG,iEAAiE;gBAEtG,4BAA4B;gBAC5B,IAAI,CAAC2G,QAAQ,CAAC;oBAAE2H;oBAAMgG;gBAAK;YAC/B,CAAC;QACL;QACA,IAAI,CAACtU,KAAK,CAACuU,SAAS,CAACC,YAAY,CAAC;YAAC/M,UAAUuM,2BAAkB;YAAES,YAAYT,6BAAoB;YAAEK;QAAQ;IAC/G;IAEAO,oBAAoB;QAChB,IAAI,EAACtJ,WAAU,EAAC,GAAGnB,qCAASA;QAC5B,IAAImB,WAAWqN,yBAAgB,EAAEA,gCAAuB,GAAG;YACvD,IAAI,CAAC3Y,KAAK,CAACE,MAAM,CAAC6b,WAAW,CAAC;gBAC1B,CAAC7C,4BAAmB,CAAC,EAAE,KAAK;YAChC;QACJ,OAAO;YACH,IAAI,CAAClZ,KAAK,CAACE,MAAM,CAAC6b,WAAW,CAAC;gBAC1B,CAAC7C,4BAAmB,CAAC,EAAE,IAAI;YAC/B;QACJ,CAAC;IACL;IAwDArE,SAAS;QACL,IAAI,EAAC8F,MAAK,EAAEiB,OAAM,EAAC,GAAG,IAAI,CAAC5b,KAAK;QAChC,IAAI,EAACsf,kBAAiB,EAAC,GAAG3E;QAC1B,IAAI,EAAC4E,eAAc,EAAC,GAAG3D;QACvB,IAAI,EAACzG,WAAU,EAAEC,UAAS,EAAEC,cAAa,EAAEC,cAAa,EAAC,GAAGvB,gCAAIA;QAChE,qBACI,+FAACwB;YAAIC,WAAU;;;;;;;yBACX,+FAACD;YAAIC,WAAU;;;;;;;yBACX,+FAACD;YAAIC,WAAU;;;;;;;WACV2J,8CAAcA,kBACf,+FAACK;YAAGhK,WAAU;;;;;;;WAAsB,0BAGxC,+FAACD;YAAIC,WAAU;;;;;;;WACV,IAAI,CAACxV,KAAK,CAACE,MAAM,CAACyV,eAAe,CAAC;YAC/BC,MAAMwC,2BAAkB;YACxBtC,eAAe1D,gBAAgB,CAAC,IAAI;QACxC,oBAIR,+FAACmD;YAAIC,WAAU;;;;;;;WACV+J,eAAenH,uBAAc,EAAE;YAC5BqH,gBAAgB,IAAI,CAACA,cAAc;YACnCtJ,cAAa,IAAI,CAACuJ,UAAU;QAChC,mBAGJ,+FAACnK;YAAIC,WAAU;;;;;;;WACV8J,kBAAkBlH,sBAAa,EAAE;YAC9B7B,WAAW,IAAI;YACfC,WAAW,IAAI;YAAE,MAAM;YACvBhL,YAAYmN,gCAAuB;YACnC1C,QAAQtW,4BAAmB;YAC3BuW,sBAAsB,IAAI,CAACA,oBAAoB;YAC/CyJ,kBAAkB,IAAI,CAACA,gBAAgB;YACvClJ,YAAY,IAAI,CAACmJ,cAAc;YAC/BlJ,eAAe,IAAI,CAACmJ,iBAAiB;QACzC,KAGH,MAAM,GACN,IAAI,CAACjP,KAAK,CAACD,YAAY,kBACpB,+FAACwE,YAAAA,sBAAAA,CAAAA,iBAAAA;YACG2B,WAAW;WACP,IAAI,CAAClG,KAAK,CAACC,QAAQ;YACvBkG,QAAQ,IAAM;gBACV,IAAI,CAACpQ,QAAQ,CAAC;oBACVgK,cAAc,KAAK;gBACvB;YACJ;;;;;;;aAIP,QAAQ,iBAEL,+FAACyE;YACG4B,MAAM,IAAI,CAACpG,KAAK,CAACG,aAAa;YAC9BkG,OAAO,IAAM;gBACT,IAAI,CAACtQ,QAAQ,CAAC;oBAACoK,eAAe,KAAK;gBAAA;YACvC;YACA7B,IAAI,IAAI,CAAC0B,KAAK,CAACI,eAAe;YAC9BmC,MAAM,IAAI,CAACvC,KAAK,CAACK,iBAAiB;;;;;;;YAIzC,MAAM,GACN,IAAI,CAACL,KAAK,CAACW,gBAAgB,kBACxB,+FAAC8D;YACGvN,OAAO,IAAI,CAAC8I,KAAK,CAACtC,IAAI,CAAC,kBAAkB;YAAE,YAAY,GACvDvH,MAAM,IAAI,CAAC6J,KAAK,CAACU,aAAa;YAC9BpM,SAAS,IAAI,CAAC0L,KAAK,CAACW,gBAAgB;YACpC2F,WAAW,IAAI,CAACC,aAAa;YAC7B9V,QAAQ,IAAI,CAAC+V,gBAAgB;;;;;;;YAIpC,gBAAgB,GAChB,GAAG,GACH,oBAAoB,GACpB,6CAA6C,GAC7C,mCAAmC,GACnC,oCAAoC,GACpC,wBAAwB,GACxB,6BAA6B,GAC7B,0CAA0C,GAC1C,iBAAiB,GACjB,YAAY,GACZ,QAAQ,GACR,GAAG,iBACJ,+FAACgI;YACGU,KAAI;YACJ9W,KAAK7B,0BAAiB;YACtBJ,MAAM;gBACFmL,SAASiG,gBAAOA;gBAAC,QAAQ;gBACzBsF,SAAStF,gBAAOA;gBAAC,QAAQ;gBACzBuF,MAAM,IAAI,CAAC9M,KAAK,CAACiN,GAAG;gBACpBF,YAAY;YAChB;;;;;;;;IAIhB;IAvMAnG,YAAYxX,KAAK,CAAE;QACf,KAAK,CAACA;QA0CVkW,mBAAAA,OAAAA,wBAAuB,CAAClW,OAAOkc,QAAQ3M,MAAQ;YAC3C0M,sCAAaA,CAAC,6CAAIjc;gBAAOsO,MAAM,IAAI,CAACsC,KAAK,CAACtC,IAAI;gBAAG4N,QAAQ3M;QAC7D;QAEAoQ,mBAAAA,OAAAA,oBAAmB,CAAC5a,QAAQX,OAAOpE,QAAU;YACzC6c,0CAAiBA,CAAC9X,QAAQX,OAAO,6CAAIpE;gBAAOsO,MAAM,IAAI,CAACsC,KAAK,CAACtC,IAAI;;QACrE;QAEAmR,mBAAAA,OAAAA,kBAAiB,CAACzf,QAAU;YACxBkf,cAAcA,CAAC,6CAAIlf;gBAAOsO,MAAM,IAAI,CAACsC,KAAK,CAACtC,IAAI;;QACnD;QAEAoR,mBAAAA,OAAAA,cAAW,CAACtd,KAAItB,QAAQ;YACpB,IAAGsB,QAAM,WAAU;gBACf,gBAAgB;gBAChB,IAAI,CAACpC,KAAK,CAAC4b,MAAM,CAACiD,iBAAiB,CAACzG,uBAAc,EAAE,mBAChD,kBAAkB;oBAACtU,SAAQhD;oBAAM+R,kBAAkB;gBAA8D;gBACrH,IAAI,CAAC7S,KAAK,CAAC4b,MAAM,CAACgD,mBAAmB,CAACxG,uBAAc,EAAC,mBAAkB;oBAAClT,SAAQ;oBAAGpE,OAAM;gBAAE;YAC/F,CAAC;YACD,IAAGsB,QAAM,mBAAkB;gBACvB,MAAM;gBACN,IAAI0B,UAAQ,IAAI,CAAC9D,KAAK,CAAC4b,MAAM,CAACoB,mBAAmB,CAAC5E,uBAAc,EAAC,WAAWtX,KAAK,CAACmc,UAAU;gBAC5F,cAAc;gBACd,IAAI,CAACjd,KAAK,CAAC4b,MAAM,CAACiD,iBAAiB,CAACzG,uBAAc,EAAC,eAC/C,kBACA;oBAAEtU;oBAASic,sBAAsBjf,MAAMkJ,OAAO;oBAAE8I,oBAAoBhS,MAAMwS,KAAK;oBAAET,kBAAkB;gBAAgE;YAC3K,CAAC;QACL;QAEA+M,mBAAAA,OAAAA,kBAAiB,CAAC5f,OAAOyH,UAAU1C,QAAQX,OAAO/D,SAAW;YACzD4d,aAAaA,CAACje,OAAOyH,UAAU1C,QAAQX,OAAO/D;QAClD;QAEAwf,mBAAAA,OAAAA,qBAAoB,CAAC7f,OAAOyH,UAAUpH,QAAQD,SAAW;YACrDme,gBAAgBA,CAACve,OAAOyH,UAAUpH,QAAQD;QAC9C;QAEA,MAAM;QACN+W,mBAAAA,OAAAA,iBAAgB,CAACrW,QAAU;YACvBqZ,mCAAUA,CAAC,6CAAI,IAAI,CAACna,KAAK;gBAAEsO,MAAM,IAAI,CAACsC,KAAK,CAACtC,IAAI;gBAAG;gBAC/CiB,KAAK,IAAI,CAACqB,KAAK,CAACY,KAAK;gBACrBqG,SAAS/W;YACb;YACA,IAAI,CAACsW,gBAAgB;QACzB;QAEA,MAAM;QACNA,mBAAAA,OAAAA,oBAAmB,IAAM;YACrB,IAAI,CAACzQ,QAAQ,CAAC;gBACV2K,eAAe,IAAI;gBACnBC,kBAAkB,KAAK;YAC3B;QACJ;QA7FI,IAAI,CAACX,KAAK,GAAG;YACTtC,MAAM,CAAC;YACPqC,cAAc,KAAK;YACnBE,UAAU,CAAC;YACXS,eAAe,IAAI;YAAE,MAAM;YAC3BC,kBAAkB,KAAK;YAAE,QAAQ;YACjCC,OAAO,IAAI;YAAE,WAAW;YACxBL,mBAAmB,KAAK;YAAE,UAAU;YACpCV,QAAQ,IAAI;QAChB;QACAzQ,MAAM8X,GAAG,CAAC6C,KAAK,CAACvC,sBAAa;IACjC;AA2LJ;AAEAiH,OAAOxL,0CAAUA,CAAC,CAAC,GAAGwL;AACtB,2CAAeA,IAAIA,EAAC;;;;;;;;ACtNpB;;;;;;;ACAA;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;ACNmD;AACxB;AAE3B;;;AAGA,GACA,MAAMa,OAAOF,8CAAcA,CAAC,IACpB,+FAAiF;AAGzF,MAAMG,SAAS;IACP;QACQC,MAAM;QACNC,WAAWJ,eAAIA;QACfK,OAAO,IAAI;IACnB;IACA;QACQF,MAAM;QACNC,WAAWJ,eAAIA;IACvB;IACA;QACQG,MAAM;QACNC,WAAWH;IACnB;CACP;AAED,6CAAeC,MAAMA,EAAC;;;AC3B2B;AACnB;AAE7B,UAASK,KAAKC,OAAO,EAAEC,SAAS,EAAE;IAC3BH,4CAAYA,CAACE,SAASC;AAC9B,GAAGP,MAAMA,EAAE","sources":["webpack://page/webpack/universalModuleDefinition","webpack://page/./src/hpf/hpfc/m0z10301/card/events/buttonVisibilityControl.js","webpack://page/./src/hpf/hpfc/m0z10301/card/events/bodyButtonClick.js","webpack://page/./src/hpf/hpfc/m0z10301/card/events/afterHeadEvent.js","webpack://page/./src/hpf/hpfc/m0z10301/card/events/cardOperator.js","webpack://page/./src/hpf/hpfc/m0z10301/card/events/initTemplate.js","webpack://page/./src/hpf/hpfc/m0z10301/card/events/buttonClick.js","webpack://page/./src/hpf/hpfc/m0z10301/card/events/beforeHeadEvent.js","webpack://page/./src/hpf/hpfc/m0z10301/card/events/beforeTableEvent.js","webpack://page/./src/hpf/hpfc/m0z10301/card/events/afterTableEvent.js","webpack://page/./src/hpf/hpfc/m0z10301/card/events/bodySelectedEvent.js","webpack://page/./src/hpf/hpfc/m0z10301/card/index.js","webpack://page/./src/hpf/hpfc/m0z10301/constant/index.js","webpack://page/./src/hpf/hpfc/m0z10301/list/events/listOperator.js","webpack://page/./src/hpf/hpfc/m0z10301/list/events/bodyButtonClick.js","webpack://page/./src/hpf/hpfc/m0z10301/list/events/selectedEvent.js","webpack://page/./src/hpf/hpfc/m0z10301/list/events/initTemplate.js","webpack://page/./src/hpf/hpfc/m0z10301/list/events/buttonClick.js","webpack://page/./src/hpf/hpfc/m0z10301/list/events/searchBtnClick.js","webpack://page/./src/hpf/hpfc/m0z10301/list/index.js","webpack://page/external umd \"nc-lightapp-front\"","webpack://page/external umd {\"root\":\"React\",\"var\":\"React\",\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\"}","webpack://page/webpack/bootstrap","webpack://page/webpack/runtime/compat get default export","webpack://page/webpack/runtime/define property getters","webpack://page/webpack/runtime/hasOwnProperty shorthand","webpack://page/webpack/runtime/make namespace object","webpack://page/./src/hpf/hpfc/m0z10301/main/router.js","webpack://page/./src/hpf/hpfc/m0z10301/main/index.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"nc-lightapp-front\"), require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"nc-lightapp-front\", \"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"hpf/hpfc/m0z10301/main/index\"] = factory(require(\"nc-lightapp-front\"), require(\"react\"));\n\telse\n\t\troot[\"hpf/hpfc/m0z10301/main/index\"] = factory(root[\"nc-lightapp-front\"], root[\"React\"]);\n})(self, (__WEBPACK_EXTERNAL_MODULE__5118__, __WEBPACK_EXTERNAL_MODULE__6487__) => {\nreturn ","import { CARD, CARD_BUTTON, STATUS, PRIMARY_KEY, FIELD, CARD_DISABLED_BUTTON, editcfg } from '../../constant';\r\n\r\n/**\r\n* @description: 卡片按钮可见性\r\n*/\r\nexport function buttonVisibilityControl(props) {\r\n\r\n    /** \r\n     * 此处应根据实际情况自由发挥\r\n     * 目标就是将某个状态下的某些按钮展示或隐藏\r\n     * 示例代码可能过于繁琐且难以理解\r\n     * \r\n     * 可调用如下方法实现\r\n     * props.button.setButtonVisible();\r\n     * props.button.setButtonDisabled();\r\n     * \r\n     * 例如\r\n     * let btn1 = [ 编辑态下显示的按钮 ];\r\n     * let btn2 = [ 编辑态下不显示的按钮 ];\r\n     * \r\n     * props.button.setButtonVisible(btn1,true);\r\n     * props.button.setButtonVisible(btn2,false);\r\n     * 即可控制编辑态下的显示按钮。\r\n    */\r\n\r\n    let buttons = props.button.getButtons();\r\n    if (!buttons || buttons.length == 0) {\r\n        //模板没渲染完成，暂不渲染按钮\r\n        return;\r\n    }\r\n    let status = props.getUrlParam(STATUS.status);\r\n    let id = props.getUrlParam(PRIMARY_KEY.id);\r\n    let isBrowse = status === STATUS.browse;\r\n    //单据状态\r\n    let billStatus = props.form.getFormItemsValue(CARD.form_id, FIELD.billStatus) && props.form.getFormItemsValue(CARD.form_id, FIELD.billStatus).value;\r\n\r\n    let btnObj = {};\r\n    //将要显示的按钮\r\n    let showBtn = [];\r\n    //编辑态显示按钮\r\n    let editBtn = [CARD_BUTTON.save, CARD_BUTTON.saveAdd, CARD_BUTTON.saveCommit, CARD_BUTTON.cancel,\r\n    CARD_BUTTON.addRow, CARD_BUTTON.deleteRow, CARD_BUTTON.copyRows,\r\n    CARD_BUTTON.insertRow, CARD_BUTTON.delRow, CARD_BUTTON.copyRow, CARD_BUTTON.pasteHere, CARD_BUTTON.expand];\r\n    //联查按钮\r\n    let unionBtn = [CARD_BUTTON.billTrack, CARD_BUTTON.approvalLink];\r\n    //获得所有的按钮的编码（不包括按钮组下的按钮）\r\n    let parentButtons = buttons.map(item => item.key);\r\n    //(有重复的按钮编码，但无妨)\r\n    let allBtns = [...parentButtons, ...editBtn, ...unionBtn, CARD_BUTTON.create, CARD_BUTTON.update, CARD_BUTTON.delete, CARD_BUTTON.copy, CARD_BUTTON.output];\r\n    if (!isBrowse) { //编辑态\r\n\r\n        showBtn = editBtn;\r\n\r\n    } else { //浏览态\r\n        if (!id) {//点击新增然后点击取消后\r\n\r\n            showBtn = [CARD_BUTTON.create];\r\n\r\n        } else {//单据浏览态\r\n            let commonBtn = [CARD_BUTTON.create, CARD_BUTTON.copy, CARD_BUTTON.attachment, ...unionBtn, CARD_BUTTON.print, CARD_BUTTON.output, CARD_BUTTON.refresh, CARD_BUTTON.fold, CARD_BUTTON.unfold];\r\n            switch (billStatus) {\r\n                case STATUS.NOSTATE:\r\n                    showBtn = [CARD_BUTTON.update, CARD_BUTTON.delete, CARD_BUTTON.commit, ...commonBtn];\r\n                    break;\r\n                case STATUS.PASSING:\r\n                case STATUS.COMMIT:\r\n                case STATUS.GOINGON:\r\n                    showBtn = [CARD_BUTTON.unCommit, ...commonBtn];\r\n                    break;\r\n                default:\r\n                    showBtn = [...commonBtn];\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n    for (let item of allBtns) {\r\n        btnObj[item] = showBtn.includes(item);\r\n    }\r\n    //控制按钮显示与否\r\n    props.button.setButtonVisible(btnObj);\r\n    //设置按钮禁用\r\n    //props.button.setButtonDisabled(CARD_DISABLED_BUTTON, true);\r\n    props.button.setButtonDisabled(CARD_BUTTON.save, false);\r\n    props.button.setButtonDisabled(CARD_BUTTON.addRow, false);\r\n    props.button.setButtonDisabled(CARD_BUTTON.deleteRow, false);\r\n    //设置卡片状态\r\n    props.cardTable.setStatus(CARD.table_code, isBrowse ? STATUS.browse : STATUS.edit);\r\n    if(!isBrowse){\r\n        let idissys = props.getUrlParam('idissys');//目标系统\r\n        let idissysbilltype = props.getUrlParam('idissysbilltype');//目标系统单据类型\r\n        if (idissys == 8) {\r\n            if (editcfg.has(idissysbilltype)) {\r\n                let indexs = [];\r\n                if (idissysbilltype == 'CP04') {//收入单据(项目成本)\r\n                    props.cardTable.getAllRows('card_body').forEach((item, index) => {\r\n                        if (editcfg.get(idissysbilltype).indexOf(item.values.fieldcode.value) > -1) {\r\n                            indexs.push(index);\r\n                        }\r\n                    });\r\n                    props.cardTable.setEditableByIndex('card_body', indexs, ['fieldcode', 'fieldname', 'ifchange', 'ifgroup'], false);\r\n                } else {\r\n                    props.cardTable.getAllRows('card_body').forEach((item, index) => {\r\n                        if (editcfg.get(idissysbilltype).indexOf(item.values.fieldcode.value) > -1) {\r\n                            indexs.push(index);\r\n                        }\r\n                    });\r\n                    props.cardTable.setEditableByIndex('card_body', indexs, ['ifchange'], false);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    props.form.setFormStatus(CARD.form_id, status);\r\n}\r\n","import { deepClone } from 'nc-lightapp-front';\nimport { CARD_BUTTON, CARD, STATUS, CARD_DISABLED_BUTTON, PRIMARY_KEY } from '../../constant';\n\n/**\n* @description: 表体按钮点击事件\n* @param: key 当前触发按钮名称\n* @param: index 当前行序\n* @param: record 当前行信息\n*/\nexport function bodyButtonClick(props, key, text, record, index) {\n    let rowno;\n    switch (key) {\n        //肩 新增\n        case CARD_BUTTON.addRow:\n            //自动填充行号\n            rowno=getRowNo(props);\n            props.cardTable.addRow(CARD.table_code,-1,{rowno:{display:rowno.toString(),value:rowno.toString()}});\n            break;\n\n        //肩 删除\n        case CARD_BUTTON.deleteRow:\n            let checkedRows = props.cardTable.getCheckedRows(CARD.table_code);\n            let checkedIndex = checkedRows && checkedRows.map(item => item.index);\n            if (checkedRows.length > 0) {\n                props.cardTable.delRowsByIndex(CARD.table_code, checkedIndex);\n                props.button.setButtonDisabled(CARD_DISABLED_BUTTON, true);\n            }\n            break;\n\n        //行 展开\n        case CARD_BUTTON.expand:\n            props.cardTable.openTabModel(CARD.table_code, STATUS.edit, record, index);\n            break;\n\n        //行 展开（浏览态）\n        case CARD_BUTTON.unfold:\n        //行 收起\n        case CARD_BUTTON.fold:\n            props.cardTable.toggleTabRowView(CARD.table_code, record);\n            break;\n\n        //行 插行\n        case CARD_BUTTON.insertRow:\n            //自动填充行号\n            rowno=getRowNo(props);\n            props.cardTable.addRow(CARD.table_code, index,{rowno:{display:rowno.toString(),value:rowno.toString()}});\n            break;\n\n        //行 删行\n        case CARD_BUTTON.delRow:\n            props.cardTable.delRowsByIndex(CARD.table_code, index);\n            break;\n\n        //行 复制行\n        case CARD_BUTTON.copyRow:\n            props.cardTable.pasteRow(CARD.table_code, index, [PRIMARY_KEY.body_id]);\n            break;\n\n        //肩 复制行\n        case CARD_BUTTON.copyRows:\n            copyControl.call(this, props, true);\n            break;\n\n        //肩 取消复制\n        case CARD_BUTTON.pasteCancel:\n            copyControl.call(this, props, false);\n            break;\n\n        //肩 粘贴至末行\n        case CARD_BUTTON.pasteTail:\n            let lastIndex = props.cardTable.getNumberOfRows(CARD.table_code);\n            props.cardTable.insertRowsAfterIndex(CARD.table_code, getPasteRows(props), lastIndex);\n            copyControl.call(this, props, false);\n            props.cardTable.selectAllRows(CARD.table_code, false);\n            break;\n\n        //行 粘贴至此\n        case CARD_BUTTON.pasteHere:\n            props.cardTable.insertRowsAfterIndex(CARD.table_code, getPasteRows(props), index);\n            copyControl.call(this, props, false);\n            props.cardTable.selectAllRows(CARD.table_code, false);\n            break;\n    }\n    if (![CARD_BUTTON.unfold, CARD_BUTTON.fold].includes(key)) {\n        props.cardTable.setStatus(CARD.table_code, STATUS.edit);\n    }\n}\n\n//获取行号\nexport function getRowNo(props){\n    //自动填充行号\n    let rows=props.cardTable.getAllRows(CARD.table_code);\n    let maxRowNo=0;\n    rows.forEach(row=>{\n        if(row.values.rowno.value&&parseInt(row.values.rowno.value)>maxRowNo){\n            maxRowNo=parseInt(row.values.rowno.value);\n        }\n    });\n    maxRowNo+=10;\n    return maxRowNo;\n}\n\n//复制时的状态控制\nfunction copyControl(props, flag) {\n    //肩部按钮显示控制\n    props.button.setButtonVisible({\n        [CARD_BUTTON.addRow]: !flag,\n        [CARD_BUTTON.deleteRow]: !flag,\n        [CARD_BUTTON.copyRows]: !flag,\n\n        [CARD_BUTTON.pasteTail]: flag,\n        [CARD_BUTTON.pasteCancel]: flag,\n    });\n    props.cardTable.setAllCheckboxAble(CARD.table_code, !flag);\n    this.setState({ isPaste: flag });\n}\n\n/**\n * 获取粘贴行数据\n *\n * @returns 返回粘贴行数据\n */\nfunction getPasteRows(props) {\n    let checkedRows = props.cardTable.getCheckedRows(CARD.table_code);\n    let selectRowCopy = deepClone(checkedRows);\n    let selectArr = selectRowCopy.map(item => {\n        item.data.selected = false;\n        item.data.values[PRIMARY_KEY.head_id] ? item.data.values[PRIMARY_KEY.head_id].value = null : null;\n        item.data.values[PRIMARY_KEY.body_id] ? item.data.values[PRIMARY_KEY.body_id].value = null : null;\n        return item.data;\n    });\n    return selectArr;\n}\n","import {FIELD, CARD_ADD_DISABLED_BUTTON, CARD, REQUEST_URL, STATUS, PRIMARY_KEY, DATASOURCE} from \"../../constant\";\nimport {initData} from \"../../list/events/listOperator\";\nimport { promptBox,ajax } from 'nc-lightapp-front';\nimport {getRowNo} from \"./bodyButtonClick\";\n\n/**\n * @description: 表头编辑后事件\n * @param: moduleId 区域编码\n * @param: key 当前字段编码\n */\nexport function afterHeadEvent(props, moduleId, key, value, oldValue) {\n    if (key === FIELD.org) {\n        props.resMetaAfterPkorgEdit(); //选择主组织以后，恢复其他字段的编辑性\n        props.button.setButtonDisabled(CARD_ADD_DISABLED_BUTTON, false);//恢复增行编辑性\n        props.cardTable.setAllCheckboxAble(CARD.table_code, true);\n\n        if(oldValue.value&&value.value!=oldValue.value){\n            //更改业务单元时提示会清空表体\n            promptBox({\n                color: 'info',\n                title: '确认修改',\n                content: `是否修改业务单元，这样会清空您录入的信息？`,\n                noFooter: false,\n                noCancelBtn: false,\n                beSureBtnName: '是',\n                cancelBtnName: '否',\n                hasCloseBtn: false,\n                beSureBtnClick: ()=>{\n                    //清空目标系统，目标系统单据类型，中间表元数据\n                    props.form.setFormItemsValue(CARD.form_id, {\n                        idissys:{value:null,display:null},\n                        idissysbilltype:{value:null,display:null},\n                        midmetadata:{value:null,display:null}\n                    });\n                    //清空表格数据\n                    clearTable(props);\n                },\n                cancelBtnClick:()=>{\n                    //业务单元重新赋值变更前的值\n                    props.form.setFormItemsValue(CARD.form_id, {\n                        pk_org:{value:oldValue.value,display:oldValue.display}\n                    });\n                },\n                closeByClickBackDrop: false\n            });\n        }\n    }\n    if(key==\"idissys\"){\n        if(value.value&&value.value!=oldValue.value){\n            //清空目标系统单据类型，中间表元数据\n            props.form.setFormItemsValue(CARD.form_id, {\n                idissysbilltype:{value:null,display:null},\n                midmetadata:{value:null,display:null}\n            });\n            //清空表格数据\n            clearTable(props);\n        }\n    }\n    if(key==\"idissysbilltype\"){\n        if(value.value&&value.value!=oldValue.value){\n            //清空中间表元数据\n            props.form.setFormItemsValue(CARD.form_id, {\n                midmetadata:{value:null,display:null}\n            });\n            //清空表格数据\n            clearTable(props);\n        }\n    }\n    if(key==\"midmetadata\"){\n        if(value.value&&value.value!=oldValue.value){\n            //显示遮罩\n            this.setState({showLoading: true});\n\n            let tableid=value.values.defaulttablename.value;\n            //成本-收入数据采集-隐藏“是否转换”列\n            hideTableCol(props);\n            //清空表格数据\n            clearTable(props);\n            //填充选择的元数据字段\n            ajax({\n                url: REQUEST_URL.queryColumn,\n                data: {tableid:tableid},\n                success: (res) => {\n                    let rowno=getRowNo(props);\n                    let gridData=[];\n                    res.data.forEach(data=>{\n                        gridData.push({\n                            values:{\n                                rowno:{display:rowno,value:rowno.toString()}, //行号\n                                fieldid:{display:data.fieldid,value:data.fieldid}, //字段id\n                                fieldcode:{display:data.fieldcode,value:data.fieldcode}, //字段编码\n                                fieldname:{display:data.fieldname,value:data.fieldname} //字段名称\n                            }\n                        });\n                        rowno+=10;\n                    });\n                    props.cardTable.insertRowsAfterIndex(CARD.table_code,gridData,-1);\n                    //关闭遮罩\n                    this.setState({showLoading: false});\n                },\n                error:(error)=>{\n                    console.log(error);\n                    //关闭遮罩\n                    this.setState({showLoading: false});\n                }\n            });\n        }\n    }\n}\n\n/**\n * 清空表格数据\n * */\nfunction clearTable(props){\n    let rows=props.cardTable.getAllRows(CARD.table_code);\n    rows.forEach(row=>{\n        props.cardTable.delRowByRowId(CARD.table_code, row.rowid);\n    });\n}\n\nfunction hideTableCol(props){\n    let [idissys, idissysbilltype] = props.form.getFormItemsValue(CARD.form_id, [FIELD.idissys, FIELD.idissysbilltype]);//目标系统\n    let meta = props.meta.getMeta();\n    meta[CARD.table_code].items.map((item, key) => {                    \n        if(item.attrcode == 'ifchange'){\n            if(idissys.value == '8' && idissysbilltype.refcode == 'CO12'){\n                item.visible = false;\n            } else {\n                item.visible = true;\n            }\n        }\n        return item;\n    });\n    props.meta.setMeta(meta);\n}","import { ajax, cardCache, toast } from 'nc-lightapp-front';\nimport {\n    REQUEST_URL,\n    CARD,\n    PRIMARY_KEY,\n    CARD_BUTTON,\n    CARD_CACHE,\n    DATASOURCE,\n    STATUS,\n    FIELD,\n    BILL_TYPE_CODE,\n    CARD_ADD_DISABLED_BUTTON\n} from '../../constant';\nimport { buttonVisibilityControl } from './buttonVisibilityControl';\nimport { afterHeadEvent } from './afterHeadEvent';\n\nlet { updateCache, addCache, getNextId, deleteCacheById, getCacheById, getCurrentLastId } = cardCache;\n\n//卡片返回\nexport function cardBack(props) {\n    props.pushTo(REQUEST_URL.toList, {});\n}\n\n\n//卡片新增\nexport function cardCreate(props) {\n    props.setUrlParam({ status: STATUS.add });\n    //单据有主组织，新增时,将其他字段设置为不可编辑\n    props.initMetaByPkorg();\n    props.button.setButtonDisabled(CARD_ADD_DISABLED_BUTTON, true);\n    props.cardTable.setAllCheckboxAble(CARD.table_code, false);\n    clearAll(props);\n    setByStatus(props);\n\n    let { getDefData } = cardCache;\n    let context = getDefData(CARD_CACHE.key, CARD_CACHE.dataSource);\n    if (context) {\n        let { pk_org, org_Name } = context;\n        props.form.setFormItemsValue(CARD.form_id, {\n            [FIELD.org]: { value: pk_org, display: org_Name }\n        });\n        afterHeadEvent(props, CARD.form_id, FIELD.org, { display: org_Name, value: pk_org }, {\n            display: null,\n            value: null\n        });\n    }\n    //新增时赋值创建人，创建时间\n    let userName = window.parent.GETBUSINESSINFO().userName;\n    let userId = window.parent.GETBUSINESSINFO().userId;\n    let now = getNowDateTime();\n    props.form.setFormItemsValue(CARD.form_id, {\n        creator: { value: userId, display: userName },\n        creationtime: { display: now, value: now }\n    });\n}\n\n/**\n * 获取当前时间\n * */\nexport function getNowDateTime() {\n    let now = new Date();\n    return `${now.getFullYear()}-${(now.getMonth() + 1) < 10 ? `0${now.getMonth() + 1}` : now.getMonth() + 1}-${now.getDate() < 10 ? `0${now.getDate()}` : now.getDate()} ${now.getHours() < 10 ? `0${now.getHours()}` : now.getHours()}:${now.getMinutes() < 10 ? `0${now.getMinutes()}` : now.getMinutes()}:${now.getSeconds() < 10 ? `0${now.getSeconds()}` : now.getSeconds()}`;\n}\n\n/**\n * 根据状态设置卡片\n * @param {*} status\n */\nfunction setByStatus(props) {\n    buttonVisibilityControl(props);\n    let status = props.getUrlParam(STATUS.status);\n    //设置单据编号\n    props.BillHeadInfo.setBillHeadInfoVisible({\n        showBackBtn: status === STATUS.browse,\n        showBillCode: false,\n        billCode: props.form.getFormItemsValue(CARD.form_id, PRIMARY_KEY.bill_no) && props.form.getFormItemsValue(CARD.form_id, PRIMARY_KEY.bill_no).value\n    });\n    if (status !== STATUS.add) {\n        props.resMetaAfterPkorgEdit(); //选择主组织以后，恢复其他字段的编辑性\n    }\n}\n\n/**\n * 组织多版本视图\n * @param {*} props\n * @param {*} headCode\n */\nfunction orgVersionView(props) {\n    let status = props.getUrlParam(STATUS.status);\n    //浏览态显示组织版本，编辑态显示组织\n    let showflag = status == STATUS.browse;\n    let obj = {};\n    obj[FIELD.org] = !showflag;\n    props.form.setFormItemsVisible(CARD.form_id, obj);\n}\n\n//清空表头表体数据\nfunction clearAll(props) {\n    props.form.EmptyAllFormValue(CARD.form_id);\n    props.cardTable.setTableData(CARD.table_code, { rows: [] });\n}\n\n//复制时清空数据\nexport function copyClear(props) {\n    if (props.getUrlParam('isCopy')) {\n        props.form.setFormItemsValue(CARD.form_id, {\n            [PRIMARY_KEY.head_id]: { value: null, display: null },\n            [PRIMARY_KEY.bill_no]: { value: null, display: null },\n            [FIELD.billStatus]: { value: STATUS.NOSTATE, display: '自由' }\n\n        });\n        props.cardTable.setColValue(CARD.table_code, PRIMARY_KEY.head_id, { value: null, display: null });\n        props.cardTable.setColValue(CARD.table_code, PRIMARY_KEY.body_id, { value: null, display: null });\n\n        let num = props.cardTable.getNumberOfRows(CARD.table_code, false);\n        let updateArray = [];\n        for (let i = 0; i < num; i++) {\n            updateArray.push({\n                index: i,\n                status: '2',//新增态\n            });\n        }\n        props.cardTable.setRowStatusByIndexs(CARD.table_code, updateArray);\n\n        props.setUrlParam({\n            id: null,\n            isCopy: false,\n            status: STATUS.add\n        });\n    }\n}\n\n//卡片保存\nexport function cardSave(props) {\n    return new Promise((resolve, rejected) => {\n        let flag = props.form.isCheckNow(CARD.form_id) && props.cardTable.checkTableRequired(CARD.table_code);\n        if (flag) {\n            let data = props.createMasterChildData(CARD.page_code, CARD.form_id, CARD.table_code, 'cardTable');\n            props.validateToSave(data, () => {\n\n                let status = props.getUrlParam(STATUS.status);\n                ajax({\n                    url: REQUEST_URL.save,\n                    data,\n                    success: (res) => {\n                        let { success, data } = res;\n                        if (success) {\n                            toast({ color: STATUS.success, content: props.json['M0Z10301-000004'] });/* 国际化处理： 保存成功*/\n\n                            if (res.formulamsg && res.formulamsg instanceof Array && res.formulamsg.length > 0) {\n                                props.dealFormulamsg(res.formulamsg);\n                            }\n\n                            let id = null;\n                            if (res.data) {\n                                if (res.data.head && res.data.head[CARD.form_id]) {\n                                    id = res.data.head[CARD.form_id].rows[0].values[PRIMARY_KEY.head_id].value;\n                                    props.form.setAllFormValue({ [CARD.form_id]: res.data.head[CARD.form_id] });\n                                }\n                                if (res.data.body && res.data.body[CARD.table_code]) {\n                                    props.cardTable.setTableData(CARD.table_code, res.data.body[CARD.table_code]);\n                                }\n                            }\n\n                            props.setUrlParam({\n                                id,\n                                status: STATUS.browse\n                            });\n\n                            // 缓存\n                            if (status === STATUS.add) {\n                                addCache(id, data, CARD.form_id, DATASOURCE);\n                            } else {\n                                updateCache(PRIMARY_KEY.head_id, id, data, CARD.form_id, DATASOURCE);\n                            }\n\n                            setByStatus(props);\n\n                            resolve(true);\n                        }\n                    }\n                });\n\n            }, { [CARD.table_code]: 'cardTable' });\n        }\n    });\n}\n\n//卡片修改\nexport function cardUpdate(props) {\n    props.setUrlParam({ status: STATUS.edit });\n    setByStatus(props);\n    //修改时时赋值修改人，修改时间\n    let userName = window.parent.GETBUSINESSINFO().userName;\n    let userId = window.parent.GETBUSINESSINFO().userId;\n    let now = getNowDateTime();\n    props.form.setFormItemsValue(CARD.form_id, {\n        modifier: { value: userId, display: userName },\n        modifiedtime: { display: now, value: now }\n    });\n}\n\n//卡片修改\nexport function cardCopy(props) {\n    props.setUrlParam({ isCopy: true });\n    copyClear(props);\n    setByStatus(props);\n}\n\n//卡片删除\nexport function cardDelete(props) {\n    let pk = props.form.getFormItemsValue(CARD.form_id, PRIMARY_KEY.head_id).value || props.getUrlParam(PRIMARY_KEY.id);\n    let ts = props.form.getFormItemsValue(CARD.form_id, FIELD.ts) && props.form.getFormItemsValue(CARD.form_id, FIELD.ts).value;\n    let pkMapTs = new Map();\n    //主键与tsMap\n    if (pk && ts) {\n        pkMapTs.set(pk, ts);\n    }\n    let data = { pks: [pk], pkMapTs };\n    ajax({\n        url: REQUEST_URL.delete,\n        data,\n        success: (res) => {\n            if (res.success) {\n                toast({ color: STATUS.success, content: props.json['M0Z10301-000005'] });/* 国际化处理： 删除成功*/\n\n                // 获取下一条数据的id\n                let nextId = getNextId(pk, DATASOURCE);\n                //删除缓存\n                deleteCacheById(PRIMARY_KEY.head_id, pk, DATASOURCE);\n                let lastId = nextId || null;\n                props.setUrlParam({ status: STATUS.browse, id: lastId });\n                if (lastId) {\n                    getCardData(props, lastId);\n                } else {// 删除的是最后一个的操作\n                    clearAll(props);\n                    setByStatus(props);\n                }\n            }\n        }\n    });\n}\n\n/**\n * 卡片详情\n * @param {*} id         单据id\n * @param {*} isRefresh  是否刷新按钮，是的话不取缓存数据，直接调取接口，并addCache, 默认否\n */\nexport function getCardData(props, id, isRefresh = false, callBack) {\n    clearAll(props);\n    if (!isRefresh) {\n        let cardData = getCacheById(id, DATASOURCE);\n        if (cardData) {//有缓存\n            cardData.head && props.form.setAllFormValue({ [CARD.form_id]: cardData.head[CARD.form_id] });\n            //成本档案对照特殊处理 add by suqc\n            showHideColsCtrl(props, cardData.head[CARD.form_id]);\n            cardData.body && props.cardTable.setTableData(CARD.table_code, cardData.body[CARD.table_code]);\n            setByStatus(props);\n            return;\n        }\n    }\n    ajax({\n        url: REQUEST_URL.queryCard,\n        data: {\n            pk: id,\n            pagecode: CARD.page_code\n        },\n        success: (res) => {\n            let { success, data } = res;\n            if (success) {\n                if (data && data.head) {\n                    props.form.setAllFormValue({ [CARD.form_id]: data.head[CARD.form_id] });\n                    //成本档案对照特殊处理 add by suqc\n                    showHideColsCtrl(props, data.head[CARD.form_id]);\n                }\n                if (data && data.body) {\n                    //回显字段编码\n                    data.body[CARD.table_code].rows.forEach(item => {\n                        item.values.fieldcode.display = item.values.fieldcode.value;\n                    });\n                    props.cardTable.setTableData(CARD.table_code, data.body[CARD.table_code]);\n                }\n                // 更新缓存\n                updateCache(PRIMARY_KEY.head_id, id, data, CARD.form_id, DATASOURCE);\n                callBack && callBack(props);\n                setByStatus(props);\n            }\n        },\n        error: (res) => {\n            toast({ color: STATUS.danger, content: res.message });\n            clearAll(props);\n            setByStatus(props);\n        }\n    });\n}\n\nfunction showHideColsCtrl(props, head) {\n    if (head.rows && head.rows.length > 0) {\n        let idissys = head.rows[0].values.idissys.value;\n        let idissysbilltype = head.rows[0].values.idissysbilltype.value;\n        let meta = props.meta.getMeta();\n        meta[CARD.table_code].items.map((item, key) => {\n            if (item.attrcode == 'ifchange') {\n                if (idissys == 8 && idissysbilltype == '0001ZZZZ5C204CC569DD') {\n                    item.visible = false;\n                } else {\n                    item.visible = true;\n                }\n            }\n            return item;\n        });\n        props.meta.setMeta(meta);\n    }\n}\n\n//卡片取消\nexport function cardCancel(props) {\n    let id = props.getUrlParam(PRIMARY_KEY.id);\n    props.setUrlParam({ status: STATUS.browse });\n    if (id) { //有id切换编辑态\n        props.form.cancel(CARD.form_id);\n        props.cardTable.resetTableData(CARD.table_code);\n        getCardData(props, id);\n    } else { //没有id查缓存中最后一条数据\n        let currentLastId = getCurrentLastId(DATASOURCE);\n        let lastId = currentLastId || null;\n        props.setUrlParam({ id: lastId });\n        if (lastId) {\n            getCardData(props, lastId);\n        } else {\n            clearAll(props);\n            setByStatus(props);\n        }\n    }\n}\n\n//卡片刷新\nexport function cardRefresh(props) {\n    let id = props.getUrlParam(PRIMARY_KEY.id);\n    getCardData(props, id, true);\n}\n\n/**\n * 卡片分页\n * @param {*} props  页面内置对象\n * @param {*} pk    下一页的pk\n */\nexport function pageClick(props, id) {\n    props.setUrlParam({ status: STATUS.browse, id });\n    getCardData(props, id);\n}\n\n\n//卡片附件\nexport function cardAttachment(props) {\n    let billId = props.form.getFormItemsValue(CARD.form_id, PRIMARY_KEY.head_id) && props.form.getFormItemsValue(CARD.form_id, PRIMARY_KEY.head_id).value;\n    let billNo = props.form.getFormItemsValue(CARD.form_id, PRIMARY_KEY.bill_no) && props.form.getFormItemsValue(CARD.form_id, PRIMARY_KEY.bill_no).value;\n    this.setState({\n        showUploader: !this.state.showUploader,\n        billInfo: { billId, billNo }\n    });\n}\n\n//卡片单据追溯\nexport function cardBillTrack(props) {\n    let billId = props.form.getFormItemsValue(CARD.form_id, PRIMARY_KEY.head_id) && props.form.getFormItemsValue(CARD.form_id, PRIMARY_KEY.head_id).value;\n    this.setState({\n        showBillTrack: true,\n        billTrackBillId: billId,\n        billTrackBillType: BILL_TYPE_CODE\n    });\n}\n\n//卡片联查审批详情\nexport function cardLinkApprove(props) {\n    let billId = props.form.getFormItemsValue(CARD.form_id, PRIMARY_KEY.head_id) && props.form.getFormItemsValue(CARD.form_id, PRIMARY_KEY.head_id).value;\n    this.setState({\n        showApproveDetail: true,\n        billId\n    });\n}\n\n\n//卡片提交\nexport function cardCommit(props, data) {\n    if (!data) {\n        let pk = props.form.getFormItemsValue(CARD.form_id, PRIMARY_KEY.head_id) && props.form.getFormItemsValue(CARD.form_id, PRIMARY_KEY.head_id).value;\n        let ts = props.form.getFormItemsValue(CARD.form_id, FIELD.ts) && props.form.getFormItemsValue(CARD.form_id, FIELD.ts).value;\n        let pkMapTs = new Map();\n        //主键与tsMap\n        if (pk && ts) {\n            pkMapTs.set(pk, ts);\n        }\n        data = { pks: [pk], pkMapTs };\n    }\n    ajax({\n        url: REQUEST_URL.commit,\n        data,\n        success: (res) => {\n            if (res.success) { //成功\n                if (res.data && res.data.workflow && (res.data.workflow == 'approveflow' || res.data.workflow == 'workflow')) {\n                    this.setState({\n                        compositeData: res.data,\n                        compositeDisplay: true,\n                        curPk: data.pks\n                    });\n                } else {\n                    cardRefresh(props);\n                }\n            } else { //失败\n                toast({ color: STATUS.warning, content: props.json['M0Z10301-000015'] });/* 国际化处理： 提交失败*/\n            }\n        }\n    });\n}\n\n\n//卡片收回\nexport function cardUnCommit(props) {\n    let pk = props.form.getFormItemsValue(CARD.form_id, PRIMARY_KEY.head_id) && props.form.getFormItemsValue(CARD.form_id, PRIMARY_KEY.head_id).value;\n    let ts = props.form.getFormItemsValue(CARD.form_id, FIELD.ts) && props.form.getFormItemsValue(CARD.form_id, FIELD.ts).value;\n    let pkMapTs = new Map();\n    //主键与tsMap\n    if (pk && ts) {\n        pkMapTs.set(pk, ts);\n    }\n    let data = { pks: [pk], pkMapTs };\n    ajax({\n        url: REQUEST_URL.unCommit,\n        data,\n        success: (res) => {\n            if (res.success) { //成功\n                cardRefresh(props);\n            } else { //失败\n                toast({ color: STATUS.warning, content: props.json['M0Z10301-000017'] });/* 国际化处理： 收回失败*/\n            }\n        }\n    });\n}\n","import {cardCache} from 'nc-lightapp-front';\nimport {CARD, CARD_BUTTON, STATUS, FIELD, CARD_CACHE, PRIMARY_KEY} from '../../constant';\nimport {cardCreate, getCardData, copyClear} from './cardOperator';\nimport {bodyButtonClick} from './bodyButtonClick';\nimport {buttonVisibilityControl} from './buttonVisibilityControl';\nimport {afterHeadEvent} from './afterHeadEvent';\n\n/**\n * @description: 卡片模板渲染\n */\nexport function initTemplate(props) {\n    props.createUIDom({},\n        (data) => {\n            if (data) {\n                if (data.button) {\n                    let button = data.button;\n                    props.button.setButtons(button);\n                    buttonVisibilityControl(props);\n                }\n                if (data.template) {\n                    let meta = data.template;\n                    meta = modifierMeta.call(this, props, meta);\n                    props.meta.setMeta(meta, () => {\n                        let status = this.props.getUrlParam(STATUS.status);\n                        let id = this.props.getUrlParam(PRIMARY_KEY.id);\n                        if (status === STATUS.add) { //新增\n                            cardCreate(this.props);\n                        } else if (id) {\n                            getCardData(this.props, id, false, copyClear);\n                        }\n                    });\n                }\n                if (data.context && data.context.pk_org) {\n                    if (props.getUrlParam(STATUS.status) === STATUS.add) {\n                        //设置默认组织\n                        let {pk_org, org_Name} = data.context;\n                        props.form.setFormItemsValue(CARD.form_id, {\n                            [FIELD.org]: {value: pk_org, display: org_Name}\n                        });\n                        afterHeadEvent(props, CARD.form_id, FIELD.org, {\n                            display: org_Name,\n                            value: pk_org\n                        }, {display: null, value: null});\n                    }\n                    // 将组织信息缓存\n                    let {setDefData} = cardCache;\n                    setDefData(CARD_CACHE.key, CARD_CACHE.dataSource, data.context);\n                }\n                //表体统一参照过滤\n                /*\n                props.cardTable.setQueryCondition(CARD.table_code, {\n                        department: () => {\n                                return {\n                                        pk_org: props.form.getFormItemsValue(CARD.form_id, FIELD.org).value\n                                };\n                        }\n                });\n                */\n            }\n        }\n    );\n}\n\nfunction modifierMeta(props, meta) {\n    //表头参照过滤\n    meta[CARD.form_id].items.map(item => {\n        if (item.attrcode === FIELD.org) { //财务组织\n            item.queryCondition = () => ({\n                    funcode: props.getSearchParam('c')//appcode获取\n            });\n        }\n    });\n\n    //设置动态列展示 suqc    成本管理-收入数据采集 隐藏“是否转换”列\n    let idissys = this.props.getUrlParam(FIELD.idissys);//目标系统\n    let idissysbilltype = this.props.getUrlParam(FIELD.idissysbilltype);//目标系统单据类型\n    if (idissys == 8 && idissysbilltype == '0001ZZZZ5C204CC569DD') {//收入数据采集\n        meta[CARD.table_code].items.map((item, key) => {\n            if (item.attrcode == 'ifchange') {//隐藏“是否转换”列\n                item.visible = false;\n            }\n            return item;\n        });\n    }\n\n    \n    // for (let item of Object.keys(meta.gridrelation)) {\n    //     meta[item].items.push({\n    //         attrcode: 'opr',\n    //         label: this.state.json['M0Z10301-000006'],/* 国际化处理： 操作*/\n    //         itemtype: 'customer',\n    //         fixed: 'right',\n    //         className: 'table-opr',\n    //         visible: true,\n    //         width: 200,\n    //         render: (text, record, index) => {\n    //             let status = props.getUrlParam(STATUS.status);\n    //             let buttonAry = [];\n    //             if (status === STATUS.browse) { //浏览态\n    //                 buttonAry = [record.expandRowStatus ? CARD_BUTTON.fold : CARD_BUTTON.unfold];\n    //             } else { //编辑态\n    //                 buttonAry = this.state.isPaste ? [CARD_BUTTON.pasteHere] : [CARD_BUTTON.insertRow, CARD_BUTTON.delRow, CARD_BUTTON.copyRow];\n    //             }\n    //             return props.button.createOprationButton(buttonAry, {\n    //                 area: CARD.body_btn_code,\n    //                 buttonLimit: 4,\n    //                 onButtonClick: (props, key) => bodyButtonClick.call(this, props, key, text, record, index)\n    //             });\n    //         }\n    //     })\n    // }\n    return meta;\n}\n","import { promptBox } from 'nc-lightapp-front';\nimport { CARD, CARD_BUTTON, STATUS } from '../../constant';\nimport { cardBack, cardCreate, cardSave, cardUpdate, cardDelete, cardCancel, cardRefresh, cardCopy, cardAttachment, cardBillTrack, cardCommit, cardUnCommit, cardLinkApprove } from './cardOperator';\n\n/**\n* @description: 卡片页头部按钮操作\n* @param: isFromSide 是否来自侧拉区域\n* @param: id 当前按钮名\n*/\nexport function buttonClick(props, id, hotkey, isFromSide) {\n    switch (id) {\n        //返回\n        case CARD_BUTTON.back:\n            cardBack(props);\n            break;\n\n        //头部 新增\n        case CARD_BUTTON.create:\n            cardCreate(props);\n            break;\n\n        //头部 保存\n        case CARD_BUTTON.save:\n            cardSave({ ...props, json: this.state.json }).then(() => {\n                if (isFromSide) {\n                    props.cardTable.closeModel(CARD.table_code);\n                }\n                cardRefresh(props);\n            });\n            break;\n\n        //头部 保存新增\n        case CARD_BUTTON.saveAdd:\n            cardSave({ ...props, json: this.state.json }).then(flag => {\n                if (flag) {\n                    cardCreate(props);\n                }\n            });\n            break;\n\n        //头部 保存提交\n        case CARD_BUTTON.saveCommit:\n            cardSave({ ...props, json: this.state.json }).then(flag => {\n                if (flag) {\n                    cardCommit.call(this, { ...props, json: this.state.json });\n                }\n            });\n            break;\n\n        //头部 修改\n        case CARD_BUTTON.update:\n            cardUpdate(props);\n            break;\n\n        //头部 复制\n        case CARD_BUTTON.copy:\n            cardCopy(props);\n            break;\n\n        //头部 删除\n        case CARD_BUTTON.delete:\n            promptBox({\n                color: STATUS.warning,\n                title: this.state.json['M0Z10301-000000'],/* 国际化处理： 删除*/\n                content: this.state.json['M0Z10301-000001'],/* 国际化处理： 确定删除吗？*/\n                beSureBtnClick: () => {\n                    cardDelete({ ...props, json: this.state.json });\n                }\n            });\n            break;\n\n        // 头部 取消\n        case CARD_BUTTON.cancel:\n            promptBox({\n                color: STATUS.warning,\n                title: this.state.json['M0Z10301-000002'],/* 国际化处理： 取消*/\n                content: this.state.json['M0Z10301-000003'],/* 国际化处理： 是否确认要取消?*/\n                beSureBtnClick: () => {\n                    cardCancel({ ...props, json: this.state.json });\n                }\n            });\n            break;\n\n        //头部 刷新\n        case CARD_BUTTON.refresh:\n            cardRefresh({ ...props, json: this.state.json });\n            break;\n\n        //附件\n        case CARD_BUTTON.attachment:\n            cardAttachment.call(this, props);\n            break;\n\n        //单据追溯\n        case CARD_BUTTON.billTrack:\n            cardBillTrack.call(this, props);\n            break;\n\n        //审批详情\n        case CARD_BUTTON.approvalLink:\n            cardLinkApprove.call(this, props);\n            break;\n\n        //单据提交\n        case CARD_BUTTON.commit:\n            cardCommit.call(this, { ...props, json: this.state.json });\n            break;\n\n        //单据收回\n        case CARD_BUTTON.unCommit:\n            cardUnCommit({ ...props, json: this.state.json });\n            break;\n\n        default:\n            break;\n    }\n}","import {CARD} from \"../../constant\";\nimport { toast } from 'nc-lightapp-front';\n\n/**\n * @description: 表头编辑前事件\n * @param: moduleId 区域编码\n * @param: key 当前字段编码\n * @return: 布尔 true表示可编辑\n */\nexport function beforeHeadEvent(props, moduleId, key, value, data) {\n    return new Promise((resolve, reject) => {\n        // 目标系统单据类类型\n        if (key === 'idissysbilltype') {\n            let meta = props.meta.getMeta();\n            // 获取目标系统\n            let idissys=props.form.getFormItemsValue(CARD.form_id,\"idissys\").value;\n            if(!idissys){\n                toast({ content: '请先选择目标系统', color: 'warning' });\n                return;\n            }\n            meta[moduleId].items.find((item) => {\n                if (item.attrcode === 'idissysbilltype') {\n                    // 给参照类字段项目设置查询条件\n                    item.queryCondition = {\n                        idissys,\n                        // 复杂条件写扩展过滤器进行SQL处理（树形：\"TreeRefActionExt\" ，表形: \"GridRefActionExt\"）\n                        GridRefActionExt: 'nccloud.web.hpf.sumrulevo.refsqlbuilder.AllBillRefSqlBuilder',\n                    };\n                }\n            });\n            // 重新设置模板元数据\n            props.meta.setMeta(meta, () => {\n                // 异步调用，需要重新设置meta\n                resolve(true);\n            });\n        }\n        //中间表元数据\n        else if (key == 'midmetadata') {\n            let meta = props.meta.getMeta();\n            // 获取目标系统\n            let idissys=props.form.getFormItemsValue(CARD.form_id,\"idissys\").value;\n            if(!idissys){\n                toast({ content: '请先选择目标系统', color: 'warning' });\n                return;\n            }\n            let idissysbilltype=props.form.getFormItemsValue(\"card_head\",\"idissysbilltype\");\n            let idissysbilltype_pk=idissysbilltype.value;\n            if(!idissysbilltype||!idissysbilltype_pk){\n                toast({ content: '请先选择目标系统单据类型', color: 'warning' });\n                return;\n            }\n            meta[moduleId].items.find((item) => {\n                if (item.attrcode === 'midmetadata') {\n                    // 给参照类字段项目设置查询条件\n                    item.queryCondition = {\n                        idissys,\n                        idissysbilltype_pk,\n                        // 复杂条件写扩展过滤器进行SQL处理（树形：\"TreeRefActionExt\" ，表形: \"GridRefActionExt\"）\n                        GridRefActionExt: 'nccloud.web.hpf.sumrulevo.refsqlbuilder.MdEntityRefSqlBuilder',\n                    };\n                }\n            });\n            // 重新设置模板元数据\n            props.meta.setMeta(meta, () => {\n                // 异步调用，需要重新设置meta\n                resolve(true);\n            });\n        }\n        else {\n            resolve(true);\n        }\n    });\n}\n","/**\n * @description: 表体编辑前事件\n * @param: moduleId 区域编码\n * @param: key 当前字段编码\n * @return: 布尔 true表示可编辑\n */\nexport function beforeTableEvent(props, moduleId, key, value, index, record, status) {\n    return new Promise((resolve, reject)=>{\n        if (key === \"fieldcode\") {\n            let meta = props.meta.getMeta();\n            meta[moduleId].items.find((item) => {\n                if ('fieldcode' === item.attrcode) {\n                    // 获取目标系统\n                    let classid=props.form.getFormItemsValue(\"card_head\",\"midmetadata\").value;\n                    // 给参照类字段项目设置查询条件\n                    item.queryCondition = {\n                        classid:classid\n                        // // 复杂条件写扩展过滤器进行SQL处理（树形：\"TreeRefActionExt\" ，表形: \"GridRefActionExt\"）\n                        // GridRefActionExt: 'nccloud.web.hpf.sumrulevo.refsqlbuilder.MdEntityRefSqlBuilder',\n                    };\n                }\n            });\n            // 重新设置模板元数据\n            props.meta.setMeta(meta, () => {\n                // 异步调用，需要重新设置meta\n                resolve(true);\n            });\n        }\n        else {\n            resolve(true);\n        }\n    });\n\n}\n","import { editcfg } from '../../constant';\r\n\r\n\r\n/**\r\n * @description: 表体编辑后事件\r\n * @param: moduleId 区域编码\r\n * @param: key 当前字段编码\r\n */\r\nexport function afterTableEvent(props, moduleId, key, value, changedrows, index, record, type, method) {\r\n    \r\n    //字段编码参照赋值\r\n    if(key==\"fieldcode\"){\r\n        props.cardTable.setValByKeyAndIndex(moduleId, index, \"fieldid\", { value: value.refpk });\r\n        props.cardTable.setValByKeyAndIndex(moduleId, index, \"fieldname\", { value: value.refname });\r\n        props.cardTable.setValByKeyAndIndex(moduleId, index, \"fieldcode\", { value: value.refcode });\r\n        //成本管理部分单据项目不可编辑 add by mzq    \r\n        let idissysbilltype = props.getUrlParam('idissysbilltype');\r\n         \r\n        if (editcfg.get(idissysbilltype).indexOf(value.values.code.value) > -1) {\r\n            if(value.values.code.value==\"cydeptcode\"||value.values.code.value==\"cydeptname\"){\r\n                props.cardTable.setValByKeyAndIndex(moduleId, index, \"ifchange\", { value: true });             \r\n\r\n            }else{\r\n                props.cardTable.setValByKeyAndIndex(moduleId, index, \"ifchange\", { value: false });             \r\n\r\n            }\r\n            //props.cardTable.setValByKeyAndIndex(moduleId, index, \"ifchange\", { value: true });             \r\n            props.cardTable.setEditableByIndex('card_body', index, ['fieldcode', 'fieldname', 'ifchange'], false);\r\n\r\n            }\r\n          \r\n    }\r\n}\r\n","import { CARD, CARD_DISABLED_BUTTON } from \"../../constant\";\n\n//单选\nexport function bodySelectedEvent(props, moduleId, record, index, status) {\n    let checkedRows = props.cardTable.getCheckedRows(CARD.table_code);\n    if (checkedRows.length > 0) {\n        props.button.setButtonDisabled(CARD_DISABLED_BUTTON, false);\n    } else {\n        props.button.setButtonDisabled(CARD_DISABLED_BUTTON, true);\n    }\n}\n\n//全选\nexport function bodySelectedAllEvent(props, moduleId, status, length) {\n    props.button.setButtonDisabled(CARD_DISABLED_BUTTON, !(status && length > 0));\n}\n","import React, {Component} from 'react';\nimport {createPage, base, high} from 'nc-lightapp-front';\nimport {initTemplate} from './events/initTemplate';\nimport {buttonClick,getNowDateTime} from './events/buttonClick';\nimport {beforeHeadEvent} from './events/beforeHeadEvent';\nimport {beforeTableEvent} from './events/beforeTableEvent';\nimport {afterHeadEvent} from './events/afterHeadEvent';\nimport {afterTableEvent} from './events/afterTableEvent';\nimport {bodySelectedEvent, bodySelectedAllEvent} from './events/bodySelectedEvent';\nimport {MULTILANG, CARD, PRIMARY_KEY, CARD_BUTTON, DATASOURCE, STATUS, BILL_TYPE_CODE} from '../constant';\nimport {pageClick, cardCommit} from './events/cardOperator';\nimport {bodyButtonClick} from './events/bodyButtonClick';\n\n/**\n * @description: 卡片\n */\nconst {NCAffix,NCLoading} = base;\n\nclass Card extends Component {\n    constructor(props) {\n        super(props);\n        props.use.form(CARD.form_id,CARD.page_code);\n        this.state = {\n            json: {},\n            showUploader: false,\n            billInfo: {},\n            compositeData: null, //指派信息\n            compositeDisplay: false, //是否显示指派\n            curPk: null, //当前选中数据的pk\n            showApproveDetail: false, //是否显示审批详情\n            billId: null,\n            showLoading:false //是否显示遮罩\n        };\n    }\n\n    componentWillMount() {\n        // json： 多语json格式参数；\n        // status： 是否请求到json多语，可用来判断多语资源是否请求到并进行一些别的操作；\n        // inlt： 可用来进行占位符的一些操作\n        let callback = (json, status, inlt) => {\n            if (status) {\n                initTemplate.call(this, this.props); // 如模板内也有多语处理，平台推荐模板加载操作放于此处， 在取到json多语资源后用传参的方式传入intemplate模板函数中\n\n                // 保存json和inlt到页面state中并刷新页面\n                this.setState({json, inlt})\n            }\n        }\n        this.props.MultiInit.getMultiLang({moduleId: MULTILANG.moduleId, domainName: MULTILANG.domainName, callback});\n\n        // 关闭浏览器\n        window.onbeforeunload = () => {\n            let status = this.props.cardTable.getStatus(CARD.table_code);\n            if (status == STATUS.edit) {\n                return this.state.json['M0Z10301-000007'];/* 国际化处理： 当前单据未保存，您确认离开此页面？*/\n            }\n        };\n    }\n\n    componentDidMount() {\n\n    }\n\n    handlePageInfoChange = (props, id) => {\n        pageClick({...props, json: this.state.json}, id);\n    }\n\n    //获取列表肩部信息\n    getTableHead = () => (\n        <div className=\"shoulder-definition-area\">\n            <div className=\"definition-icons\">\n                {this.props.button.createButtonApp({\n                    area: CARD.shoulder_btn_code,\n                    onButtonClick: bodyButtonClick.bind(this),\n                    popContainer: document.querySelector('.header-button-area')\n                })}\n            </div>\n        </div>\n    );\n\n    //指派提交\n    getAssignUser = (value) => {\n        cardCommit({...this.props, json: this.state.json}, {\n            pks: this.state.curPk,\n            userObj: value\n        });\n        this.compositeTurnOff();\n    };\n\n    //关闭指派\n    compositeTurnOff = () => {\n        this.setState({\n            compositeData: null,\n            compositeDisplay: false\n        });\n    };\n\n    render() {\n        let {form, cardPagination, BillHeadInfo, cardTable} = this.props;\n        let {createCardPagination} = cardPagination;\n        let {createForm} = form;\n        let {createCardTable} = cardTable;\n        let {createBillHeadInfo} = BillHeadInfo;\n        let {NCUploader, BillTrack, ApprovalTrans, ApproveDetail} = high;\n        let status = this.props.getUrlParam(STATUS.status);\n        let id = this.props.getUrlParam(PRIMARY_KEY.id);\n        let billNo = this.props.form.getFormItemsValue(CARD.page_code, PRIMARY_KEY.bill_no);\n        return (\n            <div className=\"nc-bill-card\">\n                <div className=\"nc-bill-top-area\">\n                    <NCAffix>\n                        <div className=\"nc-bill-header-area\">\n                            <div>\n                                {createBillHeadInfo({\n                                    title: \"数据汇总规则\",//标题\n                                    billCode: billNo && billNo.value,//单据号\n                                    showBillCode: false,\n                                    backBtnClick: buttonClick.bind(this, this.props, CARD_BUTTON.back)\n                                })}\n                            </div>\n                            <div className=\"header-button-area\">\n                                {this.props.button.createButtonApp({\n                                    area: CARD.head_btn_code,\n                                    onButtonClick: buttonClick.bind(this)\n                                })}\n                            </div>\n                            {status == STATUS.browse && id &&\n                            <div className=\"header-cardPagination-area\" style={{float: 'right'}}>\n                                {createCardPagination({\n                                    dataSource: DATASOURCE,\n                                    pkname: PRIMARY_KEY.head_id,\n                                    handlePageInfoChange: this.handlePageInfoChange\n                                })}\n                            </div>\n                            }\n                        </div>\n                    </NCAffix>\n                    <div className=\"nc-bill-form-area\">\n                        {createForm(CARD.form_id, {\n                            onAfterEvent: afterHeadEvent.bind(this),\n                            onBeforeEvent: beforeHeadEvent\n                        })}\n                    </div>\n                </div>\n\n                <div className=\"nc-bill-bottom-area\">\n                    <div className=\"nc-bill-table-area\">\n                        {createCardTable(CARD.table_code, {\n                            tableHead: this.getTableHead.bind(this),\n                            showCheck: true,\n                            showIndex: false,\n                            onSelected: bodySelectedEvent,\n                            onSelectedAll: bodySelectedAllEvent,\n                            onBeforeEvent: beforeTableEvent,\n                            onAfterEvent: afterTableEvent,\n                            adaptionHeight: true,\n                            modelSave: buttonClick.bind(this, {\n                                ...this.props,\n                                json: this.state.json\n                            }, CARD_BUTTON.save, undefined, true),\n                        })}\n                    </div>\n                </div>\n\n                {/* 附件 */}\n                {this.state.showUploader && (\n                    <NCUploader\n                        placement={'bottom'}\n                        {...this.state.billInfo}\n                        onHide={() => {\n                            this.setState({\n                                showUploader: false\n                            });\n                        }}\n                    />\n                )}\n\n                {/*联查单据追溯*/}\n                {\n                    <BillTrack\n                        show={this.state.showBillTrack}\n                        close={() => {\n                            this.setState({showBillTrack: false});\n                        }}\n                        pk={this.state.billTrackBillId}\n                        type={this.state.billTrackBillType}\n                    />\n                }\n\n                {/* 指派 */}\n                {this.state.compositeDisplay && (\n                    <ApprovalTrans\n                        title={this.state.json['M0Z10301-000018']} /* 国际化处理： 指派*/\n                        data={this.state.compositeData}\n                        display={this.state.compositeDisplay}\n                        getResult={this.getAssignUser}\n                        cancel={this.compositeTurnOff}\n                    />\n                )}\n\n                {/*/!* 联查审批详情 *!/*/}\n                {/*{*/}\n                {/*    <ApproveDetail*/}\n                {/*        show={this.state.showApproveDetail}*/}\n                {/*        billtype={BILL_TYPE_CODE}*/}\n                {/*        billid={this.state.billId}*/}\n                {/*        close={() => {*/}\n                {/*            this.setState({*/}\n                {/*                showApproveDetail: false*/}\n                {/*            });*/}\n                {/*        }}*/}\n                {/*    />*/}\n                {/*}*/}\n\n                {/*自动填充字段时的遮罩*/}\n                <NCLoading fullScreen showBackDrop={true} show={this.state.showLoading} tip={\"加载元数据字段中，请稍后...\"} />\n            </div>\n        );\n    }\n}\n\nCard = createPage({\n    billinfo: {\n        billtype: 'card',\n        pagecode: CARD.page_code,\n        headcode: CARD.form_id,\n        bodycode: CARD.table_code\n    }\n})(Card);\nexport default Card;\n","/**\r\n* @description: 常量\r\n*/\r\n\r\n//应用编码\r\nexport const APPCODE = 'M0Z10301';\r\n\r\n//单据类型\r\nexport const BILL_TYPE_CODE = 'SUMRULE';\r\n\r\n/**\r\n* @description: 多语\r\n* @param moduleId: 多语资源名\r\n* @param domainName: 工程名\r\n*/\r\nexport const MULTILANG = {\r\n    moduleId: 'M0Z10301',\r\n    domainName: 'hpf'\r\n};\r\n\r\n/**\r\n * 列表\r\n */\r\nexport const LIST = {\r\n    page_title: 'M0Z10301-000011', //页面标题 /* 国际化处理： 投融资费用*/\r\n\r\n    page_code: 'M0Z10301_LIST', //页面编码\r\n\r\n    search_id: 'list_query', //查询区 \r\n    table_id: 'list_head', //表格区 \r\n\r\n    head_btn_code: 'list_head', //表头按钮区 \r\n    body_btn_code: 'list_inner', //表体表格按钮区\r\n};\r\n\r\n/**\r\n * 卡片\r\n */\r\nexport const CARD = {\r\n    page_title: 'M0Z10301-000011', //页面标题 /* 国际化处理： 投融资费用*/\r\n\r\n    page_code: 'M0Z10301_CARD', //页面编码\r\n\r\n    form_id: 'card_head', //表头表单区\r\n    table_code: 'card_body', //表体表格区\r\n    table_edit_code: 'card_body_edit', //表体表格编辑态侧拉区\r\n    table_browse_code: 'card_body_browse', //表体表格浏览态下拉区\r\n\r\n    head_btn_code: 'card_head', //表头按钮区\r\n    shoulder_btn_code: 'tabs_head', //表体肩部按钮区\r\n    body_btn_code: 'tabs_body' //表体表格按钮区\r\n};\r\n\r\n//领域名.模块名.节点名.自定义名\r\n//缓存标示\r\nexport const DATASOURCE = 'tm.fmc.cost.datasource';\r\n\r\n//查询区域缓存 \r\nexport const SEARCH_CACHE = {\r\n    key: 'tm.fmc.cost.SEARCH_CACHE', //查询区域缓存Key\r\n    dataSource: DATASOURCE //查询区域缓存数据的名称空间\r\n};\r\n\r\n//卡片缓存 \r\nexport const CARD_CACHE = {\r\n    key: 'tm.fmc.cost.CARD_CACHE', //卡片区域缓存Key\r\n    dataSource: DATASOURCE //卡片区域缓存数据的名称空间\r\n};\r\n\r\n//请求基础路径\r\nexport const base_path = '/nccloud/hpf/hpfc/';\r\n\r\n//url\r\nexport const REQUEST_URL = {\r\n    save: `/nccloud/hpf/hpfc/savesumruleVO.do`, //保存\r\n    delete: `/nccloud/hpf/hpfc/deletesumruleVO.do`, //删除\r\n    queryCard: `/nccloud/hpf/hpfc/querycardsumruleVO.do`, //卡片查询\r\n    queryList: `/nccloud/hpf/hpfc/querypagesumruleVO.do`, //列表查询\r\n    queryListByPks: `/nccloud/hpf/hpfc/querypagebypksumruleVO.do`, //列表分页查询\r\n    commit: `/nccloud/hpf/hpfc/commitsumruleVO.do`, //提交\r\n    unCommit: `/nccloud/hpf/hpfc/uncommitsumruleVO.do`, //收回\r\n\r\n    setInitDataBefore: '/nccloud/hpf/hpfc/setinitdatabefore.do', //初始化数据前校验\r\n    setInitData: '/nccloud/hpf/hpfc/setinitdata.do', //初始化数据\r\n\r\n    toCard: '/card',\r\n    toList: '/list',\r\n\r\n    queryColumn: '/nccloud/hpf/hpfc/queryColumn.do', //查询元数据字段\r\n\r\n    print: '/nccloud/hpf/hpfc/HpfsumrulePrintAction.do' //主表打印\r\n};\r\n\r\nexport const LIST_BUTTON = {\r\n    create: 'AddBtn',\r\n    delete: 'DelBtn',\r\n    commit: 'CommitBtn',\r\n    unCommit: 'UnCommitBtn',\r\n    linkGroup: 'JointBtn',\r\n    attachment: 'AttachmentBtn',\r\n    approvalLink: 'DetailBtn',\r\n    billTrack: 'TrackBtn',\r\n    print: 'Print',\r\n    output: 'Output',\r\n    refresh: 'RefreshBtn',\r\n\r\n    setInitData: 'InitData',\r\n\r\n    bodyUpdate: 'edit',\r\n    bodyDelete: 'delete',\r\n    bodyCommit: 'commit',\r\n    bodyUnCommit: 'unCommit',\r\n    copy: 'copy'\r\n};\r\n\r\n//列表默认禁用按钮\r\nexport const LIST_DISABLED_BUTTON = [LIST_BUTTON.delete, LIST_BUTTON.commit, LIST_BUTTON.unCommit, LIST_BUTTON.linkGroup, LIST_BUTTON.approvalLink, LIST_BUTTON.billTrack,\r\nLIST_BUTTON.attachment, LIST_BUTTON.print, LIST_BUTTON.output, LIST_BUTTON.bodyUpdate];\r\n\r\nexport const CARD_BUTTON = {\r\n    save: 'SaveBtn',\r\n    saveAdd: 'SaveAddBtn',\r\n    saveCommit: 'SaveCommitBtn',\r\n    cancel: 'CancelBtn',\r\n    create: 'CreateBtn',\r\n    update: 'UpdateBtn',\r\n    delete: 'DeleteBtn',\r\n    copy: 'CopyBtn',\r\n    commit: 'CommitBtn',\r\n    unCommit: 'UnCommitBtn',\r\n    attachment: 'AttachmentBtn',\r\n    approvalLink: 'DetailBtn',\r\n    billTrack: 'TrackBtn',\r\n    print: 'Print',\r\n    output: 'Output',\r\n    refresh: 'RefreshBtn',\r\n    back: 'Back',\r\n\r\n    addRow: 'addRow',\r\n    deleteRow: 'deleteRow',\r\n    copyRows: 'copyRows',\r\n    pasteTail: 'pasteTail',\r\n    pasteCancel: 'pasteCancel',\r\n\r\n    expand: 'expand',\r\n    insertRow: 'insertRow',\r\n    delRow: 'delRow',\r\n    copyRow: 'copyRow',\r\n    fold: 'fold',\r\n    unfold: 'unfold',\r\n    pasteHere: 'pasteHere'\r\n};\r\n\r\n//卡片默认禁用按钮\r\nexport const CARD_DISABLED_BUTTON = [CARD_BUTTON.deleteRow, CARD_BUTTON.copyRows];\r\n//卡片新增禁用按钮\r\nexport const CARD_ADD_DISABLED_BUTTON = [CARD_BUTTON.addRow, CARD_BUTTON.save, CARD_BUTTON.saveAdd, CARD_BUTTON.saveCommit];\r\n\r\n//字段名\r\nexport const FIELD = {\r\n    org: 'pk_org', //组织\r\n    //orgV: 'pk_org_v',                                              //组织多版本\r\n    billStatus: 'approvestatus', //单据状态字段（用以按钮控制）\r\n    ts: 'ts', //时间戳\r\n    idissys: 'idissys',\r\n    idissysbilltype: 'idissysbilltype',\r\n};\r\n\r\n//主属性字段名\r\nexport const PRIMARY_KEY = {\r\n    head_id: 'pk_sumrule', //表头主键字段名\r\n    body_id: 'pk_sumrule_h', //表体主键字段名\r\n    bill_no: 'billno', //单据编号字段名\r\n    id: 'id' //单据前端缓存标识\r\n};\r\n\r\n//状态\r\nexport const STATUS = {\r\n    status: 'status', //状态\r\n\r\n    edit: 'edit', //编辑态\r\n    browse: 'browse', //浏览态\r\n    add: 'add', //新增态\r\n\r\n    info: 'info', //帮助\r\n    warning: 'warning', //警告\r\n    success: 'success', //成功\r\n    danger: 'danger', //出错\r\n\r\n    NOSTATE: '-1', //自由 态\r\n    NOPASS: '0', //未通过 态\r\n    PASSING: '1', //通过 态\r\n    GOINGON: '2', //进行中 态\r\n    COMMIT: '3' //提交 态\r\n};\r\n//预制字段不可编辑\r\nexport const COLS_EDITABLE = {\r\n    //收入单据（项目成本）-中间库住院权责/中间库门诊收入\r\n    sr_xm: [\r\n        'vchargetypecode',\r\n        'vchargetypename',\r\n        'vexedeptcode',\r\n        'vexedeptname',\r\n        'vapplydeptcode',\r\n        'vapplydeptname',\r\n        'vapplydoctorcode',\r\n        'vapplydoctorname',\r\n        'dinprice',\r\n        'valuationnmny',\r\n    ]\r\n};\r\n\r\nexport const editcfg = new Map([\r\n    //收入单据（项目成本）   'fieldcode', 'fieldname', 'ifchange', 'ifgroup' 字段禁止编辑\r\n    ['CP04', ['vchargetypecode', 'vchargetypename', 'vexedeptcode', 'vexedeptname', 'vapplydeptcode', 'vapplydeptname', 'vapplydoctorcode', 'vapplydoctorname', 'dinprice', 'valuationnmny']],\r\n    //人员工资明细  'ifchange' 字段禁止编辑\r\n    ['0001ZZZZD01EE175077C', ['vdeptcode', 'vdeptname', 'vfundsourcecode', 'vfundsourcename']],\r\n    ['0002ZZZZD01EE175077C', ['vdeptcode', 'vdeptname', 'vfundsourcecode', 'vfundsourcename']],\r\n    //设备折旧明细\r\n    ['0001ZZZZF7A86CABE5A7', ['vdeptcode', 'vdeptname', 'vequipcode', 'vequipname', 'vfundsourcecode', 'vfundsourcename']],\r\n    //材料出库明细\r\n    ['0001ZZZZE193F6699639', ['vdeptcode', 'vdeptname', 'vfundsourcecode', 'vfundsourcename']],\r\n    ['0002ZZZZE193F6699639', ['vdeptcode', 'vdeptname', 'vfundsourcecode', 'vfundsourcename']],\r\n    //DRG/病种住院权责收入\t\t\t\t\r\n    ['DG11', ['acceptrefund', 'billscode', 'billstype', 'dbusdate','diagnosiscode', 'diagnosisname', 'dinprice', 'executedeptcodeone','executedeptcodethree', 'executedeptcodetwo', 'executedeptnamefour', 'executedeptnameone','executedeptnamethree', 'executedeptnametwo', 'executedoctorcodeone', 'executedoctorcodethree','executedoctorcodetwo', 'executedoctornamefour', 'executedoctornameone', 'executedoctornamethree','executedoctornametwo', 'fetrange', 'medicaltype', 'nmny','nquantity', 'pawpaynmny', 'pk_mid_clinic_income', 'syscode','transtype', 'valuationnmny', 'vapplydeptcode', 'vapplydeptname','vapplydoctorcode', 'vapplydoctorname', 'vchargercode', 'vchargername','vchargetypecode', 'vchargetypename', 'vcustcode', 'vcustname','vexedeptcode', 'vexedeptname', 'vincomeclass', 'vincometypecode', 'vincometypename','vnote', 'vpatientcode','vpatientname', 'vpayorgtypecode','vpayorgtypename', 'vpaywaycode','vpaywayname', 'vtranswayname','vbrcbcode', 'vbrcbname','jzcode', 'hospitalnumber']],\r\n    //DRG分组明细\r\n    ['DG10', ['cydeptcode', 'cydeptname','period', 'patientcode','patientname','age', 'sex','bano','zyno', 'zycnt','zyday', 'ybtype','rydate', 'cydate','cystatus', 'ndccode','ndcname', 'drgcode','drgname', 'rw','zyallmny', 'majorzd','minorzd1', 'majorzd2','minorzd3', 'minorzd4','majorss', 'majorss1','majorss2', 'majorss3','majorss4']],\r\n    //病案首页\r\n    ['DG31', ['admittedcode', 'admittedname', 'outdeptcode', 'outdeptname','admissiondate', 'age', 'dischargedate', 'dischargenmy', 'hospitaldays','hospitalnumber','infectcode', 'infectname','instypecode', 'instypename', 'leavestatuscode','leavestatusname','maindiagnosecode', 'maindiagnosename','mainsurgerycode', 'mainsurgeryname','medicalno', 'minordiagnose1code','minordiagnose1name','minordiagnose2code', 'minordiagnose2name','minordiagnose3code','minordiagnose3name', 'minordiagnose4code','minordiagnose4name', 'minorsurgery1code','minorsurgery1name', 'minorsurgery2code','minorsurgery2name', 'minorsurgery3code','minorsurgery3name','minorsurgery4code', 'minorsurgery4name','patienttype', 'period','pk_mid_medicrec_page', 'rescuenum','residentdoctorcode', 'residentdoctorname','sex', 'singlediseasecode','singlediseasename', 'successnum','syscode', 'vpatientcode','vpatientname']],\r\n]);\r\n","import { ajax, cardCache, toast, promptBox, print } from 'nc-lightapp-front';\nimport {\n    REQUEST_URL,\n    SEARCH_CACHE,\n    CARD,\n    LIST,\n    PRIMARY_KEY,\n    LIST_BUTTON,\n    STATUS,\n    BILL_TYPE_CODE,\n    FIELD,\n    LIST_DISABLED_BUTTON\n} from '../../constant';\n\n//列表新增\nexport function listCreate(props) {\n    props.pushTo(REQUEST_URL.toCard, {\n        status: STATUS.add,\n        pagecode: CARD.page_code\n    });\n}\n\n//列表刷新\nexport function listRefresh(props) {\n    let { getDefData } = cardCache;\n    let queryInfo = getDefData(SEARCH_CACHE.key, SEARCH_CACHE.dataSource);\n    listSearch(props, queryInfo);\n}\n\n//列表修改\nexport function listEdit(props, pk) {\n    props.pushTo(REQUEST_URL.toCard, {\n        status: STATUS.edit,\n        id: pk,\n        pagecode: CARD.page_code\n    });\n}\n\n//列表复制\nexport function listCopy(props, pk) {\n    props.pushTo(REQUEST_URL.toCard, {\n        status: STATUS.edit,\n        id: pk,\n        pagecode: CARD.page_code,\n        isCopy: true\n    });\n}\n\n\n//列表提交\nexport function listCommit(props, data) {\n    if (!data) {\n        let select = checkSelected(props, false);\n        if (!select.valid) {\n            return;\n        }\n        if (select.valid) {\n            let selectDatas = select.selectDatas;\n            let pks = selectDatas && selectDatas.map(item => item.data.values[PRIMARY_KEY.head_id].value);\n            let pkMapTs = new Map();\n            selectDatas && selectDatas.map(item => {\n                let pk = item.data.values[PRIMARY_KEY.head_id].value;\n                let ts = item.data.values[FIELD.ts] && item.data.values[FIELD.ts].value;\n                //主键与tsMap\n                if (pk && ts) {\n                    pkMapTs.set(pk, ts);\n                }\n            });\n            data = { pks, pkMapTs };\n        }\n    }\n    ajax({\n        url: REQUEST_URL.commit,\n        data,\n        success: (res) => {\n            if (res.success) { //成功\n                if (res.data && res.data.workflow && (res.data.workflow == 'approveflow' || res.data.workflow == 'workflow')) {\n                    this.setState({\n                        compositeData: res.data,\n                        compositeDisplay: true,\n                        curPk: data.pks\n                    });\n                    PromptMessage.call(this, res);\n                } else {\n                    PromptMessage.call(this, res);\n                    listRefresh(props);\n                }\n            } else { //失败\n                PromptMessage.call(this, res);\n                //toast({ color: STATUS.warning, content: props.json['M0Z10301-000015'] });/* 国际化处理： 提交失败*/\n            }\n        }\n    });\n}\n\n//列表收回\nexport function listUnCommit(props, data) {\n    if (!data) {\n        let select = checkSelected(props, false);\n        if (select.valid) {\n            let selectDatas = select.selectDatas;\n            let pks = selectDatas && selectDatas.map(item => item.data.values[PRIMARY_KEY.head_id].value);\n            let pkMapTs = new Map();\n            selectDatas && selectDatas.map(item => {\n                let pk = item.data.values[PRIMARY_KEY.head_id].value;\n                let ts = item.data.values[FIELD.ts] && item.data.values[FIELD.ts].value;\n                //主键与tsMap\n                if (pk && ts) {\n                    pkMapTs.set(pk, ts);\n                }\n            });\n            data = { pks, pkMapTs };\n        }\n    }\n    ajax({\n        url: REQUEST_URL.unCommit,\n        data,\n        success: (res) => {\n            if (res.success) { //成功\n                listRefresh(props);\n            } else { //失败\n                toast({ color: STATUS.warning, content: props.json['M0Z10301-000017'] });/* 国际化处理： 收回失败*/\n            }\n        }\n    });\n}\n\n\n/**\n * 是否选中数据\n *\n * @param {*} isCheckOne 是否选中一条数据\n * @returns 返回是否校验成功\n */\nexport function checkSelected(props, isCheckOne) {\n    let valid = true;\n    let selectDatas = props.table && props.table.getCheckedRows(LIST.table_id);\n    if (isCheckOne && selectDatas.length > 1) {\n        toast({\n            color: STATUS.warning, content: props.json['M0Z10301-000012']/* 国际化处理： 请选中一行表体数据!*/\n        });\n        valid = false;\n    } else if (selectDatas.length == 0) {\n        toast({\n            color: STATUS.warning, content: props.json['M0Z10301-000013']/* 国际化处理： 请选择表体数据操作!*/\n        });\n        valid = false;\n    }\n    return { valid, selectDatas };\n}\n\n//列表附件\nexport function listAttachment(props) {\n    let select = checkSelected(props, true);\n    if (select.valid) {\n        let selectDatas = select.selectDatas;\n        let billId = selectDatas[0] && selectDatas[0].data.values[PRIMARY_KEY.head_id].value;\n        let billNo = selectDatas[0] && selectDatas[0].data.values[PRIMARY_KEY.bill_no].value;\n        this.setState({\n            showUploader: !this.state.showUploader,\n            billInfo: { billId, billNo }\n        });\n    }\n}\n\n//列表单据追溯\nexport function listBillTrack(props) {\n    //单据追溯示例\n    let select = checkSelected(props, true);\n    if (select.valid) {\n        let selectDatas = select.selectDatas;\n        let billId = selectDatas[0] && selectDatas[0].data.values[PRIMARY_KEY.head_id].value;\n        this.setState({\n            showBillTrack: true,\n            billTrackBillId: billId,\n            billTrackBillType: BILL_TYPE_CODE\n        });\n    }\n}\n\n//列表审批详情\nexport function listLinkApprove(props) {\n    let select = checkSelected(props, true);\n    if (select.valid) {\n        let selectDatas = select.selectDatas;\n        let billId = selectDatas[0] && selectDatas[0].data.values[PRIMARY_KEY.head_id].value;\n        this.setState({\n            showApproveDetail: true,\n            billId\n        });\n    }\n}\n\n//列表表头删除\nexport function listHeadDelete(props) {\n    let data = {};\n    let pks = [];\n    let select = checkSelected(props, false);\n    if (select.valid) {\n        let selectDatas = select.selectDatas;\n        pks = selectDatas && selectDatas.map(item => item.data.values[PRIMARY_KEY.head_id].value);\n        let pkMapTs = new Map();\n        selectDatas && selectDatas.map(item => {\n            let pk = item.data.values[PRIMARY_KEY.head_id].value;\n            let ts = item.data.values[FIELD.ts] && item.data.values[FIELD.ts].value;\n            //主键与tsMap\n            if (pk && ts) {\n                pkMapTs.set(pk, ts);\n            }\n        });\n        data = { pks, pkMapTs };\n\n        ajax({\n            url: REQUEST_URL.delete,\n            data,\n            success: (res) => {\n                if (res.success) { //成功\n                    let allTableData = props.table.getAllTableData(LIST.table_id);\n                    let allPks = allTableData.rows[0] && allTableData.rows.map(item => item.values[PRIMARY_KEY.head_id].value);\n                    let deleteRowIndexArr = pks.map(item => allPks.findIndex(v => v == item)).filter(item => item != -1);\n                    props.table.deleteCacheId(LIST.table_id, pks);\n                    props.table.deleteTableRowsByIndex(LIST.table_id, deleteRowIndexArr);\n                    toast({ color: STATUS.success, content: props.json['M0Z10301-000005'] });/* 国际化处理： 删除成功*/\n                } else { //失败\n                    toast({ color: STATUS.warning, content: props.json['M0Z10301-000009'] });/* 国际化处理： 删除失败*/\n                }\n            }\n        });\n    }\n}\n\n//列表表体删除\nexport function listBodyDelete(props, data, index) {\n    ajax({\n        url: REQUEST_URL.delete,\n        data,\n        success: (res) => {\n            if (res.success) { //成功\n                props.table.deleteCacheId(LIST.table_id, data.pks[0]);\n                props.table.deleteTableRowsByIndex(LIST.table_id, index);\n                toast({ color: STATUS.success, content: props.json['M0Z10301-000005'] });/* 国际化处理： 删除成功*/\n            } else { //失败\n                toast({ color: STATUS.warning, content: props.json['M0Z10301-000009'] });/* 国际化处理： 删除失败*/\n            }\n        }\n    });\n}\n\n//列表查询\nexport function listSearch(props, queryInfo) {\n    let pageInfo = props.table.getTablePageInfo(LIST.table_id);\n    if (!queryInfo) {\n        queryInfo = props.search.getQueryInfo(LIST.search_id);\n    }\n    queryInfo.pageInfo = pageInfo;\n    queryInfo.pageCode = LIST.page_code;\n\n    // 刷新按钮可用\n    props.button.setDisabled({ [LIST_BUTTON.refresh]: false });\n\n    ajax({\n        url: REQUEST_URL.queryList,\n        data: queryInfo,\n        success: (res) => {\n            let { success, data } = res;\n            if (res.formulamsg && res.formulamsg instanceof Array && res.formulamsg.length > 0) {\n                props.dealFormulamsg(res.formulamsg);\n            }\n            if (success && data && data[LIST.table_id]) {\n                props.table.setAllTableData(LIST.table_id, data[LIST.table_id]);\n                toast({ color: STATUS.success });\n            } else {\n                props.table.setAllTableData(LIST.table_id, { rows: [] });\n                toast({ color: STATUS.warning, content: props.json['M0Z10301-000010'] });/* 国际化处理： 未查询出符合条件的数据！*/\n            }\n\n            // 将查询条件缓存\n            let { setDefData } = cardCache;\n            setDefData(SEARCH_CACHE.key, SEARCH_CACHE.dataSource, queryInfo);\n        }\n    });\n}\n\n//分页查询\nexport function pageInfoClick(props, config, pks) {\n    let data = {\n        pks,\n        pagecode: LIST.page_code\n    };\n\n    ajax({\n        url: REQUEST_URL.queryListByPks,\n        data,\n        success: (res) => {\n            let { success, data } = res;\n            if (success && data && data[LIST.table_id]) {\n                props.table.setAllTableData(LIST.table_id, data[LIST.table_id]);\n                toast({ color: STATUS.success });\n            } else {\n                props.table.setAllTableData(LIST.table_id, { rows: [] });\n                toast({ color: STATUS.warning, content: props.json['M0Z10301-000010'] });/* 国际化处理： 未查询出符合条件的数据！*/\n            }\n        }\n    });\n}\n\n/**\n * 列表消息提示\n * @param {*} res           返回的response\n * @param {*} opername      操作名称\n */\nexport function PromptMessage(res) {\n    let { status, msg } = res.data;\n    let content;\n    let total = res.data.total;\n    let successNum = res.data.successNum;\n    let failNum = res.data.failNum;\n    content = '共' + '提交' + total + '条';/* 国际化处理： 共,条，*/\n    content = content + ',成功' + successNum + '条';/* 国际化处理： 成功,条 ,,成功*/\n    content = content + ',失败' + failNum + ',条';/* 国际化处理： 失败,条,条*/\n    let errMsgArr = res.data.errormessages;\n    //全部成功\n    if (status == 0) {\n        toast({\n            color: \"success\",\n            title: '提交' + msg,\n            content,\n            TextArr: ['展开', '收起', '关闭'],/* 国际化处理： 展开,收起,关闭*/\n            groupOperation: true\n        });\n    }\n    //全部失败\n    else if (status == 1) {\n        toast({\n            duration: \"infinity\",\n            color: \"danger\",\n            title: '提交' + msg,\n            content,\n            TextArr: ['展开', '收起', '关闭'],/* 国际化处理： 展开,收起,关闭*/\n            groupOperation: true,\n            groupOperationMsg: errMsgArr\n        });\n    }\n    //部分成功\n    else if (status == 2) {\n        toast({\n            duration: \"infinity\",\n            color: \"warning\",\n            title: '提交' + msg,\n            content,\n            TextArr: ['展开', '收起', '关闭'],/* 国际化处理： 展开,收起,关闭*/\n            groupOperation: true,\n            groupOperationMsg: errMsgArr\n        });\n    }\n}\n\n//列表行双击\nexport function handleDoubleClick(record, index, props) {\n    props.pushTo(REQUEST_URL.toCard, {\n        status: STATUS.browse,\n        id: record[PRIMARY_KEY.head_id].value,\n        idissys: record[FIELD.idissys].value,\n        idissysbilltype: record[FIELD.idissysbilltype].value,\n        pagecode: CARD.page_code,\n        scene: props.getUrlParam('scene')\n    });\n}\n\n//初始化数据前校验\nexport function initDataBefore(props) {\n    let queryInfo = props.search.getSearchValByField(LIST.search_id, \"pk_org\").value.firstvalue;\n    let pk_org = queryInfo.split(\",\");\n    if (queryInfo && pk_org.length == 1) {\n        ajax({\n            url: REQUEST_URL.setInitDataBefore,\n            data: { pk_org: pk_org[0] },\n            success: (res) => {\n                if (res.data.value) {\n                    initData(props, res.data.pk_org);\n                }\n                else {\n                    promptBox({\n                        color: 'warning',\n                        title: '提示',\n                        content: `当前业务单元${res.data.orgName}存在数据汇总规则数据，是否删除原有的数据重新预置数据！`,\n                        noFooter: false,\n                        noCancelBtn: false,\n                        beSureBtnName: '是',\n                        cancelBtnName: '否',\n                        hasCloseBtn: true,\n                        beSureBtnClick: () => initData(props, res.data.pk_org),\n                        closeByClickBackDrop: false\n                    });\n                }\n            }\n        });\n    }\n    else {\n        toast({ color: 'danger', content: '请选择一个业务单元进行初始化' });\n\n    }\n}\n\n//初始化数据\nexport function initData(props, pk_org) {\n    ajax({\n        url: REQUEST_URL.setInitData,\n        data: { pk_org, flag_clear: true },\n        success: (res) => {\n            toast({ content: '初始化成功' });\n            let { getDefData } = cardCache;\n            let queryInfo = getDefData(SEARCH_CACHE.key, SEARCH_CACHE.dataSource);\n            listSearch(props, queryInfo);\n        }\n    });\n}\n\n//打印\nexport function onPrint(props) {\n    let allData = props.table.getAllTableData(LIST.table_id);\n    if (allData.rows.length === 0) {\n        toast({ color: STATUS.warning, content: \"无可打印数据\" });/* 国际化处理:*/\n        return;\n    }\n    let pks = allData.allpks;\n    print(\n        'pdf',\n        REQUEST_URL.print,\n        {\n            funcode: props.appcode,//功能节点编码\n            nodekey: 'M0Z10301',//模板节点编码\n            oids: pks,\n            outputType: 'output'\n        }\n    );\n}\n\n//输出\nexport function onOutput(props) {\n    let allData = props.table.getAllTableData(LIST.table_id);\n    if (allData.rows.length === 0) {\n        toast({ color: STATUS.warning, content: \"无可输出的数据\" });/* 国际化处理:*/\n        return;\n    }\n    let pks = allData.allpks;\n\n    this.setState({\n        ids: pks\n    }, this.refs.printOutput.open());\n}\n","import { PRIMARY_KEY, LIST_BUTTON, FIELD } from '../../constant';\nimport { listEdit, listBodyDelete, listCopy, listCommit, listUnCommit } from './listOperator';\n\n//列表操作列按钮操作\nexport function bodyButtonClick(props, key, text, record, index) {\n    let pk = record[PRIMARY_KEY.head_id] && record[PRIMARY_KEY.head_id].value;\n    let ts = record[FIELD.ts] && record[FIELD.ts].value;\n    let pkMapTs = new Map();\n    //主键与tsMap\n    if (pk && ts) {\n        pkMapTs.set(pk, ts);\n    }\n\n    switch (key) {\n        //修改\n        case LIST_BUTTON.bodyUpdate:\n            listEdit(props, pk)\n            break;\n\n        //删除\n        case LIST_BUTTON.bodyDelete:\n            listBodyDelete({ ...props, json: this.state.json }, { pks: [pk], pkMapTs }, index);\n            break;\n\n        //复制\n        case LIST_BUTTON.copy:\n            listCopy(props, pk);\n            break;\n\n        //提交\n        case LIST_BUTTON.bodyCommit:\n            listCommit.call(this, { ...props, json: this.state.json }, { pks: [pk], pkMapTs });\n            break;\n\n        //收回\n        case LIST_BUTTON.bodyUnCommit:\n            listUnCommit({ ...props, json: this.state.json }, { pks: [pk], pkMapTs });\n            break;\n    }\n}\n","import { LIST, LIST_BUTTON, FIELD, LIST_DISABLED_BUTTON, STATUS } from \"../../constant\";\n\n//选择事件示例\n\n//单选 props, moduleId(区域id), record（行数据）, index（当前index）, status（选框值）\nexport function selectedEvent(props, moduleId, record, index, status) {\n    props.button.setButtonDisabled(LIST_DISABLED_BUTTON, true);\n\n    let showBtn = [], deleteFlag = true, isAllNoState = true, isAllPassing = true;\n    let selectDatas = props.table.getCheckedRows(LIST.table_id);\n\n    if (selectDatas.length == 0) {\n        return;\n    } else if (selectDatas.length > 1) { //多选\n        showBtn = [LIST_BUTTON.print, LIST_BUTTON.output];\n        for (let selectData of selectDatas) {\n            let status = selectData.data.values[FIELD.billStatus].value;\n            if (status == STATUS.PASSING || status == STATUS.COMMIT || status == STATUS.GOINGON) {\n                isAllNoState = false;\n                deleteFlag = false;\n            } else if (status == STATUS.NOSTATE) {\n                isAllPassing = false;\n            }\n        }\n        if (deleteFlag) {\n            showBtn.push(LIST_BUTTON.delete);\n        }\n        if (isAllNoState) {\n            showBtn.push(LIST_BUTTON.commit);\n        }\n        if (isAllPassing) {\n            showBtn.push(LIST_BUTTON.unCommit);\n        }\n        props.button.setButtonDisabled(showBtn, false);\n    } else { //单选\n        let busistatus = selectDatas[0].data.values[FIELD.billStatus] && selectDatas[0].data.values[FIELD.billStatus].value;\n        if (busistatus == STATUS.NOSTATE) { //自由\n            showBtn = [LIST_BUTTON.commit, LIST_BUTTON.delete, LIST_BUTTON.bodyUpdate];\n        } else if (busistatus == STATUS.PASSING || busistatus == STATUS.COMMIT || busistatus == STATUS.GOINGON) { //提交\n            showBtn = [LIST_BUTTON.unCommit, LIST_BUTTON.approvalLink];\n        }\n        props.button.setButtonDisabled([...showBtn, LIST_BUTTON.print, LIST_BUTTON.output, LIST_BUTTON.attachment, LIST_BUTTON.linkGroup, LIST_BUTTON.billTrack], false);\n    }\n\n}\n\n//全选\nexport function selectedAllEvent(props, moduleId, status, length) {\n    props.button.setButtonDisabled(LIST_DISABLED_BUTTON, true);\n\n    let selectDatas = props.table.getCheckedRows(LIST.table_id);\n    if (selectDatas.length > 0) {\n        let showBtn = [], deleteFlag = true, isAllNoState = true, isAllPassing = true;\n        let selectDatas = props.table.getCheckedRows(LIST.table_id);\n        showBtn = [LIST_BUTTON.print, LIST_BUTTON.output];\n        for (let selectData of selectDatas) {\n            let status = selectData.data.values[FIELD.billStatus].value;\n            if (status == STATUS.PASSING || status == STATUS.COMMIT || status == STATUS.GOINGON) {\n                isAllNoState = false;\n                deleteFlag = false;\n            } else if (status == STATUS.NOSTATE) {\n                isAllPassing = false;\n            }\n        }\n        if (deleteFlag) {\n            showBtn.push(LIST_BUTTON.delete);\n        }\n        if (isAllNoState) {\n            showBtn.push(LIST_BUTTON.commit);\n        }\n        if (isAllPassing) {\n            showBtn.push(LIST_BUTTON.unCommit);\n        }\n        props.button.setButtonDisabled(showBtn, false);\n    }\n}\n","import {LIST, LIST_BUTTON, PRIMARY_KEY, CARD, REQUEST_URL, FIELD, STATUS, LIST_DISABLED_BUTTON} from '../../constant';\nimport {bodyButtonClick} from '../events/bodyButtonClick';\nimport {selectedEvent, selectedAllEvent} from '../events/selectedEvent';\n\n//列表模板渲染\nexport function initTemplate(props) {\n    props.createUIDom(\n        {\n            pagecode: LIST.page_code, //页面code\n        },\n        (data) => {\n            if (data) {\n                if (data.button) {\n                    //将请求回来的按钮组数据设置到页面的 buttons 属性上\n                    let button = data.button;\n                    props.button.setButtons(button);\n                    props.button.setPopContent(LIST_BUTTON.bodyDelete, this.state.json['M0Z10301-000008']);/* 国际化处理： 确认要删除吗?*/\n                    props.button.setButtonDisabled(LIST_DISABLED_BUTTON, true);\n                }\n                if (data.template) {\n                    let meta = data.template;\n                    meta = modifierMeta.call(this, props, meta);\n                    //高级查询区赋予组织\n                    if (data.context && data.context.pk_org) {\n                        let {pk_org, org_Name} = data.context;\n                        //遍历查询区域字段，将默认业务单元赋值给组织字段\n                        meta[LIST.search_id].items.map((item) => {\n                            if (item.attrcode == FIELD.org) {\n                                item.initialvalue = { display: org_Name, value: pk_org };\n                            }\n//else if (item.attrcode == FIELD.orgV) {\n//                                                              item.initialvalue = { display: org_v_Name, value: pk_org_v }\n//                                                      }\n                        });\n                    }\n\n                    meta[LIST.search_id].items.map((item) => {\n                        if (item.attrcode == FIELD.org) {\n                            item.isMultiSelectedEnabled = false;\n                        }\n                    });\n\n                    props.meta.setMeta(meta);\n                    //查询区赋予组织\n                    //判断查询区域组织是否有值，如果有则表明快速查询方案已个性化定制。无需加载默认业务单元\n                    if (data.context && data.context.pk_org) {\n                        let orgValue = props.search.getSearchValByField(LIST.search_id, FIELD.org);\n                        //let orgVValue = props.search.getSearchValByField(LIST.search_id, FIELD.orgV);\n                        // if (!(orgValue && orgValue.value) && !(orgVValue && orgVValue.value)) {\n                        if (!(orgValue && orgValue.value)) {\n                            let {pk_org, org_Name} = data.context;\n                            props.search.setSearchValByField(LIST.search_id, FIELD.org, {\n                                display: org_Name,\n                                value: pk_org\n                            });\n\n                        }\n                    }\n                    //目标系统\n                    let idissys=this.props.search.getSearchValByField(LIST.search_id,\"idissys\").value.firstvalue;\n                    //目标系统单据类型添加参照过滤\n                    this.props.search.setTemlateByField(LIST.search_id, \"idissysbilltype\",\n                        \"queryCondition\", { idissys, GridRefActionExt: 'nccloud.web.hpf.sumrulevo.refsqlbuilder.AllBillRefSqlBuilder' });\n                    this.props.search.setSearchValByField(LIST.search_id,\"idissysbilltype\",{display:\"\",value:\"\"});\n                    selectedEvent(props);       \n                }\n            }\n        }\n    );\n}\n\nfunction modifierMeta(props, meta) {\n\n    // //查询区参照过滤\n    // meta[LIST.search_id].items.map((item) => {\n    //     if (item.attrcode === FIELD.org) { //财务组织过滤\n    //         item.isMultiSelectedEnabled = false; //财务组织多选\n    //         item.queryCondition = () => {\n    //             return {\n    //                 funcode: props.getSearchParam('c'),//appcode获取\n    //                 //用户权限过滤\n    //                 TreeRefActionExt: 'nccloud.web.refer.sqlbuilder.PrimaryOrgSQLBuilder'\n    //             };\n    //         };\n    //     }\n    //     //else if (item.attrcode === FIELD.orgV) {\n    //     //      item.isMultiSelectedEnabled = true;\n    //     //      item.queryCondition = () => {\n    //     //              return {\n    //     //                      funcode: props.getSearchParam('c')//appcode获取\n    //     //              };\n    //     //      };\n    //     //}\n    // });\n\n    //开启分页\n    meta[LIST.table_id].pagination = true;\n\n    meta[LIST.table_id].items = meta[LIST.table_id].items.map((item, key) => {\n        if (item.attrcode == PRIMARY_KEY.bill_no) {\n            item.render = (text, record, index) => (\n                    <a\n                        style={{cursor: 'pointer'}}\n                        onClick={() => {\n                            props.pushTo(REQUEST_URL.toCard, {\n                                status: STATUS.browse,\n                                id: record[PRIMARY_KEY.head_id].value,\n                                pagecode: CARD.page_code\n                            });\n                        }}\n                    >\n                        {record[PRIMARY_KEY.bill_no] && record[PRIMARY_KEY.bill_no].value}\n                    </a>\n            );\n        }\n        return item;\n    });\n\n    //添加操作列\n    //示例代码\n    // meta[LIST.table_id].items.push({\n    //     itemtype: 'customer',\n    //     attrcode: 'opr',\n    //     label: this.state.json['M0Z10301-000006'],/* 国际化处理： 操作*/\n    //     width: '180px',\n    //     fixed: 'right',\n    //     className: \"table-opr\",\n    //     visible: true,\n    //     render: (text, record, index) => {\n    //         let buttonAry = [];\n    //         //单据没有实际审批业务，注释掉审批状态判断，避免出现表格没有修改按钮情况\n    //         // let billStatus = record[FIELD.billStatus] && record[FIELD.billStatus].value;\n    //         //buttonAry = [LIST_BUTTON.bodyCommit, LIST_BUTTON.bodyUpdate, LIST_BUTTON.bodyDelete, LIST_BUTTON.copy];\n    //         // switch (billStatus) {\n    //         //     case STATUS.NOSTATE:\n    //         //         buttonAry = [LIST_BUTTON.bodyCommit, LIST_BUTTON.bodyUpdate, LIST_BUTTON.bodyDelete, LIST_BUTTON.copy];\n    //         //         break;\n    //         //     case STATUS.PASSING:\n    //         //     case STATUS.COMMIT:\n    //         //     case STATUS.GOINGON:\n    //         //         buttonAry = [LIST_BUTTON.bodyUnCommit, LIST_BUTTON.copy];\n    //         //         break;\n    //         //     default:\n    //         //         buttonAry = [LIST_BUTTON.copy];\n    //         //         break;\n    //         // }\n\n    //         return props.button.createOprationButton(buttonAry, {\n    //             area: LIST.body_btn_code,\n    //             buttonLimit: 4,\n    //             onButtonClick: (props, key) => bodyButtonClick.call(this, props, key, text, record, index)\n    //         });\n    //     }\n    // });\n\n    return meta;\n}\n\n","import {promptBox} from 'nc-lightapp-front';\nimport {\n    listCreate,\n    listRefresh,\n    listHeadDelete,\n    listAttachment,\n    listBillTrack,\n    listCommit,\n    listUnCommit,\n    listLinkApprove,\n    initDataBefore,\n    onPrint,\n    onOutput,\n    listEdit\n} from './listOperator';\nimport {LIST_BUTTON, STATUS, PRIMARY_KEY, LIST, LIST_DISABLED_BUTTON} from '../../constant';\n\n//列表头部按钮操作\nexport function buttonClick(props, id, text, record, index) {\n    switch (id) {\n        //新增\n        case LIST_BUTTON.create:\n            listCreate(props);\n            break;\n        \n        //修改\n        case LIST_BUTTON.bodyUpdate:\n            let selectDatas = props.table && props.table.getCheckedRows(LIST.table_id);\n            let pk = selectDatas[0].data.values[PRIMARY_KEY.head_id] && selectDatas[0].data.values[PRIMARY_KEY.head_id].value;\n            listEdit(props, pk)\n            break;\n\n        //删除\n        case LIST_BUTTON.delete:\n            promptBox({\n                color: STATUS.warning,\n                title: this.state.json['M0Z10301-000000'],/* 国际化处理： 删除*/\n                content: this.state.json['M0Z10301-000001'],/* 国际化处理： 确定删除吗？*/\n                beSureBtnClick: () => {\n                    listHeadDelete({...props, json: this.state.json});\n                    props.button.setButtonDisabled(LIST_DISABLED_BUTTON, true);\n                }\n            });\n            \n            break;\n\n        //附件\n        case LIST_BUTTON.attachment:\n            listAttachment.call(this, {...props, json: this.state.json});\n            break;\n\n        //单据追溯\n        case LIST_BUTTON.billTrack:\n            listBillTrack.call(this, {...props, json: this.state.json});\n            break;\n\n        //审批详情\n        case LIST_BUTTON.approvalLink:\n            listLinkApprove.call(this, {...props, json: this.state.json});\n            break;\n\n        //提交\n        case LIST_BUTTON.commit:\n            listCommit.call(this, {...props, json: this.state.json});\n            break;\n\n        //收回\n        case LIST_BUTTON.unCommit:\n            listUnCommit({...props, json: this.state.json});\n            break;\n\n        //刷新\n        case LIST_BUTTON.refresh:\n            listRefresh({...props, json: this.state.json});\n            break;\n\n        //初始化数据\n        case LIST_BUTTON.setInitData:\n            initDataBefore({...props, json: this.state.json});\n            break;\n        //打印\n        case LIST_BUTTON.print:\n            onPrint({...props, json: this.state.json});\n            break;\n        //输出\n        case LIST_BUTTON.output:\n            onOutput.call(this,{ ...props, json: this.state.json });\n            break;\n    }\n}","import { listSearch } from './listOperator';\n\n//点击查询，获取查询区数据\nexport function searchBtnClick(props) {\n        listSearch(props);\n}\n","import React, {Component} from 'react';\nimport {createPage, createPageIcon, cardCache, high} from 'nc-lightapp-front';\nimport {initTemplate} from './events/initTemplate';\nimport {buttonClick} from './events/buttonClick';\nimport {searchBtnClick} from './events/searchBtnClick';\nimport {selectedEvent, selectedAllEvent} from './events/selectedEvent';\nimport {LIST_BUTTON, SEARCH_CACHE, LIST, MULTILANG, PRIMARY_KEY, BILL_TYPE_CODE,APPCODE, REQUEST_URL} from '../constant';\nimport {pageInfoClick, handleDoubleClick, listCommit} from './events/listOperator';\nconst { PrintOutput } = high;\n\nclass List extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            json: {},\n            showUploader: false,\n            billInfo: {},\n            compositeData: null, //指派信息\n            compositeDisplay: false, //是否显示指派\n            curPk: null, //当前选中数据的pk\n            showApproveDetail: false, //是否显示审批详情\n            billId: null\n        };\n        props.use.table(LIST.table_id);\n    }\n\n    componentWillMount() {\n        // json： 多语json格式参数；\n        // status： 是否请求到json多语，可用来判断多语资源是否请求到并进行一些别的操作；\n        // inlt： 可用来进行占位符的一些操作\n        let callback = (json, status, inlt) => {\n            if (status) {\n                initTemplate.call(this, this.props); // 如模板内也有多语处理，平台推荐模板加载操作放于此处， 在取到json多语资源后用传参的方式传入intemplate模板函数中\n\n                // 保存json和inlt到页面state中并刷新页面\n                this.setState({ json, inlt });\n            }\n        };\n        this.props.MultiInit.getMultiLang({moduleId: MULTILANG.moduleId, domainName: MULTILANG.domainName, callback});\n    }\n\n    componentDidMount() {\n        let {getDefData} = cardCache;\n        if (getDefData(SEARCH_CACHE.key, SEARCH_CACHE.dataSource)) {\n            this.props.button.setDisabled({\n                [LIST_BUTTON.refresh]: false\n            });\n        } else {\n            this.props.button.setDisabled({\n                [LIST_BUTTON.refresh]: true\n            });\n        }\n    }\n\n    handlePageInfoChange = (props, config, pks) => {\n        pageInfoClick({...props, json: this.state.json}, config, pks);\n    };\n\n    onRowDoubleClick = (record, index, props) => {\n        handleDoubleClick(record, index, {...props, json: this.state.json});\n    };\n\n    clickSearchBtn = (props) => {\n        searchBtnClick({...props, json: this.state.json});\n    };\n\n    afterEvent=(key,value)=>{\n        if(key===\"idissys\"){\n            //目标系统单据类型添加参照过滤\n            this.props.search.setTemlateByField(LIST.search_id, \"idissysbilltype\",\n                \"queryCondition\", {idissys:value,GridRefActionExt: 'nccloud.web.hpf.sumrulevo.refsqlbuilder.AllBillRefSqlBuilder'});\n            this.props.search.setSearchValByField(LIST.search_id,\"idissysbilltype\",{display:\"\",value:\"\"});\n        }\n        if(key===\"idissysbilltype\"){\n            //目标系统\n            let idissys=this.props.search.getSearchValByField(LIST.search_id,\"idissys\").value.firstvalue;\n            //中间表元数据添加参照过滤\n            this.props.search.setTemlateByField(LIST.search_id,\"midmetadata\",\n                \"queryCondition\",\n                { idissys, idissysbilltype_code: value.refcode, idissysbilltype_pk: value.refpk, GridRefActionExt: 'nccloud.web.hpf.sumrulevo.refsqlbuilder.MdEntityRefSqlBuilder' });\n        }\n    };\n\n    clickSelectBtn = (props, moduleId, record, index, status) => {\n        selectedEvent(props, moduleId, record, index, status);\n    };\n\n    clickSelectAllBtn = (props, moduleId, status, length) => {\n        selectedAllEvent(props, moduleId, status, length);\n    };\n\n    //指派提交\n    getAssignUser = (value) => {\n        listCommit({...this.props, json: this.state.json}, {\n            pks: this.state.curPk,\n            userObj: value\n        });\n        this.compositeTurnOff();\n    };\n\n    //关闭指派\n    compositeTurnOff = () => {\n        this.setState({\n            compositeData: null,\n            compositeDisplay: false\n        });\n    };\n\n    render() {\n        let {table, search} = this.props;\n        let {createSimpleTable} = table;\n        let {NCCreateSearch} = search;\n        let {NCUploader, BillTrack, ApprovalTrans, ApproveDetail} = high;\n        return (\n            <div className=\"nc-bill-list\">\n                <div className=\"nc-bill-header-area\">\n                    <div className=\"header-title-search-area\">\n                        {createPageIcon()}\n                        <h2 className=\"title-search-detail\">数据汇总规则</h2>\n                    </div>\n\n                    <div className=\"header-button-area\">\n                        {this.props.button.createButtonApp({\n                            area: LIST.head_btn_code,\n                            onButtonClick: buttonClick.bind(this)\n                        })}\n                    </div>\n                </div>\n\n                <div className=\"nc-bill-search-area\">\n                    {NCCreateSearch(LIST.search_id, {\n                        clickSearchBtn: this.clickSearchBtn,\n                        onAfterEvent:this.afterEvent\n                    })}\n                </div>\n\n                <div className=\"nc-bill-table-area\">\n                    {createSimpleTable(LIST.table_id, {\n                        showCheck: true,\n                        showIndex: true, //显示序号\n                        dataSource: SEARCH_CACHE.dataSource,\n                        pkname: PRIMARY_KEY.head_id,\n                        handlePageInfoChange: this.handlePageInfoChange,\n                        onRowDoubleClick: this.onRowDoubleClick,\n                        onSelected: this.clickSelectBtn,\n                        onSelectedAll: this.clickSelectAllBtn\n                    })}\n                </div>\n\n                {/* 附件 */}\n                {this.state.showUploader && (\n                    <NCUploader\n                        placement={'bottom'}\n                        {...this.state.billInfo}\n                        onHide={() => {\n                            this.setState({\n                                showUploader: false\n                            });\n                        }}\n                    />\n                )}\n\n                {/*联查单据追溯*/}\n                {\n                    <BillTrack\n                        show={this.state.showBillTrack}\n                        close={() => {\n                            this.setState({showBillTrack: false});\n                        }}\n                        pk={this.state.billTrackBillId}\n                        type={this.state.billTrackBillType}\n                    />\n                }\n\n                {/* 指派 */}\n                {this.state.compositeDisplay && (\n                    <ApprovalTrans\n                        title={this.state.json['M0Z10301-000018']} /* 国际化处理： 指派*/\n                        data={this.state.compositeData}\n                        display={this.state.compositeDisplay}\n                        getResult={this.getAssignUser}\n                        cancel={this.compositeTurnOff}\n                    />\n                )}\n\n                {/*/!* 联查审批详情 *!/*/}\n                {/*{*/}\n                {/*    <ApproveDetail*/}\n                {/*        show={this.state.showApproveDetail}*/}\n                {/*        billtype={BILL_TYPE_CODE}*/}\n                {/*        billid={this.state.billId}*/}\n                {/*        close={() => {*/}\n                {/*            this.setState({*/}\n                {/*                showApproveDetail: false*/}\n                {/*            });*/}\n                {/*        }}*/}\n                {/*    />*/}\n                {/*}*/}\n                <PrintOutput\n                    ref='printOutput'\n                    url={REQUEST_URL.print}\n                    data={{\n                        funcode: APPCODE,//功能节点编码\n                        nodekey: APPCODE,//模板节点编码\n                        oids: this.state.ids,\n                        outputType: 'output'\n                    }}\n                />\n            </div>\n        );\n    }\n}\n\nList = createPage({})(List);\nexport default List;\n","module.exports = __WEBPACK_EXTERNAL_MODULE__5118__;","module.exports = __WEBPACK_EXTERNAL_MODULE__6487__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { asyncComponent } from 'nc-lightapp-front';\nimport list from '../list';\n\n/**\n* @description: 页面路由\n* 保留注释 webpackChunkName:项目名/模块名/组件名/...\n*/\nconst card = asyncComponent(() =>\n        import(/*webpackChunkName: \"fmc/fmc/cost/card/card\"*/ /* webpackMode: \"eager\" */ '../card')\n);\n\nconst routes = [\n        {\n                path: '/',\n                component: list,\n                exact: true\n        },\n        {\n                path: '/list',\n                component: list\n        },\n        {\n                path: '/card',\n                component: card\n        }\n];\n\nexport default routes;\n","import { RenderRouter } from 'nc-lightapp-front';\nimport routes from './router';\n\n(function main(routers, htmlTagid) {\n        RenderRouter(routers, htmlTagid);\n})(routes, 'app');\n"],"names":["CARD","CARD_BUTTON","STATUS","PRIMARY_KEY","FIELD","CARD_DISABLED_BUTTON","editcfg","buttonVisibilityControl","props","buttons","button","getButtons","length","status","getUrlParam","id","isBrowse","browse","billStatus","form","getFormItemsValue","form_id","value","btnObj","showBtn","editBtn","save","saveAdd","saveCommit","cancel","addRow","deleteRow","copyRows","insertRow","delRow","copyRow","pasteHere","expand","unionBtn","billTrack","approvalLink","parentButtons","map","item","key","allBtns","create","update","delete","copy","output","commonBtn","attachment","print","refresh","fold","unfold","NOSTATE","commit","PASSING","COMMIT","GOINGON","unCommit","includes","setButtonVisible","setButtonDisabled","cardTable","setStatus","table_code","edit","idissys","idissysbilltype","has","indexs","getAllRows","forEach","index","get","indexOf","values","fieldcode","push","setEditableByIndex","setFormStatus","deepClone","bodyButtonClick","text","record","rowno","getRowNo","display","toString","checkedRows","getCheckedRows","checkedIndex","delRowsByIndex","openTabModel","toggleTabRowView","pasteRow","body_id","copyControl","call","pasteCancel","pasteTail","lastIndex","getNumberOfRows","insertRowsAfterIndex","getPasteRows","selectAllRows","rows","maxRowNo","row","parseInt","flag","setAllCheckboxAble","setState","isPaste","selectRowCopy","selectArr","data","selected","head_id","CARD_ADD_DISABLED_BUTTON","REQUEST_URL","DATASOURCE","initData","promptBox","ajax","afterHeadEvent","moduleId","oldValue","org","resMetaAfterPkorgEdit","color","title","content","noFooter","noCancelBtn","beSureBtnName","cancelBtnName","hasCloseBtn","beSureBtnClick","setFormItemsValue","midmetadata","clearTable","cancelBtnClick","pk_org","closeByClickBackDrop","showLoading","tableid","defaulttablename","hideTableCol","url","queryColumn","success","res","gridData","fieldid","fieldname","error","console","log","delRowByRowId","rowid","meta","getMeta","items","attrcode","refcode","visible","setMeta","cardCache","toast","CARD_CACHE","BILL_TYPE_CODE","updateCache","addCache","getNextId","deleteCacheById","getCacheById","getCurrentLastId","cardBack","pushTo","toList","cardCreate","setUrlParam","add","initMetaByPkorg","clearAll","setByStatus","getDefData","context","dataSource","org_Name","userName","window","parent","GETBUSINESSINFO","userId","now","getNowDateTime","creator","creationtime","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","BillHeadInfo","setBillHeadInfoVisible","showBackBtn","showBillCode","billCode","bill_no","orgVersionView","showflag","obj","setFormItemsVisible","EmptyAllFormValue","setTableData","copyClear","setColValue","num","updateArray","i","setRowStatusByIndexs","isCopy","cardSave","Promise","resolve","rejected","isCheckNow","checkTableRequired","createMasterChildData","page_code","validateToSave","json","formulamsg","Array","dealFormulamsg","head","setAllFormValue","body","cardUpdate","modifier","modifiedtime","cardCopy","cardDelete","pk","ts","pkMapTs","Map","set","pks","nextId","lastId","getCardData","isRefresh","callBack","cardData","showHideColsCtrl","queryCard","pagecode","danger","message","cardCancel","resetTableData","currentLastId","cardRefresh","pageClick","cardAttachment","billId","billNo","showUploader","state","billInfo","cardBillTrack","showBillTrack","billTrackBillId","billTrackBillType","cardLinkApprove","showApproveDetail","cardCommit","workflow","compositeData","compositeDisplay","curPk","warning","cardUnCommit","initTemplate","createUIDom","setButtons","template","modifierMeta","setDefData","queryCondition","funcode","getSearchParam","buttonClick","hotkey","isFromSide","back","then","closeModel","beforeHeadEvent","reject","find","GridRefActionExt","idissysbilltype_pk","beforeTableEvent","classid","afterTableEvent","changedrows","type","method","setValByKeyAndIndex","refpk","refname","code","bodySelectedEvent","bodySelectedAllEvent","React","Component","createPage","base","high","MULTILANG","NCAffix","NCLoading","Card","componentWillMount","callback","inlt","MultiInit","getMultiLang","domainName","onbeforeunload","getStatus","componentDidMount","render","cardPagination","createCardPagination","createForm","createCardTable","createBillHeadInfo","NCUploader","BillTrack","ApprovalTrans","ApproveDetail","div","className","backBtnClick","bind","createButtonApp","area","head_btn_code","onButtonClick","style","float","pkname","handlePageInfoChange","onAfterEvent","onBeforeEvent","tableHead","getTableHead","showCheck","showIndex","onSelected","onSelectedAll","adaptionHeight","modelSave","undefined","placement","onHide","show","close","getResult","getAssignUser","compositeTurnOff","fullScreen","showBackDrop","tip","constructor","shoulder_btn_code","popContainer","document","querySelector","userObj","use","billinfo","billtype","headcode","bodycode","APPCODE","LIST","page_title","search_id","table_id","body_btn_code","table_edit_code","table_browse_code","SEARCH_CACHE","base_path","queryList","queryListByPks","setInitDataBefore","setInitData","toCard","LIST_BUTTON","linkGroup","bodyUpdate","bodyDelete","bodyCommit","bodyUnCommit","LIST_DISABLED_BUTTON","info","NOPASS","COLS_EDITABLE","sr_xm","listCreate","listRefresh","queryInfo","listSearch","listEdit","listCopy","listCommit","select","checkSelected","valid","selectDatas","PromptMessage","listUnCommit","isCheckOne","table","listAttachment","listBillTrack","listLinkApprove","listHeadDelete","allTableData","getAllTableData","allPks","deleteRowIndexArr","findIndex","v","filter","deleteCacheId","deleteTableRowsByIndex","listBodyDelete","pageInfo","getTablePageInfo","search","getQueryInfo","pageCode","setDisabled","setAllTableData","pageInfoClick","config","msg","total","successNum","failNum","errMsgArr","errormessages","TextArr","groupOperation","duration","groupOperationMsg","handleDoubleClick","scene","initDataBefore","getSearchValByField","firstvalue","split","orgName","flag_clear","onPrint","allData","allpks","appcode","nodekey","oids","outputType","onOutput","ids","refs","printOutput","open","selectedEvent","deleteFlag","isAllNoState","isAllPassing","selectData","busistatus","selectedAllEvent","setPopContent","initialvalue","isMultiSelectedEnabled","orgValue","setSearchValByField","setTemlateByField","pagination","a","cursor","onClick","searchBtnClick","createPageIcon","PrintOutput","List","createSimpleTable","NCCreateSearch","h2","clickSearchBtn","afterEvent","onRowDoubleClick","clickSelectBtn","clickSelectAllBtn","ref","idissysbilltype_code","asyncComponent","list","card","routes","path","component","exact","RenderRouter","main","routers","htmlTagid"],"sourceRoot":""}